(function(a,g){function h(f){var z=f.length,a=k.type(f);return k.isWindow(f)?!1:1===f.nodeType&&z?!0:"array"===a||"function"!==a&&(0===z||"number"==typeof z&&0<z&&z-1 in f)}function b(f){var z=Ya[f]={};return k.each(f.match(ea)||[],function(f,a){z[a]=!0}),z}function e(f,z,a,b){if(k.acceptData(f)){var e,r,q=k.expando,l="string"==typeof z,s=f.nodeType,h=s?k.cache:f,t=s?f[q]:f[q]&&q;if(t&&h[t]&&(b||h[t].data)||!l||a!==g)return t||(s?f[q]=t=pa.pop()||k.guid++:t=q),h[t]||(h[t]={},s||(h[t].toJSON=k.noop)),
("object"==typeof z||"function"==typeof z)&&(b?h[t]=k.extend(h[t],z):h[t].data=k.extend(h[t].data,z)),e=h[t],b||(e.data||(e.data={}),e=e.data),a!==g&&(e[k.camelCase(z)]=a),l?(r=e[z],null==r&&(r=e[k.camelCase(z)])):r=e,r}}function l(f,z,a){if(k.acceptData(f)){var b,e,g,r=f.nodeType,l=r?k.cache:f,h=r?f[k.expando]:k.expando;if(l[h]){if(z&&(g=a?l[h]:l[h].data)){k.isArray(z)?z=z.concat(k.map(z,k.camelCase)):z in g?z=[z]:(z=k.camelCase(z),z=z in g?[z]:z.split(" "));b=0;for(e=z.length;e>b;b++)delete g[z[b]];
if(!(a?q:k.isEmptyObject)(g))return}(a||(delete l[h].data,q(l[h])))&&(r?k.cleanData([f],!0):k.support.deleteExpando||l!=l.window?delete l[h]:l[h]=null)}}}function s(f,z,a){if(a===g&&1===f.nodeType){var b="data-"+z.replace(xb,"-$1").toLowerCase();if(a=f.getAttribute(b),"string"==typeof a){try{a="true"===a?!0:"false"===a?!1:"null"===a?null:+a+""===a?+a:yb.test(a)?k.parseJSON(a):a}catch(e){}k.data(f,z,a)}else a=g}return a}function q(f){for(var z in f)if(("data"!==z||!k.isEmptyObject(f[z]))&&"toJSON"!==
z)return!1;return!0}function y(){return!0}function u(){return!1}function G(f,z){do f=f[z];while(f&&1!==f.nodeType);return f}function D(f,z,a){if(z=z||0,k.isFunction(z))return k.grep(f,function(f,b){return!!z.call(f,b,f)===a});if(z.nodeType)return k.grep(f,function(f){return f===z===a});if("string"==typeof z){var b=k.grep(f,function(f){return 1===f.nodeType});if(zb.test(z))return k.filter(z,b,!a);z=k.filter(z,b)}return k.grep(f,function(f){return 0<=k.inArray(f,z)===a})}function C(f){var z=Za.split("|");
f=f.createDocumentFragment();if(f.createElement)for(;z.length;)f.createElement(z.pop());return f}function w(f){var z=f.getAttributeNode("type");return f.type=(z&&z.specified)+"/"+f.type,f}function x(f){var z=Ab.exec(f.type);return z?f.type=z[1]:f.removeAttribute("type"),f}function B(f,z){for(var a,b=0;null!=(a=f[b]);b++)k._data(a,"globalEval",!z||k._data(z[b],"globalEval"))}function I(f,z){if(1===z.nodeType&&k.hasData(f)){var a,b,e;b=k._data(f);var g=k._data(z,b),r=b.events;if(r)for(a in delete g.handle,
g.events={},r){b=0;for(e=r[a].length;e>b;b++)k.event.add(z,a,r[a][b])}g.data&&(g.data=k.extend({},g.data))}}function H(f,z){var a,b,e=0,r=typeof f.getElementsByTagName!==ca?f.getElementsByTagName(z||"*"):typeof f.querySelectorAll!==ca?f.querySelectorAll(z||"*"):g;if(!r){r=[];for(a=f.childNodes||f;null!=(b=a[e]);e++)!z||k.nodeName(b,z)?r.push(b):k.merge(r,H(b,z))}return z===g||z&&k.nodeName(f,z)?k.merge([f],r):r}function L(f){Ja.test(f.type)&&(f.defaultChecked=f.checked)}function Q(f,z){if(z in f)return z;
for(var a=z.charAt(0).toUpperCase()+z.slice(1),b=z,k=$a.length;k--;)if(z=$a[k]+a,z in f)return z;return b}function O(f,z){return f=z||f,"none"===k.css(f,"display")||!k.contains(f.ownerDocument,f)}function t(f,z){for(var a,b,e,g=[],r=0,q=f.length;q>r;r++)b=f[r],b.style&&(g[r]=k._data(b,"olddisplay"),a=b.style.display,z?(g[r]||"none"!==a||(b.style.display=""),""===b.style.display&&O(b)&&(g[r]=k._data(b,"olddisplay",R(b.nodeName)))):g[r]||(e=O(b),(a&&"none"!==a||!e)&&k._data(b,"olddisplay",e?a:k.css(b,
"display"))));for(r=0;q>r;r++)b=f[r],b.style&&(z&&"none"!==b.style.display&&""!==b.style.display||(b.style.display=z?g[r]||"":"none"));return f}function P(f,z,a){return(f=Bb.exec(z))?Math.max(0,f[1]-(a||0))+(f[2]||"px"):z}function K(f,z,a,b,e){z=a===(b?"border":"content")?4:"width"===z?1:0;for(var g=0;4>z;z+=2)"margin"===a&&(g+=k.css(f,a+ma[z],!0,e)),b?("content"===a&&(g-=k.css(f,"padding"+ma[z],!0,e)),"margin"!==a&&(g-=k.css(f,"border"+ma[z]+"Width",!0,e))):(g+=k.css(f,"padding"+ma[z],!0,e),"padding"!==
a&&(g+=k.css(f,"border"+ma[z]+"Width",!0,e)));return g}function M(f,z,a){var b=!0,e="width"===z?f.offsetWidth:f.offsetHeight,g=na(f),r=k.support.boxSizing&&"border-box"===k.css(f,"boxSizing",!1,g);if(0>=e||null==e){if(e=ha(f,z,g),(0>e||null==e)&&(e=f.style[z]),Ea.test(e))return e;b=r&&(k.support.boxSizingReliable||e===f.style[z]);e=parseFloat(e)||0}return e+K(f,z,a||(r?"border":"content"),b,g)+"px"}function R(f){var z=N,a=ab[f];return a||(a=E(f,z),"none"!==a&&a||(xa=(xa||k("<iframe frameborder='0' width='0' height='0'/>").css("cssText",
"display:block !important")).appendTo(z.documentElement),z=(xa[0].contentWindow||xa[0].contentDocument).document,z.write("<!doctype html><html><body>"),z.close(),a=E(f,z),xa.detach()),ab[f]=a),a}function E(f,a){var b=k(a.createElement(f)).appendTo(a.body),e=k.css(b[0],"display");return b.remove(),e}function W(f,a,b,e){var g;if(k.isArray(a))k.each(a,function(a,z){b||Cb.test(f)?e(f,z):W(f+"["+("object"==typeof z?a:"")+"]",z,b,e)});else if(b||"object"!==k.type(a))e(f,a);else for(g in a)W(f+"["+g+"]",
a[g],b,e)}function Z(f){return function(a,b){"string"!=typeof a&&(b=a,a="*");var e,g=0,r=a.toLowerCase().match(ea)||[];if(k.isFunction(b))for(;e=r[g++];)"+"===e[0]?(e=e.slice(1)||"*",(f[e]=f[e]||[]).unshift(b)):(f[e]=f[e]||[]).push(b)}}function T(f,a,b,e){function r(h){var s;return q[h]=!0,k.each(f[h]||[],function(f,k){var h=k(a,b,e);return"string"!=typeof h||l||q[h]?l?!(s=h):g:(a.dataTypes.unshift(h),r(h),!1)}),s}var q={},l=f===Ka;return r(a.dataTypes[0])||!q["*"]&&r("*")}function V(f,a){var b,e,
r=k.ajaxSettings.flatOptions||{};for(e in a)a[e]!==g&&((r[e]?f:b||(b={}))[e]=a[e]);return b&&k.extend(!0,f,b),f}function X(){try{return new a.XMLHttpRequest}catch(f){}}function A(){return setTimeout(function(){qa=g}),qa=k.now()}function Y(f,a){k.each(a,function(a,b){for(var z=(za[a]||[]).concat(za["*"]),e=0,k=z.length;k>e&&!z[e].call(f,a,b);e++);})}function r(f,a,b){var e,g=0,r=Fa.length,q=k.Deferred().always(function(){delete l.elem}),l=function(){if(e)return!1;for(var a=qa||A(),a=Math.max(0,h.startTime+
h.duration-a),b=1-(a/h.duration||0),z=0,k=h.tweens.length;k>z;z++)h.tweens[z].run(b);return q.notifyWith(f,[h,b,a]),1>b&&k?a:(q.resolveWith(f,[h]),!1)},h=q.promise({elem:f,props:k.extend({},a),opts:k.extend(!0,{specialEasing:{}},b),originalProperties:a,originalOptions:b,startTime:qa||A(),duration:b.duration,tweens:[],createTween:function(a,b){var z=k.Tween(f,h.opts,a,b,h.opts.specialEasing[a]||h.opts.easing);return h.tweens.push(z),z},stop:function(a){var b=0,z=a?h.tweens.length:0;if(e)return this;
for(e=!0;z>b;b++)h.tweens[b].run(1);return a?q.resolveWith(f,[h,a]):q.rejectWith(f,[h,a]),this}});b=h.props;for(F(b,h.opts.specialEasing);r>g;g++)if(a=Fa[g].call(h,f,b,h.opts))return a;return Y(h,b),k.isFunction(h.opts.start)&&h.opts.start.call(f,h),k.fx.timer(k.extend(l,{elem:f,anim:h,queue:h.opts.queue})),h.progress(h.opts.progress).done(h.opts.done,h.opts.complete).fail(h.opts.fail).always(h.opts.always)}function F(f,a){var b,e,g,r,q;for(g in f)if(e=k.camelCase(g),r=a[e],b=f[g],k.isArray(b)&&(r=
b[1],b=f[g]=b[0]),g!==e&&(f[e]=b,delete f[g]),q=k.cssHooks[e],q&&"expand"in q)for(g in b=q.expand(b),delete f[e],b)g in f||(f[g]=b[g],a[g]=r);else a[e]=r}function S(f,a,b,e,k){return new S.prototype.init(f,a,b,e,k)}function J(f,a){var b,e={height:f},k=0;for(a=a?1:0;4>k;k+=2-a)b=ma[k],e["margin"+b]=e["padding"+b]=f;return a&&(e.opacity=e.width=f),e}function ra(f){return k.isWindow(f)?f:9===f.nodeType?f.defaultView||f.parentWindow:!1}var U,ga,ca=typeof g,N=a.document,ba=a.location,aa=a.jQuery,sa=a.$,
ja={},pa=[],Aa=pa.concat,ya=pa.push,fa=pa.slice,Ba=pa.indexOf,La=ja.toString,Ca=ja.hasOwnProperty,Ma="1.9.1".trim,k=function(f,a){return new k.fn.init(f,a,ga)},Ga=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ea=/\S+/g,Db=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,Eb=/^(?:(<[\w\W]+>)[^>]*|#([\w-]*))$/,bb=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,Fb=/^[\],:{}\s]*$/,Gb=/(?:^|:|,)(?:\s*\[)+/g,Hb=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,Ib=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,Jb=/^-ms-/,Kb=/-([\da-z])/gi,
Lb=function(f,a){return a.toUpperCase()},ka=function(f){(N.addEventListener||"load"===f.type||"complete"===N.readyState)&&(cb(),k.ready())},cb=function(){N.addEventListener?(N.removeEventListener("DOMContentLoaded",ka,!1),a.removeEventListener("load",ka,!1)):(N.detachEvent("onreadystatechange",ka),a.detachEvent("onload",ka))};k.fn=k.prototype={jquery:"1.9.1",constructor:k,init:function(f,a,b){var e,r;if(!f)return this;if("string"==typeof f){if(e="<"===f.charAt(0)&&">"===f.charAt(f.length-1)&&3<=f.length?
[null,f,null]:Eb.exec(f),!e||!e[1]&&a)return!a||a.jquery?(a||b).find(f):this.constructor(a).find(f);if(e[1]){if(a=a instanceof k?a[0]:a,k.merge(this,k.parseHTML(e[1],a&&a.nodeType?a.ownerDocument||a:N,!0)),bb.test(e[1])&&k.isPlainObject(a))for(e in a)k.isFunction(this[e])?this[e](a[e]):this.attr(e,a[e]);return this}if(r=N.getElementById(e[2]),r&&r.parentNode){if(r.id!==e[2])return b.find(f);this.length=1;this[0]=r}return this.context=N,this.selector=f,this}return f.nodeType?(this.context=this[0]=
f,this.length=1,this):k.isFunction(f)?b.ready(f):(f.selector!==g&&(this.selector=f.selector,this.context=f.context),k.makeArray(f,this))},selector:"",length:0,size:function(){return this.length},toArray:function(){return fa.call(this)},get:function(f){return null==f?this.toArray():0>f?this[this.length+f]:this[f]},pushStack:function(f){f=k.merge(this.constructor(),f);return f.prevObject=this,f.context=this.context,f},each:function(f,a){return k.each(this,f,a)},ready:function(f){return k.ready.promise().done(f),
this},slice:function(){return this.pushStack(fa.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(f){var a=this.length;f=+f+(0>f?a:0);return this.pushStack(0<=f&&a>f?[this[f]]:[])},map:function(f){return this.pushStack(k.map(this,function(a,b){return f.call(a,b,a)}))},end:function(){return this.prevObject||this.constructor(null)},push:ya,sort:[].sort,splice:[].splice};k.fn.init.prototype=k.fn;k.extend=k.fn.extend=function(){var f,a,b,e,r,q,
h=arguments[0]||{},l=1,s=arguments.length,t=!1;"boolean"==typeof h&&(t=h,h=arguments[1]||{},l=2);"object"==typeof h||k.isFunction(h)||(h={});for(s===l&&(h=this,--l);s>l;l++)if(null!=(r=arguments[l]))for(e in r)f=h[e],b=r[e],h!==b&&(t&&b&&(k.isPlainObject(b)||(a=k.isArray(b)))?(a?(a=!1,q=f&&k.isArray(f)?f:[]):q=f&&k.isPlainObject(f)?f:{},h[e]=k.extend(t,q,b)):b!==g&&(h[e]=b));return h};k.extend({noConflict:function(f){return a.$===k&&(a.$=sa),f&&a.jQuery===k&&(a.jQuery=aa),k},isReady:!1,readyWait:1,
holdReady:function(f){f?k.readyWait++:k.ready(!0)},ready:function(f){if(!0===f?!--k.readyWait:!k.isReady){if(!N.body)return setTimeout(k.ready);k.isReady=!0;!0!==f&&0<--k.readyWait||(U.resolveWith(N,[k]),k.fn.trigger&&k(N).trigger("ready").off("ready"))}},isFunction:function(f){return"function"===k.type(f)},isArray:Array.isArray||function(f){return"array"===k.type(f)},isWindow:function(f){return null!=f&&f==f.window},isNumeric:function(f){return!isNaN(parseFloat(f))&&isFinite(f)},type:function(f){return null==
f?f+"":"object"==typeof f||"function"==typeof f?ja[La.call(f)]||"object":typeof f},isPlainObject:function(f){if(!f||"object"!==k.type(f)||f.nodeType||k.isWindow(f))return!1;try{if(f.constructor&&!Ca.call(f,"constructor")&&!Ca.call(f.constructor.prototype,"isPrototypeOf"))return!1}catch(a){return!1}for(var b in f);return b===g||Ca.call(f,b)},isEmptyObject:function(f){for(var a in f)return!1;return!0},error:function(f){throw Error(f);},parseHTML:function(f,a,b){if(!f||"string"!=typeof f)return null;
"boolean"==typeof a&&(b=a,a=!1);a=a||N;var e=bb.exec(f);b=!b&&[];return e?[a.createElement(e[1])]:(e=k.buildFragment([f],a,b),b&&k(b).remove(),k.merge([],e.childNodes))},parseJSON:function(f){return a.JSON&&a.JSON.parse?a.JSON.parse(f):null===f?f:"string"==typeof f&&(f=k.trim(f),f&&Fb.test(f.replace(Hb,"@").replace(Ib,"]").replace(Gb,"")))?Function("return "+f)():(k.error("Invalid JSON: "+f),g)},parseXML:function(f){var b,e;if(!f||"string"!=typeof f)return null;try{a.DOMParser?(e=new DOMParser,b=
e.parseFromString(f,"text/xml")):(b=new ActiveXObject("Microsoft.XMLDOM"),b.async="false",b.loadXML(f))}catch(r){b=g}return b&&b.documentElement&&!b.getElementsByTagName("parsererror").length||k.error("Invalid XML: "+f),b},noop:function(){},globalEval:function(f){f&&k.trim(f)&&(a.execScript||function(f){a.eval.call(a,f)})(f)},camelCase:function(f){return f.replace(Jb,"ms-").replace(Kb,Lb)},nodeName:function(f,a){return f.nodeName&&f.nodeName.toLowerCase()===a.toLowerCase()},each:function(f,a,b){var e,
k=0,g=f.length,r=h(f);if(b)if(r)for(;g>k&&!(e=a.apply(f[k],b),!1===e);k++);else for(k in f){if(e=a.apply(f[k],b),!1===e)break}else if(r)for(;g>k&&!(e=a.call(f[k],k,f[k]),!1===e);k++);else for(k in f)if(e=a.call(f[k],k,f[k]),!1===e)break;return f},trim:Ma&&!Ma.call("\ufeff\u00a0")?function(f){return null==f?"":Ma.call(f)}:function(f){return null==f?"":(f+"").replace(Db,"")},makeArray:function(f,a){var b=a||[];return null!=f&&(h(Object(f))?k.merge(b,"string"==typeof f?[f]:f):ya.call(b,f)),b},inArray:function(f,
a,b){var e;if(a){if(Ba)return Ba.call(a,f,b);e=a.length;for(b=b?0>b?Math.max(0,e+b):b:0;e>b;b++)if(b in a&&a[b]===f)return b}return-1},merge:function(f,a){var b=a.length,e=f.length,k=0;if("number"==typeof b)for(;b>k;k++)f[e++]=a[k];else for(;a[k]!==g;)f[e++]=a[k++];return f.length=e,f},grep:function(f,a,b){var e,k=[],g=0,r=f.length;for(b=!!b;r>g;g++)e=!!a(f[g],g),b!==e&&k.push(f[g]);return k},map:function(f,a,b){var e,k=0,g=f.length,r=[];if(h(f))for(;g>k;k++)e=a(f[k],k,b),null!=e&&(r[r.length]=e);
else for(k in f)e=a(f[k],k,b),null!=e&&(r[r.length]=e);return Aa.apply([],r)},guid:1,proxy:function(f,a){var b,e,r;return"string"==typeof a&&(r=f[a],a=f,f=r),k.isFunction(f)?(b=fa.call(arguments,2),e=function(){return f.apply(a||this,b.concat(fa.call(arguments)))},e.guid=f.guid=f.guid||k.guid++,e):g},access:function(f,a,b,e,r,q,h){var l=0,s=f.length,t=null==b;if("object"===k.type(b))for(l in r=!0,b)k.access(f,a,l,b[l],!0,q,h);else if(e!==g&&(r=!0,k.isFunction(e)||(h=!0),t&&(h?(a.call(f,e),a=null):
(t=a,a=function(f,a,b){return t.call(k(f),b)})),a))for(;s>l;l++)a(f[l],b,h?e:e.call(f[l],l,a(f[l],b)));return r?f:t?a.call(f):s?a(f[0],b):q},now:function(){return(new Date).getTime()}});k.ready.promise=function(f){if(!U)if(U=k.Deferred(),"complete"===N.readyState)setTimeout(k.ready);else if(N.addEventListener)N.addEventListener("DOMContentLoaded",ka,!1),a.addEventListener("load",ka,!1);else{N.attachEvent("onreadystatechange",ka);a.attachEvent("onload",ka);var b=!1;try{b=null==a.frameElement&&N.documentElement}catch(e){}b&&
b.doScroll&&function wb(){if(!k.isReady){try{b.doScroll("left")}catch(f){return setTimeout(wb,50)}cb();k.ready()}}()}return U.promise(f)};k.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(f,a){ja["[object "+a+"]"]=a.toLowerCase()});ga=k(N);var Ya={};k.Callbacks=function(f){f="string"==typeof f?Ya[f]||b(f):k.extend({},f);var a,e,r,q,h,l,s=[],t=!f.once&&[],A=function(b){e=f.memory&&b;r=!0;h=l||0;l=0;q=s.length;for(a=!0;s&&q>h;h++)if(!1===s[h].apply(b[0],b[1])&&
f.stopOnFalse){e=!1;break}a=!1;s&&(t?t.length&&A(t.shift()):e?s=[]:F.disable())},F={add:function(){if(s){var b=s.length;(function Mb(a){k.each(a,function(a,b){var e=k.type(b);"function"===e?f.unique&&F.has(b)||s.push(b):b&&b.length&&"string"!==e&&Mb(b)})})(arguments);a?q=s.length:e&&(l=b,A(e))}return this},remove:function(){return s&&k.each(arguments,function(f,b){for(var e;-1<(e=k.inArray(b,s,e));)s.splice(e,1),a&&(q>=e&&q--,h>=e&&h--)}),this},has:function(f){return f?-1<k.inArray(f,s):!(!s||!s.length)},
empty:function(){return s=[],this},disable:function(){return s=t=e=g,this},disabled:function(){return!s},lock:function(){return t=g,e||F.disable(),this},locked:function(){return!t},fireWith:function(f,b){return b=b||[],b=[f,b.slice?b.slice():b],!s||r&&!t||(a?t.push(b):A(b)),this},fire:function(){return F.fireWith(this,arguments),this},fired:function(){return!!r}};return F};k.extend({Deferred:function(f){var a=[["resolve","done",k.Callbacks("once memory"),"resolved"],["reject","fail",k.Callbacks("once memory"),
"rejected"],["notify","progress",k.Callbacks("memory")]],b="pending",e={state:function(){return b},always:function(){return g.done(arguments).fail(arguments),this},then:function(){var f=arguments;return k.Deferred(function(b){k.each(a,function(a,z){var r=z[0],q=k.isFunction(f[a])&&f[a];g[z[1]](function(){var f=q&&q.apply(this,arguments);f&&k.isFunction(f.promise)?f.promise().done(b.resolve).fail(b.reject).progress(b.notify):b[r+"With"](this===e?b.promise():this,q?[f]:arguments)})});f=null}).promise()},
promise:function(f){return null!=f?k.extend(f,e):e}},g={};return e.pipe=e.then,k.each(a,function(f,k){var r=k[2],q=k[3];e[k[1]]=r.add;q&&r.add(function(){b=q},a[1^f][2].disable,a[2][2].lock);g[k[0]]=function(){return g[k[0]+"With"](this===g?e:this,arguments),this};g[k[0]+"With"]=r.fireWith}),e.promise(g),f&&f.call(g,g),g},when:function(f){var a=0,b=fa.call(arguments),e=b.length,g=1!==e||f&&k.isFunction(f.promise)?e:0,r=1===g?f:k.Deferred(),q=function(f,a,b){return function(e){a[f]=this;b[f]=1<arguments.length?
fa.call(arguments):e;b===h?r.notifyWith(a,b):--g||r.resolveWith(a,b)}},h,l,s;if(1<e){h=Array(e);l=Array(e);for(s=Array(e);e>a;a++)b[a]&&k.isFunction(b[a].promise)?b[a].promise().done(q(a,s,b)).fail(r.reject).progress(q(a,l,h)):--g}return g||r.resolveWith(s,b),r.promise()}});k.support=function(){var f,b,e,g,r,q,h,l=N.createElement("div");if(l.setAttribute("className","t"),l.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",b=l.getElementsByTagName("*"),e=l.getElementsByTagName("a")[0],
!b||!e||!b.length)return{};g=N.createElement("select");r=g.appendChild(N.createElement("option"));b=l.getElementsByTagName("input")[0];e.style.cssText="top:1px;float:left;opacity:.5";f={getSetAttribute:"t"!==l.className,leadingWhitespace:3===l.firstChild.nodeType,tbody:!l.getElementsByTagName("tbody").length,htmlSerialize:!!l.getElementsByTagName("link").length,style:/top/.test(e.getAttribute("style")),hrefNormalized:"/a"===e.getAttribute("href"),opacity:/^0.5/.test(e.style.opacity),cssFloat:!!e.style.cssFloat,
checkOn:!!b.value,optSelected:r.selected,enctype:!!N.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==N.createElement("nav").cloneNode(!0).outerHTML,boxModel:"CSS1Compat"===N.compatMode,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1};b.checked=!0;f.noCloneChecked=b.cloneNode(!0).checked;g.disabled=!0;f.optDisabled=!r.disabled;try{delete l.test}catch(s){f.deleteExpando=!1}b=N.createElement("input");
b.setAttribute("value","");f.input=""===b.getAttribute("value");b.value="t";b.setAttribute("type","radio");f.radioValue="t"===b.value;b.setAttribute("checked","t");b.setAttribute("name","t");e=N.createDocumentFragment();e.appendChild(b);f.appendChecked=b.checked;f.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked;l.attachEvent&&(l.attachEvent("onclick",function(){f.noCloneEvent=!1}),l.cloneNode(!0).click());for(h in{submit:!0,change:!0,focusin:!0})l.setAttribute(e="on"+h,"t"),f[h+"Bubbles"]=
e in a||!1===l.attributes[e].expando;return l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",f.clearCloneStyle="content-box"===l.style.backgroundClip,k(function(){var b,e,k,z=N.getElementsByTagName("body")[0];z&&(b=N.createElement("div"),b.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",z.appendChild(b).appendChild(l),l.innerHTML="<table><tr><td></td><td>t</td></tr></table>",k=l.getElementsByTagName("td"),k[0].style.cssText=
"padding:0;margin:0;border:0;display:none",q=0===k[0].offsetHeight,k[0].style.display="",k[1].style.display="none",f.reliableHiddenOffsets=q&&0===k[0].offsetHeight,l.innerHTML="",l.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",f.boxSizing=4===l.offsetWidth,f.doesNotIncludeMarginInBodyOffset=1!==z.offsetTop,a.getComputedStyle&&(f.pixelPosition="1%"!==(a.getComputedStyle(l,
null)||{}).top,f.boxSizingReliable="4px"===(a.getComputedStyle(l,null)||{width:"4px"}).width,e=l.appendChild(N.createElement("div")),e.style.cssText=l.style.cssText="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",e.style.marginRight=e.style.width="0",l.style.width="1px",f.reliableMarginRight=!parseFloat((a.getComputedStyle(e,null)||{}).marginRight)),typeof l.style.zoom!==ca&&(l.innerHTML="",l.style.cssText="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;width:1px;padding:1px;display:inline;zoom:1",
f.inlineBlockNeedsLayout=3===l.offsetWidth,l.style.display="block",l.innerHTML="<div></div>",l.firstChild.style.width="5px",f.shrinkWrapBlocks=3!==l.offsetWidth,f.inlineBlockNeedsLayout&&(z.style.zoom=1)),z.removeChild(b),l=null)}),b=g=e=r=e=b=null,f}();var yb=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,xb=/([A-Z])/g;k.extend({cache:{},expando:"jQuery"+("1.9.1"+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(f){return f=f.nodeType?
k.cache[f[k.expando]]:f[k.expando],!!f&&!q(f)},data:function(f,a,b){return e(f,a,b)},removeData:function(f,a){return l(f,a)},_data:function(f,a,b){return e(f,a,b,!0)},_removeData:function(f,a){return l(f,a,!0)},acceptData:function(f){if(f.nodeType&&1!==f.nodeType&&9!==f.nodeType)return!1;var a=f.nodeName&&k.noData[f.nodeName.toLowerCase()];return!a||!0!==a&&f.getAttribute("classid")===a}});k.fn.extend({data:function(f,a){var b,e,r=this[0],q=0,l=null;if(f===g){if(this.length&&(l=k.data(r),1===r.nodeType&&
!k._data(r,"parsedAttrs"))){for(b=r.attributes;b.length>q;q++)e=b[q].name,e.indexOf("data-")||(e=k.camelCase(e.slice(5)),s(r,e,l[e]));k._data(r,"parsedAttrs",!0)}return l}return"object"==typeof f?this.each(function(){k.data(this,f)}):k.access(this,function(a){return a===g?r?s(r,f,k.data(r,f)):null:(this.each(function(){k.data(this,f,a)}),g)},null,a,1<arguments.length,null,!0)},removeData:function(f){return this.each(function(){k.removeData(this,f)})}});k.extend({queue:function(f,a,b){var e;return f?
(a=(a||"fx")+"queue",e=k._data(f,a),b&&(!e||k.isArray(b)?e=k._data(f,a,k.makeArray(b)):e.push(b)),e||[]):g},dequeue:function(f,a){a=a||"fx";var b=k.queue(f,a),e=b.length,r=b.shift(),g=k._queueHooks(f,a),q=function(){k.dequeue(f,a)};"inprogress"===r&&(r=b.shift(),e--);(g.cur=r)&&("fx"===a&&b.unshift("inprogress"),delete g.stop,r.call(f,q,g));!e&&g&&g.empty.fire()},_queueHooks:function(f,a){var b=a+"queueHooks";return k._data(f,b)||k._data(f,b,{empty:k.Callbacks("once memory").add(function(){k._removeData(f,
a+"queue");k._removeData(f,b)})})}});k.fn.extend({queue:function(f,a){var b=2;return"string"!=typeof f&&(a=f,f="fx",b--),b>arguments.length?k.queue(this[0],f):a===g?this:this.each(function(){var b=k.queue(this,f,a);k._queueHooks(this,f);"fx"===f&&"inprogress"!==b[0]&&k.dequeue(this,f)})},dequeue:function(f){return this.each(function(){k.dequeue(this,f)})},delay:function(f,a){return f=k.fx?k.fx.speeds[f]||f:f,a=a||"fx",this.queue(a,function(a,b){var e=setTimeout(a,f);b.stop=function(){clearTimeout(e)}})},
clearQueue:function(f){return this.queue(f||"fx",[])},promise:function(f,a){var b,e=1,r=k.Deferred(),q=this,l=this.length,h=function(){--e||r.resolveWith(q,[q])};"string"!=typeof f&&(a=f,f=g);for(f=f||"fx";l--;)(b=k._data(q[l],f+"queueHooks"))&&b.empty&&(e++,b.empty.add(h));return h(),r.promise(a)}});var ta,db,Na=/[\t\r\n]/g,Nb=/\r/g,Ob=/^(?:input|select|textarea|button|object)$/i,Pb=/^(?:a|area)$/i,eb=/^(?:checked|selected|autofocus|autoplay|async|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped)$/i,
Oa=/^(?:checked|selected)$/i,ia=k.support.getSetAttribute,Pa=k.support.input;k.fn.extend({attr:function(f,a){return k.access(this,k.attr,f,a,1<arguments.length)},removeAttr:function(f){return this.each(function(){k.removeAttr(this,f)})},prop:function(f,a){return k.access(this,k.prop,f,a,1<arguments.length)},removeProp:function(f){return f=k.propFix[f]||f,this.each(function(){try{this[f]=g,delete this[f]}catch(a){}})},addClass:function(f){var a,b,e,r,g,q=0,l=this.length;a="string"==typeof f&&f;if(k.isFunction(f))return this.each(function(a){k(this).addClass(f.call(this,
a,this.className))});if(a)for(a=(f||"").match(ea)||[];l>q;q++)if(b=this[q],e=1===b.nodeType&&(b.className?(" "+b.className+" ").replace(Na," "):" ")){for(g=0;r=a[g++];)0>e.indexOf(" "+r+" ")&&(e+=r+" ");b.className=k.trim(e)}return this},removeClass:function(f){var a,b,e,r,g,q=0,l=this.length;a=0===arguments.length||"string"==typeof f&&f;if(k.isFunction(f))return this.each(function(a){k(this).removeClass(f.call(this,a,this.className))});if(a)for(a=(f||"").match(ea)||[];l>q;q++)if(b=this[q],e=1===
b.nodeType&&(b.className?(" "+b.className+" ").replace(Na," "):"")){for(g=0;r=a[g++];)for(;0<=e.indexOf(" "+r+" ");)e=e.replace(" "+r+" "," ");b.className=f?k.trim(e):""}return this},toggleClass:function(f,a){var b=typeof f,e="boolean"==typeof a;return k.isFunction(f)?this.each(function(b){k(this).toggleClass(f.call(this,b,this.className,a),a)}):this.each(function(){if("string"===b)for(var r,g=0,q=k(this),l=a,h=f.match(ea)||[];r=h[g++];)l=e?l:!q.hasClass(r),q[l?"addClass":"removeClass"](r);else(b===
ca||"boolean"===b)&&(this.className&&k._data(this,"__className__",this.className),this.className=this.className||!1===f?"":k._data(this,"__className__")||"")})},hasClass:function(f){f=" "+f+" ";for(var a=0,b=this.length;b>a;a++)if(1===this[a].nodeType&&0<=(" "+this[a].className+" ").replace(Na," ").indexOf(f))return!0;return!1},val:function(f){var a,b,e,r=this[0];if(arguments.length)return e=k.isFunction(f),this.each(function(a){var r,z=k(this);1===this.nodeType&&(r=e?f.call(this,a,z.val()):f,null==
r?r="":"number"==typeof r?r+="":k.isArray(r)&&(r=k.map(r,function(f){return null==f?"":f+""})),b=k.valHooks[this.type]||k.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&b.set(this,r,"value")!==g||(this.value=r))});if(r)return b=k.valHooks[r.type]||k.valHooks[r.nodeName.toLowerCase()],b&&"get"in b&&(a=b.get(r,"value"))!==g?a:(a=r.value,"string"==typeof a?a.replace(Nb,""):null==a?"":a)}});k.extend({valHooks:{option:{get:function(f){var a=f.attributes.value;return!a||a.specified?f.value:f.text}},
select:{get:function(f){for(var a,b=f.options,e=f.selectedIndex,r="select-one"===f.type||0>e,g=r?null:[],q=r?e+1:b.length,l=0>e?q:r?e:0;q>l;l++)if(a=b[l],!(!a.selected&&l!==e||(k.support.optDisabled?a.disabled:null!==a.getAttribute("disabled"))||a.parentNode.disabled&&k.nodeName(a.parentNode,"optgroup"))){if(f=k(a).val(),r)return f;g.push(f)}return g},set:function(f,a){var b=k.makeArray(a);return k(f).find("option").each(function(){this.selected=0<=k.inArray(k(this).val(),b)}),b.length||(f.selectedIndex=
-1),b}}},attr:function(f,a,b){var e,r,q,l=f.nodeType;if(f&&3!==l&&8!==l&&2!==l)return typeof f.getAttribute===ca?k.prop(f,a,b):(r=1!==l||!k.isXMLDoc(f),r&&(a=a.toLowerCase(),e=k.attrHooks[a]||(eb.test(a)?db:ta)),b===g?e&&r&&"get"in e&&null!==(q=e.get(f,a))?q:(typeof f.getAttribute!==ca&&(q=f.getAttribute(a)),null==q?g:q):null!==b?e&&r&&"set"in e&&(q=e.set(f,b,a))!==g?q:(f.setAttribute(a,b+""),b):(k.removeAttr(f,a),g))},removeAttr:function(f,a){var b,e,r=0,g=a&&a.match(ea);if(g&&1===f.nodeType)for(;b=
g[r++];)e=k.propFix[b]||b,eb.test(b)?!ia&&Oa.test(b)?f[k.camelCase("default-"+b)]=f[e]=!1:f[e]=!1:k.attr(f,b,""),f.removeAttribute(ia?b:e)},attrHooks:{type:{set:function(f,a){if(!k.support.radioValue&&"radio"===a&&k.nodeName(f,"input")){var b=f.value;return f.setAttribute("type",a),b&&(f.value=b),a}}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",
frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(f,a,b){var e,r,q,l=f.nodeType;if(f&&3!==l&&8!==l&&2!==l)return q=1!==l||!k.isXMLDoc(f),q&&(a=k.propFix[a]||a,r=k.propHooks[a]),b!==g?r&&"set"in r&&(e=r.set(f,b,a))!==g?e:f[a]=b:r&&"get"in r&&null!==(e=r.get(f,a))?e:f[a]},propHooks:{tabIndex:{get:function(f){var a=f.getAttributeNode("tabindex");return a&&a.specified?parseInt(a.value,10):Ob.test(f.nodeName)||Pb.test(f.nodeName)&&f.href?0:g}}}});db={get:function(f,a){var b=k.prop(f,
a),e="boolean"==typeof b&&f.getAttribute(a);return(b="boolean"==typeof b?Pa&&ia?null!=e:Oa.test(a)?f[k.camelCase("default-"+a)]:!!e:f.getAttributeNode(a))&&!1!==b.value?a.toLowerCase():g},set:function(f,a,b){return!1===a?k.removeAttr(f,b):Pa&&ia||!Oa.test(b)?f.setAttribute(!ia&&k.propFix[b]||b,b):f[k.camelCase("default-"+b)]=f[b]=!0,b}};Pa&&ia||(k.attrHooks.value={get:function(f,a){var b=f.getAttributeNode(a);return k.nodeName(f,"input")?f.defaultValue:b&&b.specified?b.value:g},set:function(f,a,b){return k.nodeName(f,
"input")?(f.defaultValue=a,g):ta&&ta.set(f,a,b)}});ia||(ta=k.valHooks.button={get:function(f,a){var b=f.getAttributeNode(a);return b&&("id"===a||"name"===a||"coords"===a?""!==b.value:b.specified)?b.value:g},set:function(f,a,b){var e=f.getAttributeNode(b);return e||f.setAttributeNode(e=f.ownerDocument.createAttribute(b)),e.value=a+="","value"===b||a===f.getAttribute(b)?a:g}},k.attrHooks.contenteditable={get:ta.get,set:function(f,a,b){ta.set(f,""===a?!1:a,b)}},k.each(["width","height"],function(f,a){k.attrHooks[a]=
k.extend(k.attrHooks[a],{set:function(f,b){return""===b?(f.setAttribute(a,"auto"),b):g}})}));k.support.hrefNormalized||(k.each(["href","src","width","height"],function(f,a){k.attrHooks[a]=k.extend(k.attrHooks[a],{get:function(f){f=f.getAttribute(a,2);return null==f?g:f}})}),k.each(["href","src"],function(f,a){k.propHooks[a]={get:function(f){return f.getAttribute(a,4)}}}));k.support.style||(k.attrHooks.style={get:function(f){return f.style.cssText||g},set:function(f,a){return f.style.cssText=a+""}});
k.support.optSelected||(k.propHooks.selected=k.extend(k.propHooks.selected,{get:function(f){f=f.parentNode;return f&&(f.selectedIndex,f.parentNode&&f.parentNode.selectedIndex),null}}));k.support.enctype||(k.propFix.enctype="encoding");k.support.checkOn||k.each(["radio","checkbox"],function(){k.valHooks[this]={get:function(f){return null===f.getAttribute("value")?"on":f.value}}});k.each(["radio","checkbox"],function(){k.valHooks[this]=k.extend(k.valHooks[this],{set:function(f,a){return k.isArray(a)?
f.checked=0<=k.inArray(k(f).val(),a):g}})});var Qa=/^(?:input|select|textarea)$/i,Qb=/^key/,Rb=/^(?:mouse|contextmenu)|click/,fb=/^(?:focusinfocus|focusoutblur)$/,gb=/^([^.]*)(?:\.(.+)|)$/;k.event={global:{},add:function(f,a,b,e,r){var q,l,h,s,t,F,A,w,x;if(h=k._data(f)){b.handler&&(s=b,b=s.handler,r=s.selector);b.guid||(b.guid=k.guid++);(l=h.events)||(l=h.events={});(t=h.handle)||(t=h.handle=function(f){return typeof k===ca||f&&k.event.triggered===f.type?g:k.event.dispatch.apply(t.elem,arguments)},
t.elem=f);a=(a||"").match(ea)||[""];for(h=a.length;h--;)q=gb.exec(a[h])||[],w=F=q[1],x=(q[2]||"").split(".").sort(),q=k.event.special[w]||{},w=(r?q.delegateType:q.bindType)||w,q=k.event.special[w]||{},F=k.extend({type:w,origType:F,data:e,handler:b,guid:b.guid,selector:r,needsContext:r&&k.expr.match.needsContext.test(r),namespace:x.join(".")},s),(A=l[w])||(A=l[w]=[],A.delegateCount=0,q.setup&&!1!==q.setup.call(f,e,x,t)||(f.addEventListener?f.addEventListener(w,t,!1):f.attachEvent&&f.attachEvent("on"+
w,t))),q.add&&(q.add.call(f,F),F.handler.guid||(F.handler.guid=b.guid)),r?A.splice(A.delegateCount++,0,F):A.push(F),k.event.global[w]=!0;f=null}},remove:function(f,a,b,e,r){var g,q,l,h,s,t,F,A,w,x,y,S=k.hasData(f)&&k._data(f);if(S&&(t=S.events)){a=(a||"").match(ea)||[""];for(s=a.length;s--;)if(l=gb.exec(a[s])||[],w=y=l[1],x=(l[2]||"").split(".").sort(),w){F=k.event.special[w]||{};w=(e?F.delegateType:F.bindType)||w;A=t[w]||[];l=l[2]&&RegExp("(^|\\.)"+x.join("\\.(?:.*\\.|)")+"(\\.|$)");for(h=g=A.length;g--;)q=
A[g],!r&&y!==q.origType||b&&b.guid!==q.guid||l&&!l.test(q.namespace)||e&&e!==q.selector&&("**"!==e||!q.selector)||(A.splice(g,1),q.selector&&A.delegateCount--,F.remove&&F.remove.call(f,q));h&&!A.length&&(F.teardown&&!1!==F.teardown.call(f,x,S.handle)||k.removeEvent(f,w,S.handle),delete t[w])}else for(w in t)k.event.remove(f,w+a[s],b,e,!0);k.isEmptyObject(t)&&(delete S.handle,k._removeData(f,"events"))}},trigger:function(f,b,e,r){var q,l,h,s,t,F,A=[e||N],w=Ca.call(f,"type")?f.type:f;F=Ca.call(f,"namespace")?
f.namespace.split("."):[];if(h=q=e=e||N,3!==e.nodeType&&8!==e.nodeType&&!fb.test(w+k.event.triggered)&&(0<=w.indexOf(".")&&(F=w.split("."),w=F.shift(),F.sort()),l=0>w.indexOf(":")&&"on"+w,f=f[k.expando]?f:new k.Event(w,"object"==typeof f&&f),f.isTrigger=!0,f.namespace=F.join("."),f.namespace_re=f.namespace?RegExp("(^|\\.)"+F.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,f.result=g,f.target||(f.target=e),b=null==b?[f]:k.makeArray(b,[f]),t=k.event.special[w]||{},r||!t.trigger||!1!==t.trigger.apply(e,b))){if(!r&&
!t.noBubble&&!k.isWindow(e)){s=t.delegateType||w;for(fb.test(s+w)||(h=h.parentNode);h;h=h.parentNode)A.push(h),q=h;q===(e.ownerDocument||N)&&A.push(q.defaultView||q.parentWindow||a)}for(F=0;(h=A[F++])&&!f.isPropagationStopped();)f.type=1<F?s:t.bindType||w,(q=(k._data(h,"events")||{})[f.type]&&k._data(h,"handle"))&&q.apply(h,b),(q=l&&h[l])&&k.acceptData(h)&&q.apply&&!1===q.apply(h,b)&&f.preventDefault();if(f.type=w,!(r||f.isDefaultPrevented()||t._default&&!1!==t._default.apply(e.ownerDocument,b)||
"click"===w&&k.nodeName(e,"a")||!k.acceptData(e)||!l||!e[w]||k.isWindow(e))){(q=e[l])&&(e[l]=null);k.event.triggered=w;try{e[w]()}catch(x){}k.event.triggered=g;q&&(e[l]=q)}return f.result}},dispatch:function(f){f=k.event.fix(f);var a,b,e,r,q,l=[],h=fa.call(arguments);a=(k._data(this,"events")||{})[f.type]||[];var s=k.event.special[f.type]||{};if(h[0]=f,f.delegateTarget=this,!s.preDispatch||!1!==s.preDispatch.call(this,f)){l=k.event.handlers.call(this,f,a);for(a=0;(r=l[a++])&&!f.isPropagationStopped();){f.currentTarget=
r.elem;for(q=0;(e=r.handlers[q++])&&!f.isImmediatePropagationStopped();)(!f.namespace_re||f.namespace_re.test(e.namespace))&&(f.handleObj=e,f.data=e.data,b=((k.event.special[e.origType]||{}).handle||e.handler).apply(r.elem,h),b!==g&&!1===(f.result=b)&&(f.preventDefault(),f.stopPropagation()))}return s.postDispatch&&s.postDispatch.call(this,f),f.result}},handlers:function(f,a){var b,e,r,q,l=[],h=a.delegateCount,s=f.target;if(h&&s.nodeType&&(!f.button||"click"!==f.type))for(;s!=this;s=s.parentNode||
this)if(1===s.nodeType&&(!0!==s.disabled||"click"!==f.type)){r=[];for(q=0;h>q;q++)e=a[q],b=e.selector+" ",r[b]===g&&(r[b]=e.needsContext?0<=k(b,this).index(s):k.find(b,this,null,[s]).length),r[b]&&r.push(e);r.length&&l.push({elem:s,handlers:r})}return a.length>h&&l.push({elem:this,handlers:a.slice(h)}),l},fix:function(f){if(f[k.expando])return f;var a,b,e;a=f.type;var r=f,g=this.fixHooks[a];g||(this.fixHooks[a]=g=Rb.test(a)?this.mouseHooks:Qb.test(a)?this.keyHooks:{});e=g.props?this.props.concat(g.props):
this.props;f=new k.Event(r);for(a=e.length;a--;)b=e[a],f[b]=r[b];return f.target||(f.target=r.srcElement||N),3===f.target.nodeType&&(f.target=f.target.parentNode),f.metaKey=!!f.metaKey,g.filter?g.filter(f,r):f},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:["char","charCode","key","keyCode"],filter:function(f,a){return null==f.which&&(f.which=null!=a.charCode?a.charCode:a.keyCode),
f}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(f,a){var b,e,k,r=a.button,q=a.fromElement;return null==f.pageX&&null!=a.clientX&&(e=f.target.ownerDocument||N,k=e.documentElement,b=e.body,f.pageX=a.clientX+(k&&k.scrollLeft||b&&b.scrollLeft||0)-(k&&k.clientLeft||b&&b.clientLeft||0),f.pageY=a.clientY+(k&&k.scrollTop||b&&b.scrollTop||0)-(k&&k.clientTop||b&&b.clientTop||0)),!f.relatedTarget&&q&&(f.relatedTarget=
q===f.target?a.toElement:q),f.which||r===g||(f.which=1&r?1:2&r?3:4&r?2:0),f}},special:{load:{noBubble:!0},click:{trigger:function(){return k.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):g}},focus:{trigger:function(){if(this!==N.activeElement&&this.focus)try{return this.focus(),!1}catch(f){}},delegateType:"focusin"},blur:{trigger:function(){return this===N.activeElement&&this.blur?(this.blur(),!1):g},delegateType:"focusout"},beforeunload:{postDispatch:function(f){f.result!==
g&&(f.originalEvent.returnValue=f.result)}}},simulate:function(f,a,b,e){f=k.extend(new k.Event,b,{type:f,isSimulated:!0,originalEvent:{}});e?k.event.trigger(f,null,a):k.event.dispatch.call(a,f);f.isDefaultPrevented()&&b.preventDefault()}};k.removeEvent=N.removeEventListener?function(f,a,b){f.removeEventListener&&f.removeEventListener(a,b,!1)}:function(f,a,b){a="on"+a;f.detachEvent&&(typeof f[a]===ca&&(f[a]=null),f.detachEvent(a,b))};k.Event=function(f,a){return this instanceof k.Event?(f&&f.type?
(this.originalEvent=f,this.type=f.type,this.isDefaultPrevented=f.defaultPrevented||!1===f.returnValue||f.getPreventDefault&&f.getPreventDefault()?y:u):this.type=f,a&&k.extend(this,a),this.timeStamp=f&&f.timeStamp||k.now(),this[k.expando]=!0,g):new k.Event(f,a)};k.Event.prototype={isDefaultPrevented:u,isPropagationStopped:u,isImmediatePropagationStopped:u,preventDefault:function(){var f=this.originalEvent;this.isDefaultPrevented=y;f&&(f.preventDefault?f.preventDefault():f.returnValue=!1)},stopPropagation:function(){var f=
this.originalEvent;this.isPropagationStopped=y;f&&(f.stopPropagation&&f.stopPropagation(),f.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=y;this.stopPropagation()}};k.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(f,a){k.event.special[f]={delegateType:a,bindType:a,handle:function(f){var b,e=f.relatedTarget,r=f.handleObj;return(!e||e!==this&&!k.contains(this,e))&&(f.type=r.origType,b=r.handler.apply(this,arguments),f.type=a),b}}});k.support.submitBubbles||
(k.event.special.submit={setup:function(){return k.nodeName(this,"form")?!1:(k.event.add(this,"click._submit keypress._submit",function(f){f=f.target;(f=k.nodeName(f,"input")||k.nodeName(f,"button")?f.form:g)&&!k._data(f,"submitBubbles")&&(k.event.add(f,"submit._submit",function(f){f._submit_bubble=!0}),k._data(f,"submitBubbles",!0))}),g)},postDispatch:function(f){f._submit_bubble&&(delete f._submit_bubble,this.parentNode&&!f.isTrigger&&k.event.simulate("submit",this.parentNode,f,!0))},teardown:function(){return k.nodeName(this,
"form")?!1:(k.event.remove(this,"._submit"),g)}});k.support.changeBubbles||(k.event.special.change={setup:function(){return Qa.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(k.event.add(this,"propertychange._change",function(f){"checked"===f.originalEvent.propertyName&&(this._just_changed=!0)}),k.event.add(this,"click._change",function(f){this._just_changed&&!f.isTrigger&&(this._just_changed=!1);k.event.simulate("change",this,f,!0)})),!1):(k.event.add(this,"beforeactivate._change",
function(f){f=f.target;Qa.test(f.nodeName)&&!k._data(f,"changeBubbles")&&(k.event.add(f,"change._change",function(f){!this.parentNode||f.isSimulated||f.isTrigger||k.event.simulate("change",this.parentNode,f,!0)}),k._data(f,"changeBubbles",!0))}),g)},handle:function(f){var a=f.target;return this!==a||f.isSimulated||f.isTrigger||"radio"!==a.type&&"checkbox"!==a.type?f.handleObj.handler.apply(this,arguments):g},teardown:function(){return k.event.remove(this,"._change"),!Qa.test(this.nodeName)}});k.support.focusinBubbles||
k.each({focus:"focusin",blur:"focusout"},function(f,a){var b=0,e=function(f){k.event.simulate(a,f.target,k.event.fix(f),!0)};k.event.special[a]={setup:function(){0===b++&&N.addEventListener(f,e,!0)},teardown:function(){0===--b&&N.removeEventListener(f,e,!0)}}});k.fn.extend({on:function(f,a,b,e,r){var q,l;if("object"==typeof f){"string"!=typeof a&&(b=b||a,a=g);for(q in f)this.on(q,a,b,f[q],r);return this}if(null==b&&null==e?(e=a,b=a=g):null==e&&("string"==typeof a?(e=b,b=g):(e=b,b=a,a=g)),!1===e)e=
u;else if(!e)return this;return 1===r&&(l=e,e=function(f){return k().off(f),l.apply(this,arguments)},e.guid=l.guid||(l.guid=k.guid++)),this.each(function(){k.event.add(this,f,e,b,a)})},one:function(f,a,b,e){return this.on(f,a,b,e,1)},off:function(f,a,b){var e,r;if(f&&f.preventDefault&&f.handleObj)return e=f.handleObj,k(f.delegateTarget).off(e.namespace?e.origType+"."+e.namespace:e.origType,e.selector,e.handler),this;if("object"==typeof f){for(r in f)this.off(r,a,f[r]);return this}return(!1===a||"function"==
typeof a)&&(b=a,a=g),!1===b&&(b=u),this.each(function(){k.event.remove(this,f,b,a)})},bind:function(f,a,b){return this.on(f,null,a,b)},unbind:function(f,a){return this.off(f,null,a)},delegate:function(f,a,b,e){return this.on(a,f,b,e)},undelegate:function(f,a,b){return 1===arguments.length?this.off(f,"**"):this.off(a,f||"**",b)},trigger:function(f,a){return this.each(function(){k.event.trigger(f,a,this)})},triggerHandler:function(f,a){var b=this[0];return b?k.event.trigger(f,a,b,!0):g}});(function(f,
a){function b(f){return oa.test(f+"")}function e(){var f,a=[];return f=function(b,e){return a.push(b+=" ")>J.cacheLength&&delete f[a.shift()],f[b]=e}}function r(f){return f[U]=!0,f}function g(f){var a=E.createElement("div");try{return f(a)}catch(b){return!1}finally{}}function q(f,a,b,e){var k,r,g,l,h;if((a?a.ownerDocument||a:ga)!==E&&Q(a),a=a||E,b=b||[],!f||"string"!=typeof f)return b;if(1!==(l=a.nodeType)&&9!==l)return[];if(!P&&!e){if(k=qa.exec(f))if(g=k[1])if(9===l){if(r=a.getElementById(g),!r||
!r.parentNode)return b;if(r.id===g)return b.push(r),b}else{if(a.ownerDocument&&(r=a.ownerDocument.getElementById(g))&&ja(a,r)&&r.id===g)return b.push(r),b}else{if(k[2])return fa.apply(b,ba.call(a.getElementsByTagName(f),0)),b;if((g=k[3])&&R.getByClassName&&a.getElementsByClassName)return fa.apply(b,ba.call(a.getElementsByClassName(g),0)),b}if(R.qsa&&!M.test(f)){if(k=!0,r=U,g=a,h=9===l&&f,1===l&&"object"!==a.nodeName.toLowerCase()){l=F(f);(k=a.getAttribute("id"))?r=k.replace(wa,"\\$&"):a.setAttribute("id",
r);r="[id='"+r+"'] ";for(g=l.length;g--;)l[g]=r+A(l[g]);g=ia.test(f)&&a.parentNode||a;h=l.join(",")}if(h)try{return fa.apply(b,ba.call(g.querySelectorAll(h),0)),b}catch(s){}finally{k||a.removeAttribute("id")}}}var t;a:{f=f.replace(ea,"$1");var z,w;r=F(f);if(!e&&1===r.length){if(t=r[0]=r[0].slice(0),2<t.length&&"ID"===(z=t[0]).type&&9===a.nodeType&&!P&&J.relative[t[1].type]){if(a=J.find.ID(z.matches[0].replace(ua,va),a)[0],!a){t=b;break a}f=f.slice(t.shift().value.length)}for(l=ha.needsContext.test(f)?
0:t.length;l--&&!(z=t[l],J.relative[k=z.type]);)if((w=J.find[k])&&(e=w(z.matches[0].replace(ua,va),ia.test(t[0].type)&&a.parentNode||a))){if(t.splice(l,1),f=e.length&&A(t),!f){t=(fa.apply(b,ba.call(e,0)),b);break a}break}}t=(G(f,r)(e,a,P,b,ia.test(f)),b)}return t}function l(f,a){var b=a&&f,e=b&&(~a.sourceIndex||Aa)-(~f.sourceIndex||Aa);if(e)return e;if(b)for(;b=b.nextSibling;)if(b===a)return-1;return f?1:-1}function h(f){return function(a){return"input"===a.nodeName.toLowerCase()&&a.type===f}}function s(f){return function(a){var b=
a.nodeName.toLowerCase();return("input"===b||"button"===b)&&a.type===f}}function t(f){return r(function(a){return a=+a,r(function(b,e){for(var k,r=f([],b.length,a),g=r.length;g--;)b[k=r[g]]&&(b[k]=!(e[k]=b[k]))})})}function F(f,a){var b,e,k,r,g,l,h;if(g=V[f+" "])return a?0:g.slice(0);g=f;l=[];for(h=J.preFilter;g;){(!b||(e=ka.exec(g)))&&(e&&(g=g.slice(e[0].length)||g),l.push(k=[]));b=!1;(e=la.exec(g))&&(b=e.shift(),k.push({value:b,type:e[0].replace(ea," ")}),g=g.slice(b.length));for(r in J.filter)!(e=
ha[r].exec(g))||h[r]&&!(e=h[r](e))||(b=e.shift(),k.push({value:b,type:r,matches:e}),g=g.slice(b.length));if(!b)break}return a?g.length:g?q.error(f):V(f,l).slice(0)}function A(f){for(var a=0,b=f.length,e="";b>a;a++)e+=f[a].value;return e}function w(f,a,b){var e=a.dir,k=b&&"parentNode"===e,r=pa++;return a.first?function(a,b,r){for(;a=a[e];)if(1===a.nodeType||k)return f(a,b,r)}:function(a,b,g){var q,l,h,s=N+" "+r;if(g)for(;a=a[e];){if((1===a.nodeType||k)&&f(a,b,g))return!0}else for(;a=a[e];)if(1===a.nodeType||
k)if(h=a[U]||(a[U]={}),(l=h[e])&&l[0]===s){if(!0===(q=l[1])||q===K)return!0===q}else if(l=h[e]=[s],l[1]=f(a,b,g)||K,!0===l[1])return!0}}function x(f){return 1<f.length?function(a,b,e){for(var k=f.length;k--;)if(!f[k](a,b,e))return!1;return!0}:f[0]}function S(f,a,b,e,k){for(var r,g=[],q=0,l=f.length,h=null!=a;l>q;q++)(r=f[q])&&(!b||b(r,e,k))&&(g.push(r),h&&a.push(q));return g}function y(f,a,b,e,k,g){return e&&!e[U]&&(e=y(e)),k&&!k[U]&&(k=y(k,g)),r(function(r,g,l,h){var s,t,z=[],F=[],A=g.length,w;if(!(w=
r)){w=a||"*";for(var x=l.nodeType?[l]:l,y=[],B=0,Ia=x.length;Ia>B;B++)q(w,x[B],y);w=y}w=!f||!r&&a?w:S(w,z,f,l,h);x=b?k||(r?f:A||e)?[]:g:w;if(b&&b(w,x,l,h),e){s=S(x,F);e(s,[],l,h);for(l=s.length;l--;)(t=s[l])&&(x[F[l]]=!(w[F[l]]=t))}if(r){if(k||f){if(k){s=[];for(l=x.length;l--;)(t=x[l])&&s.push(w[l]=t);k(null,x=[],s,h)}for(l=x.length;l--;)(t=x[l])&&-1<(s=k?ya.call(r,t):z[l])&&(r[s]=!(g[s]=t))}}else x=S(x===g?x.splice(A,x.length):x),k?k(null,g,x,h):fa.apply(g,x)})}function B(f){var a,b,e,k=f.length,
r=J.relative[f[0].type];b=r||J.relative[" "];for(var g=r?1:0,q=w(function(f){return f===a},b,!0),l=w(function(f){return-1<ya.call(a,f)},b,!0),h=[function(f,b,e){return!r&&(e||b!==aa)||((a=b).nodeType?q(f,b,e):l(f,b,e))}];k>g;g++)if(b=J.relative[f[g].type])h=[w(x(h),b)];else{if(b=J.filter[f[g].type].apply(null,f[g].matches),b[U]){for(e=++g;k>e&&!J.relative[f[e].type];e++);return y(1<g&&x(h),1<g&&A(f.slice(0,g-1)).replace(ea,"$1"),b,e>g&&B(f.slice(g,e)),k>e&&B(f=f.slice(e)),k>e&&A(f))}h.push(b)}return x(h)}
function u(f,a){var b=0,e=0<a.length,k=0<f.length,g=function(r,g,l,h,s){var t,z,F=[],w=0,A="0",x=r&&[],y=null!=s,B=aa,Ia=r||k&&J.find.TAG("*",s&&g.parentNode||g),u=N+=null==B?1:Math.random()||0.1;for(y&&(aa=g!==E&&g,K=b);null!=(s=Ia[A]);A++){if(k&&s){for(t=0;z=f[t++];)if(z(s,g,l)){h.push(s);break}y&&(N=u,K=++b)}e&&((s=!z&&s)&&w--,r&&x.push(s))}if(w+=A,e&&A!==w){for(t=0;z=a[t++];)z(x,F,g,l);if(r){if(0<w)for(;A--;)x[A]||F[A]||(F[A]=Z.call(h));F=S(F)}fa.apply(h,F);y&&!r&&0<F.length&&1<w+a.length&&q.uniqueSort(h)}return y&&
(N=u,aa=B),x};return e?r(g):g}function Y(){}var O,K,J,H,D,G,C,aa,Q,E,L,P,M,I,sa,ja,ra,U="sizzle"+-new Date,ga=f.document,R={},N=0,pa=0,ca=e(),V=e(),W=e(),X=typeof a,Aa=-2147483648,T=[],Z=T.pop,fa=T.push,ba=T.slice,ya=T.indexOf||function(f){for(var a=0,b=this.length;b>a;a++)if(this[a]===f)return a;return-1},T="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w","w#"),Ba="\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)[\\x20\\t\\r\\n\\f]*(?:([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+
T+")|)|)[\\x20\\t\\r\\n\\f]*\\]",da=":((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+Ba.replace(3,8)+")*)|.*)\\)|)",ea=RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g"),ka=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,la=/^[\x20\t\r\n\f]*([\x20\t\r\n\f>+~])[\x20\t\r\n\f]*/,ma=RegExp(da),na=RegExp("^"+T+"$"),ha={ID:/^#((?:\\.|[\w-]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[\w-]|[^\x00-\xa0])+)/,NAME:/^\[name=['"]?((?:\\.|[\w-]|[^\x00-\xa0])+)['"]?\]/,
TAG:RegExp("^("+"(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w","w*")+")"),ATTR:RegExp("^"+Ba),PSEUDO:RegExp("^"+da),CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\([\\x20\\t\\r\\n\\f]*(even|odd|(([+-]|)(\\d*)n|)[\\x20\\t\\r\\n\\f]*(?:([+-]|)[\\x20\\t\\r\\n\\f]*(\\d+)|))[\\x20\\t\\r\\n\\f]*\\)|)","i"),needsContext:RegExp("^[\\x20\\t\\r\\n\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\([\\x20\\t\\r\\n\\f]*((?:-\\d)?\\d*)[\\x20\\t\\r\\n\\f]*\\)|)(?=[^-]|$)","i")},ia=/[\x20\t\r\n\f]*[+~]/,
oa=/^[^{]+\{\s*\[native code/,qa=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,La=/^(?:input|select|textarea|button)$/i,ta=/^h\d$/i,wa=/'|\\/g,xa=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,ua=/\\([\da-fA-F]{1,6}[\x20\t\r\n\f]?|.)/g,va=function(f,a){var b="0x"+a-65536;return b!==b?a:0>b?String.fromCharCode(b+65536):String.fromCharCode(55296|b>>10,56320|1023&b)};try{ba.call(ga.documentElement.childNodes,0)[0].nodeType}catch(za){ba=function(f){for(var a,b=[];a=this[f++];)b.push(a);return b}}D=q.isXML=function(f){return(f=
f&&(f.ownerDocument||f).documentElement)?"HTML"!==f.nodeName:!1};Q=q.setDocument=function(f){var e=f?f.ownerDocument||f:ga;return e!==E&&9===e.nodeType&&e.documentElement?(E=e,L=e.documentElement,P=D(e),R.tagNameNoComments=g(function(f){return f.appendChild(e.createComment("")),!f.getElementsByTagName("*").length}),R.attributes=g(function(f){f.innerHTML="<select></select>";f=typeof f.lastChild.getAttribute("multiple");return"boolean"!==f&&"string"!==f}),R.getByClassName=g(function(f){return f.innerHTML=
"<div class='hidden e'></div><div class='hidden'></div>",f.getElementsByClassName&&f.getElementsByClassName("e").length?(f.lastChild.className="e",2===f.getElementsByClassName("e").length):!1}),R.getByName=g(function(f){f.id=U+0;f.innerHTML="<a name='"+U+"'></a><div name='"+U+"'></div>";L.insertBefore(f,L.firstChild);var a=e.getElementsByName&&e.getElementsByName(U).length===2+e.getElementsByName(U+0).length;return R.getIdNotName=!e.getElementById(U),L.removeChild(f),a}),J.attrHandle=g(function(f){return f.innerHTML=
"<a href='#'></a>",f.firstChild&&typeof f.firstChild.getAttribute!==X&&"#"===f.firstChild.getAttribute("href")})?{}:{href:function(f){return f.getAttribute("href",2)},type:function(f){return f.getAttribute("type")}},R.getIdNotName?(J.find.ID=function(f,a){if(typeof a.getElementById!==X&&!P){var b=a.getElementById(f);return b&&b.parentNode?[b]:[]}},J.filter.ID=function(f){var a=f.replace(ua,va);return function(f){return f.getAttribute("id")===a}}):(J.find.ID=function(f,b){if(typeof b.getElementById!==
X&&!P){var e=b.getElementById(f);return e?e.id===f||typeof e.getAttributeNode!==X&&e.getAttributeNode("id").value===f?[e]:a:[]}},J.filter.ID=function(f){var a=f.replace(ua,va);return function(f){return(f=typeof f.getAttributeNode!==X&&f.getAttributeNode("id"))&&f.value===a}}),J.find.TAG=R.tagNameNoComments?function(f,b){return typeof b.getElementsByTagName!==X?b.getElementsByTagName(f):a}:function(f,a){var b,e=[],k=0,r=a.getElementsByTagName(f);if("*"===f){for(;b=r[k++];)1===b.nodeType&&e.push(b);
return e}return r},J.find.NAME=R.getByName&&function(f,b){return typeof b.getElementsByName!==X?b.getElementsByName(name):a},J.find.CLASS=R.getByClassName&&function(f,b){return typeof b.getElementsByClassName===X||P?a:b.getElementsByClassName(f)},I=[],M=[":focus"],(R.qsa=b(e.querySelectorAll))&&(g(function(f){f.innerHTML="<select><option selected=''></option></select>";f.querySelectorAll("[selected]").length||M.push("\\[[\\x20\\t\\r\\n\\f]*(?:checked|disabled|ismap|multiple|readonly|selected|value)");
f.querySelectorAll(":checked").length||M.push(":checked")}),g(function(f){f.innerHTML="<input type='hidden' i=''/>";f.querySelectorAll("[i^='']").length&&M.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:\"\"|'')");f.querySelectorAll(":enabled").length||M.push(":enabled",":disabled");f.querySelectorAll("*,:x");M.push(",.*:")})),(R.matchesSelector=b(sa=L.matchesSelector||L.mozMatchesSelector||L.webkitMatchesSelector||L.oMatchesSelector||L.msMatchesSelector))&&g(function(f){R.disconnectedMatch=sa.call(f,"div");
sa.call(f,"[s!='']:x");I.push("!=",da)}),M=RegExp(M.join("|")),I=RegExp(I.join("|")),ja=b(L.contains)||L.compareDocumentPosition?function(f,a){var b=9===f.nodeType?f.documentElement:f,e=a&&a.parentNode;return f===e||!(!e||1!==e.nodeType||!(b.contains?b.contains(e):f.compareDocumentPosition&&16&f.compareDocumentPosition(e)))}:function(f,a){if(a)for(;a=a.parentNode;)if(a===f)return!0;return!1},ra=L.compareDocumentPosition?function(f,a){var b;return f===a?(C=!0,0):(b=a.compareDocumentPosition&&f.compareDocumentPosition&&
f.compareDocumentPosition(a))?1&b||f.parentNode&&11===f.parentNode.nodeType?f===e||ja(ga,f)?-1:a===e||ja(ga,a)?1:0:4&b?-1:1:f.compareDocumentPosition?-1:1}:function(f,a){var b,k=0;b=f.parentNode;var r=a.parentNode,g=[f],q=[a];if(f===a)return C=!0,0;if(!b||!r)return f===e?-1:a===e?1:b?-1:r?1:0;if(b===r)return l(f,a);for(b=f;b=b.parentNode;)g.unshift(b);for(b=a;b=b.parentNode;)q.unshift(b);for(;g[k]===q[k];)k++;return k?l(g[k],q[k]):g[k]===ga?-1:q[k]===ga?1:0},C=!1,[0,0].sort(ra),R.detectDuplicates=
C,E):E};q.matches=function(f,a){return q(f,null,null,a)};q.matchesSelector=function(f,a){if((f.ownerDocument||f)!==E&&Q(f),a=a.replace(xa,"='$1']"),!(!R.matchesSelector||P||I&&I.test(a)||M.test(a)))try{var b=sa.call(f,a);if(b||R.disconnectedMatch||f.document&&11!==f.document.nodeType)return b}catch(e){}return 0<q(a,E,null,[f]).length};q.contains=function(f,a){return(f.ownerDocument||f)!==E&&Q(f),ja(f,a)};q.attr=function(f,a){var b;return(f.ownerDocument||f)!==E&&Q(f),P||(a=a.toLowerCase()),(b=J.attrHandle[a])?
b(f):P||R.attributes?f.getAttribute(a):((b=f.getAttributeNode(a))||f.getAttribute(a))&&!0===f[a]?a:b&&b.specified?b.value:null};q.error=function(f){throw Error("Syntax error, unrecognized expression: "+f);};q.uniqueSort=function(f){var a,b=[],e=1,k=0;if(C=!R.detectDuplicates,f.sort(ra),C){for(;a=f[e];e++)a===f[e-1]&&(k=b.push(e));for(;k--;)f.splice(b[k],1)}return f};H=q.getText=function(f){var a,b="",e=0;if(a=f.nodeType)if(1===a||9===a||11===a){if("string"==typeof f.textContent)return f.textContent;
for(f=f.firstChild;f;f=f.nextSibling)b+=H(f)}else{if(3===a||4===a)return f.nodeValue}else for(;a=f[e];e++)b+=H(a);return b};J=q.selectors={cacheLength:50,createPseudo:r,match:ha,find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(f){return f[1]=f[1].replace(ua,va),f[3]=(f[4]||f[5]||"").replace(ua,va),"~="===f[2]&&(f[3]=" "+f[3]+" "),f.slice(0,4)},CHILD:function(f){return f[1]=f[1].toLowerCase(),
"nth"===f[1].slice(0,3)?(f[3]||q.error(f[0]),f[4]=+(f[4]?f[5]+(f[6]||1):2*("even"===f[3]||"odd"===f[3])),f[5]=+(f[7]+f[8]||"odd"===f[3])):f[3]&&q.error(f[0]),f},PSEUDO:function(f){var a,b=!f[5]&&f[2];return ha.CHILD.test(f[0])?null:(f[4]?f[2]=f[4]:b&&ma.test(b)&&(a=F(b,!0))&&(a=b.indexOf(")",b.length-a)-b.length)&&(f[0]=f[0].slice(0,a),f[2]=b.slice(0,a)),f.slice(0,3))}},filter:{TAG:function(f){return"*"===f?function(){return!0}:(f=f.replace(ua,va).toLowerCase(),function(a){return a.nodeName&&a.nodeName.toLowerCase()===
f})},CLASS:function(f){var a=ca[f+" "];return a||(a=RegExp("(^|[\\x20\\t\\r\\n\\f])"+f+"([\\x20\\t\\r\\n\\f]|$)"))&&ca(f,function(f){return a.test(f.className||typeof f.getAttribute!==X&&f.getAttribute("class")||"")})},ATTR:function(f,a,b){return function(e){e=q.attr(e,f);return null==e?"!="===a:a?(e+="","="===a?e===b:"!="===a?e!==b:"^="===a?b&&0===e.indexOf(b):"*="===a?b&&-1<e.indexOf(b):"$="===a?b&&e.slice(-b.length)===b:"~="===a?-1<(" "+e+" ").indexOf(b):"|="===a?e===b||e.slice(0,b.length+1)===
b+"-":!1):!0}},CHILD:function(f,a,b,e,k){var r="nth"!==f.slice(0,3),g="last"!==f.slice(-4),q="of-type"===a;return 1===e&&0===k?function(f){return!!f.parentNode}:function(a,b,l){var h,s,t,z,F;b=r!==g?"nextSibling":"previousSibling";var w=a.parentNode,A=q&&a.nodeName.toLowerCase();l=!l&&!q;if(w){if(r){for(;b;){for(s=a;s=s[b];)if(q?s.nodeName.toLowerCase()===A:1===s.nodeType)return!1;F=b="only"===f&&!F&&"nextSibling"}return!0}if(F=[g?w.firstChild:w.lastChild],g&&l){l=w[U]||(w[U]={});h=l[f]||[];z=h[0]===
N&&h[1];t=h[0]===N&&h[2];for(s=z&&w.childNodes[z];s=++z&&s&&s[b]||(t=z=0)||F.pop();)if(1===s.nodeType&&++t&&s===a){l[f]=[N,z,t];break}}else if(l&&(h=(a[U]||(a[U]={}))[f])&&h[0]===N)t=h[1];else for(;(s=++z&&s&&s[b]||(t=z=0)||F.pop())&&(!(q?s.nodeName.toLowerCase()===A:1===s.nodeType)||!++t||!(l&&((s[U]||(s[U]={}))[f]=[N,t]),s===a)););return t-=k,t===e||0===t%e&&0<=t/e}}},PSEUDO:function(f,a){var b,e=J.pseudos[f]||J.setFilters[f.toLowerCase()]||q.error("unsupported pseudo: "+f);return e[U]?e(a):1<e.length?
(b=[f,f,"",a],J.setFilters.hasOwnProperty(f.toLowerCase())?r(function(f,b){for(var k,r=e(f,a),g=r.length;g--;)k=ya.call(f,r[g]),f[k]=!(b[k]=r[g])}):function(f){return e(f,0,b)}):e}},pseudos:{not:r(function(f){var a=[],b=[],e=G(f.replace(ea,"$1"));return e[U]?r(function(f,a,b,k){var r;b=e(f,null,k,[]);for(k=f.length;k--;)(r=b[k])&&(f[k]=!(a[k]=r))}):function(f,k,r){return a[0]=f,e(a,null,r,b),!b.pop()}}),has:r(function(f){return function(a){return 0<q(f,a).length}}),contains:r(function(f){return function(a){return-1<
(a.textContent||a.innerText||H(a)).indexOf(f)}}),lang:r(function(f){return na.test(f||"")||q.error("unsupported lang: "+f),f=f.replace(ua,va).toLowerCase(),function(a){var b;do if(b=P?a.getAttribute("xml:lang")||a.getAttribute("lang"):a.lang)return b=b.toLowerCase(),b===f||0===b.indexOf(f+"-");while((a=a.parentNode)&&1===a.nodeType);return!1}}),target:function(a){var b=f.location&&f.location.hash;return b&&b.slice(1)===a.id},root:function(f){return f===L},focus:function(f){return f===E.activeElement&&
(!E.hasFocus||E.hasFocus())&&!(!f.type&&!f.href&&!~f.tabIndex)},enabled:function(f){return!1===f.disabled},disabled:function(f){return!0===f.disabled},checked:function(f){var a=f.nodeName.toLowerCase();return"input"===a&&!!f.checked||"option"===a&&!!f.selected},selected:function(f){return f.parentNode&&f.parentNode.selectedIndex,!0===f.selected},empty:function(f){for(f=f.firstChild;f;f=f.nextSibling)if("@"<f.nodeName||3===f.nodeType||4===f.nodeType)return!1;return!0},parent:function(f){return!J.pseudos.empty(f)},
header:function(f){return ta.test(f.nodeName)},input:function(f){return La.test(f.nodeName)},button:function(f){var a=f.nodeName.toLowerCase();return"input"===a&&"button"===f.type||"button"===a},text:function(f){var a;return"input"===f.nodeName.toLowerCase()&&"text"===f.type&&(null==(a=f.getAttribute("type"))||a.toLowerCase()===f.type)},first:t(function(){return[0]}),last:t(function(f,a){return[a-1]}),eq:t(function(f,a,b){return[0>b?b+a:b]}),even:t(function(f,a){for(var b=0;a>b;b+=2)f.push(b);return f}),
odd:t(function(f,a){for(var b=1;a>b;b+=2)f.push(b);return f}),lt:t(function(f,a,b){for(a=0>b?b+a:b;0<=--a;)f.push(a);return f}),gt:t(function(f,a,b){for(b=0>b?b+a:b;a>++b;)f.push(b);return f})}};for(O in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})J.pseudos[O]=h(O);for(O in{submit:!0,reset:!0})J.pseudos[O]=s(O);G=q.compile=function(f,a){var b,e=[],k=[],r=W[f+" "];if(!r){a||(a=F(f));for(b=a.length;b--;)r=B(a[b]),r[U]?e.push(r):k.push(r);r=W(f,u(k,e))}return r};J.pseudos.nth=J.pseudos.eq;J.filters=
Y.prototype=J.pseudos;J.setFilters=new Y;Q();q.attr=k.attr;k.find=q;k.expr=q.selectors;k.expr[":"]=k.expr.pseudos;k.unique=q.uniqueSort;k.text=q.getText;k.isXMLDoc=q.isXML;k.contains=q.contains})(a);var Sb=/Until$/,Tb=/^(?:parents|prev(?:Until|All))/,zb=/^.[^:#\[\.,]*$/,hb=k.expr.match.needsContext,Ub={children:!0,contents:!0,next:!0,prev:!0};k.fn.extend({find:function(f){var a,b,e,r=this.length;if("string"!=typeof f)return e=this,this.pushStack(k(f).filter(function(){for(a=0;r>a;a++)if(k.contains(e[a],
this))return!0}));b=[];for(a=0;r>a;a++)k.find(f,this[a],b);return b=this.pushStack(1<r?k.unique(b):b),b.selector=(this.selector?this.selector+" ":"")+f,b},has:function(f){var a,b=k(f,this),e=b.length;return this.filter(function(){for(a=0;e>a;a++)if(k.contains(this,b[a]))return!0})},not:function(f){return this.pushStack(D(this,f,!1))},filter:function(f){return this.pushStack(D(this,f,!0))},is:function(f){return!!f&&("string"==typeof f?hb.test(f)?0<=k(f,this.context).index(this[0]):0<k.filter(f,this).length:
0<this.filter(f).length)},closest:function(f,a){for(var b,e=0,r=this.length,g=[],q=hb.test(f)||"string"!=typeof f?k(f,a||this.context):0;r>e;e++)for(b=this[e];b&&b.ownerDocument&&b!==a&&11!==b.nodeType;){if(q?-1<q.index(b):k.find.matchesSelector(b,f)){g.push(b);break}b=b.parentNode}return this.pushStack(1<g.length?k.unique(g):g)},index:function(f){return f?"string"==typeof f?k.inArray(this[0],k(f)):k.inArray(f.jquery?f[0]:f,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(f,
a){var b="string"==typeof f?k(f,a):k.makeArray(f&&f.nodeType?[f]:f),b=k.merge(this.get(),b);return this.pushStack(k.unique(b))},addBack:function(f){return this.add(null==f?this.prevObject:this.prevObject.filter(f))}});k.fn.andSelf=k.fn.addBack;k.each({parent:function(f){return(f=f.parentNode)&&11!==f.nodeType?f:null},parents:function(f){return k.dir(f,"parentNode")},parentsUntil:function(f,a,b){return k.dir(f,"parentNode",b)},next:function(f){return G(f,"nextSibling")},prev:function(f){return G(f,
"previousSibling")},nextAll:function(f){return k.dir(f,"nextSibling")},prevAll:function(f){return k.dir(f,"previousSibling")},nextUntil:function(f,a,b){return k.dir(f,"nextSibling",b)},prevUntil:function(f,a,b){return k.dir(f,"previousSibling",b)},siblings:function(f){return k.sibling((f.parentNode||{}).firstChild,f)},children:function(f){return k.sibling(f.firstChild)},contents:function(f){return k.nodeName(f,"iframe")?f.contentDocument||f.contentWindow.document:k.merge([],f.childNodes)}},function(f,
a){k.fn[f]=function(b,e){var r=k.map(this,a,b);return Sb.test(f)||(e=b),e&&"string"==typeof e&&(r=k.filter(e,r)),r=1<this.length&&!Ub[f]?k.unique(r):r,1<this.length&&Tb.test(f)&&(r=r.reverse()),this.pushStack(r)}});k.extend({filter:function(f,a,b){return b&&(f=":not("+f+")"),1===a.length?k.find.matchesSelector(a[0],f)?[a[0]]:[]:k.find.matches(f,a)},dir:function(f,a,b){var e=[];for(f=f[a];f&&9!==f.nodeType&&(b===g||1!==f.nodeType||!k(f).is(b));)1===f.nodeType&&e.push(f),f=f[a];return e},sibling:function(f,
a){for(var b=[];f;f=f.nextSibling)1===f.nodeType&&f!==a&&b.push(f);return b}});var Za="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Vb=/ jQuery\d+="(?:null|\d+)"/g,ib=RegExp("<(?:"+Za+")[\\s/>]","i"),Ra=/^\s+/,jb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,kb=/<([\w:]+)/,lb=/<tbody/i,Wb=/<|&#?\w+;/,Xb=/<(?:script|style|link)/i,Ja=/^(?:checkbox|radio)$/i,Yb=/checked\s*(?:[^=]|=\s*.checked.)/i,
mb=/^$|\/(?:java|ecma)script/i,Ab=/^true\/(.*)/,Zb=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,da={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:k.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},
Sa=C(N).appendChild(N.createElement("div"));da.optgroup=da.option;da.tbody=da.tfoot=da.colgroup=da.caption=da.thead;da.th=da.td;k.fn.extend({text:function(f){return k.access(this,function(f){return f===g?k.text(this):this.empty().append((this[0]&&this[0].ownerDocument||N).createTextNode(f))},null,f,arguments.length)},wrapAll:function(f){if(k.isFunction(f))return this.each(function(a){k(this).wrapAll(f.call(this,a))});if(this[0]){var a=k(f,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&
a.insertBefore(this[0]);a.map(function(){for(var f=this;f.firstChild&&1===f.firstChild.nodeType;)f=f.firstChild;return f}).append(this)}return this},wrapInner:function(f){return k.isFunction(f)?this.each(function(a){k(this).wrapInner(f.call(this,a))}):this.each(function(){var a=k(this),b=a.contents();b.length?b.wrapAll(f):a.append(f)})},wrap:function(f){var a=k.isFunction(f);return this.each(function(b){k(this).wrapAll(a?f.call(this,b):f)})},unwrap:function(){return this.parent().each(function(){k.nodeName(this,
"body")||k(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(f){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&this.appendChild(f)})},prepend:function(){return this.domManip(arguments,!0,function(f){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&this.insertBefore(f,this.firstChild)})},before:function(){return this.domManip(arguments,!1,function(f){this.parentNode&&this.parentNode.insertBefore(f,this)})},after:function(){return this.domManip(arguments,
!1,function(f){this.parentNode&&this.parentNode.insertBefore(f,this.nextSibling)})},remove:function(f,a){for(var b,e=0;null!=(b=this[e]);e++)(!f||0<k.filter(f,[b]).length)&&(a||1!==b.nodeType||k.cleanData(H(b)),b.parentNode&&(a&&k.contains(b.ownerDocument,b)&&B(H(b,"script")),b.parentNode.removeChild(b)));return this},empty:function(){for(var f,a=0;null!=(f=this[a]);a++){for(1===f.nodeType&&k.cleanData(H(f,!1));f.firstChild;)f.removeChild(f.firstChild);f.options&&k.nodeName(f,"select")&&(f.options.length=
0)}return this},clone:function(f,a){return f=null==f?!1:f,a=null==a?f:a,this.map(function(){return k.clone(this,f,a)})},html:function(f){return k.access(this,function(f){var a=this[0]||{},b=0,e=this.length;if(f===g)return 1===a.nodeType?a.innerHTML.replace(Vb,""):g;if(!("string"!=typeof f||Xb.test(f)||!k.support.htmlSerialize&&ib.test(f)||!k.support.leadingWhitespace&&Ra.test(f)||da[(kb.exec(f)||["",""])[1].toLowerCase()])){f=f.replace(jb,"<$1></$2>");try{for(;e>b;b++)a=this[b]||{},1===a.nodeType&&
(k.cleanData(H(a,!1)),a.innerHTML=f);a=0}catch(r){}}a&&this.empty().append(f)},null,f,arguments.length)},replaceWith:function(f){return k.isFunction(f)||"string"==typeof f||(f=k(f).not(this).detach()),this.domManip([f],!0,function(f){var a=this.nextSibling,b=this.parentNode;b&&(k(this).remove(),b.insertBefore(f,a))})},detach:function(f){return this.remove(f,!0)},domManip:function(f,a,b){f=Aa.apply([],f);var e,r,q,l,h=0,s=this.length,t=this,F=s-1,A=f[0],y=k.isFunction(A);if(y||!(1>=s||"string"!=typeof A||
k.support.checkClone)&&Yb.test(A))return this.each(function(e){var k=t.eq(e);y&&(f[0]=A.call(this,e,a?k.html():g));k.domManip(f,a,b)});if(s&&(l=k.buildFragment(f,this[0].ownerDocument,!1,this),e=l.firstChild,1===l.childNodes.length&&(l=e),e)){a=a&&k.nodeName(e,"tr");q=k.map(H(l,"script"),w);for(r=q.length;s>h;h++)e=l,h!==F&&(e=k.clone(e,!0,!0),r&&k.merge(q,H(e,"script"))),b.call(a&&k.nodeName(this[h],"table")?this[h].getElementsByTagName("tbody")[0]||this[h].appendChild(this[h].ownerDocument.createElement("tbody")):
this[h],e,h);if(r){l=q[q.length-1].ownerDocument;k.map(q,x);for(h=0;r>h;h++)e=q[h],mb.test(e.type||"")&&!k._data(e,"globalEval")&&k.contains(l,e)&&(e.src?k.ajax({url:e.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):k.globalEval((e.text||e.textContent||e.innerHTML||"").replace(Zb,"")))}l=e=null}return this}});k.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(f,a){k.fn[f]=function(f){for(var b=0,e=[],r=k(f),
g=r.length-1;g>=b;b++)f=b===g?this:this.clone(!0),k(r[b])[a](f),ya.apply(e,f.get());return this.pushStack(e)}});k.extend({clone:function(f,a,b){var e,r,g,q,l,h=k.contains(f.ownerDocument,f);if(k.support.html5Clone||k.isXMLDoc(f)||!ib.test("<"+f.nodeName+">")?g=f.cloneNode(!0):(Sa.innerHTML=f.outerHTML,Sa.removeChild(g=Sa.firstChild)),!(k.support.noCloneEvent&&k.support.noCloneChecked||1!==f.nodeType&&11!==f.nodeType||k.isXMLDoc(f))){e=H(g);l=H(f);for(q=0;null!=(r=l[q]);++q)if(e[q]){var s=e[q],t=void 0,
F=void 0,A=void 0;if(1===s.nodeType){if(t=s.nodeName.toLowerCase(),!k.support.noCloneEvent&&s[k.expando]){A=k._data(s);for(F in A.events)k.removeEvent(s,F,A.handle);s.removeAttribute(k.expando)}"script"===t&&s.text!==r.text?(w(s).text=r.text,x(s)):"object"===t?(s.parentNode&&(s.outerHTML=r.outerHTML),k.support.html5Clone&&r.innerHTML&&!k.trim(s.innerHTML)&&(s.innerHTML=r.innerHTML)):"input"===t&&Ja.test(r.type)?(s.defaultChecked=s.checked=r.checked,s.value!==r.value&&(s.value=r.value)):"option"===
t?s.defaultSelected=s.selected=r.defaultSelected:("input"===t||"textarea"===t)&&(s.defaultValue=r.defaultValue)}}}if(a)if(b){l=l||H(f);e=e||H(g);for(q=0;null!=(r=l[q]);q++)I(r,e[q])}else I(f,g);return e=H(g,"script"),0<e.length&&B(e,!h&&H(f,"script")),g},buildFragment:function(f,a,b,e){for(var r,g,q,l,h,s,t,F=f.length,A=C(a),w=[],x=0;F>x;x++)if(g=f[x],g||0===g)if("object"===k.type(g))k.merge(w,g.nodeType?[g]:g);else if(Wb.test(g)){l=l||A.appendChild(a.createElement("div"));h=(kb.exec(g)||["",""])[1].toLowerCase();
t=da[h]||da._default;l.innerHTML=t[1]+g.replace(jb,"<$1></$2>")+t[2];for(r=t[0];r--;)l=l.lastChild;if(!k.support.leadingWhitespace&&Ra.test(g)&&w.push(a.createTextNode(Ra.exec(g)[0])),!k.support.tbody)for(r=(g="table"!==h||lb.test(g)?"<table>"!==t[1]||lb.test(g)?0:l:l.firstChild)&&g.childNodes.length;r--;)k.nodeName(s=g.childNodes[r],"tbody")&&!s.childNodes.length&&g.removeChild(s);k.merge(w,l.childNodes);for(l.textContent="";l.firstChild;)l.removeChild(l.firstChild);l=A.lastChild}else w.push(a.createTextNode(g));
l&&A.removeChild(l);k.support.appendChecked||k.grep(H(w,"input"),L);for(x=0;g=w[x++];)if((!e||-1===k.inArray(g,e))&&(q=k.contains(g.ownerDocument,g),l=H(A.appendChild(g),"script"),q&&B(l),b))for(r=0;g=l[r++];)mb.test(g.type||"")&&b.push(g);return A},cleanData:function(f,a){for(var b,e,r,g,q=0,l=k.expando,h=k.cache,s=k.support.deleteExpando,t=k.event.special;null!=(b=f[q]);q++)if((a||k.acceptData(b))&&(r=b[l],g=r&&h[r])){if(g.events)for(e in g.events)t[e]?k.event.remove(b,e):k.removeEvent(b,e,g.handle);
h[r]&&(delete h[r],s?delete b[l]:typeof b.removeAttribute!==ca?b.removeAttribute(l):b[l]=null,pa.push(r))}}});var xa,na,ha,Ta=/alpha\([^)]*\)/i,$b=/opacity\s*=\s*([^)]*)/,ac=/^(top|right|bottom|left)$/,bc=/^(none|table(?!-c[ea]).+)/,nb=/^margin/,Bb=RegExp("^("+Ga+")(.*)$","i"),Ea=RegExp("^("+Ga+")(?!px)[a-z%]+$","i"),cc=RegExp("^([+-])=("+Ga+")","i"),ab={BODY:"block"},dc={position:"absolute",visibility:"hidden",display:"block"},ob={letterSpacing:0,fontWeight:400},ma=["Top","Right","Bottom","Left"],
$a=["Webkit","O","Moz","ms"];k.fn.extend({css:function(f,a){return k.access(this,function(f,a,b){var e,r={},q=0;if(k.isArray(a)){e=na(f);for(b=a.length;b>q;q++)r[a[q]]=k.css(f,a[q],!1,e);return r}return b!==g?k.style(f,a,b):k.css(f,a)},f,a,1<arguments.length)},show:function(){return t(this,!0)},hide:function(){return t(this)},toggle:function(f){var a="boolean"==typeof f;return this.each(function(){(a?f:O(this))?k(this).show():k(this).hide()})}});k.extend({cssHooks:{opacity:{get:function(f,a){if(a){var b=
ha(f,"opacity");return""===b?"1":b}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":k.support.cssFloat?"cssFloat":"styleFloat"},style:function(f,a,b,e){if(f&&3!==f.nodeType&&8!==f.nodeType&&f.style){var r,q,l,h=k.camelCase(a),s=f.style;if(a=k.cssProps[h]||(k.cssProps[h]=Q(s,h)),l=k.cssHooks[a]||k.cssHooks[h],b===g)return l&&"get"in l&&(r=l.get(f,!1,e))!==g?r:s[a];if(q=typeof b,"string"===q&&(r=cc.exec(b))&&
(b=(r[1]+1)*r[2]+parseFloat(k.css(f,a)),q="number"),!(null==b||"number"===q&&isNaN(b)||("number"!==q||k.cssNumber[h]||(b+="px"),k.support.clearCloneStyle||""!==b||0!==a.indexOf("background")||(s[a]="inherit"),l&&"set"in l&&(b=l.set(f,b,e))===g)))try{s[a]=b}catch(t){}}},css:function(f,a,b,e){var r,q,l,h=k.camelCase(a);return a=k.cssProps[h]||(k.cssProps[h]=Q(f.style,h)),l=k.cssHooks[a]||k.cssHooks[h],l&&"get"in l&&(q=l.get(f,!0,b)),q===g&&(q=ha(f,a,e)),"normal"===q&&a in ob&&(q=ob[a]),""===b||b?(r=
parseFloat(q),!0===b||k.isNumeric(r)?r||0:q):q},swap:function(f,a,b,e){var r,k={};for(r in a)k[r]=f.style[r],f.style[r]=a[r];b=b.apply(f,e||[]);for(r in a)f.style[r]=k[r];return b}});a.getComputedStyle?(na=function(f){return a.getComputedStyle(f,null)},ha=function(f,a,b){var e,r,q,l=(b=b||na(f))?b.getPropertyValue(a)||b[a]:g,h=f.style;return b&&(""!==l||k.contains(f.ownerDocument,f)||(l=k.style(f,a)),Ea.test(l)&&nb.test(a)&&(e=h.width,r=h.minWidth,q=h.maxWidth,h.minWidth=h.maxWidth=h.width=l,l=b.width,
h.width=e,h.minWidth=r,h.maxWidth=q)),l}):N.documentElement.currentStyle&&(na=function(f){return f.currentStyle},ha=function(f,a,b){var e,r,k;b=(b=b||na(f))?b[a]:g;var q=f.style;return null==b&&q&&q[a]&&(b=q[a]),Ea.test(b)&&!ac.test(a)&&(e=q.left,r=f.runtimeStyle,k=r&&r.left,k&&(r.left=f.currentStyle.left),q.left="fontSize"===a?"1em":b,b=q.pixelLeft+"px",q.left=e,k&&(r.left=k)),""===b?"auto":b});k.each(["height","width"],function(f,a){k.cssHooks[a]={get:function(f,b,e){return b?0===f.offsetWidth&&
bc.test(k.css(f,"display"))?k.swap(f,dc,function(){return M(f,a,e)}):M(f,a,e):g},set:function(f,b,e){var r=e&&na(f);return P(f,b,e?K(f,a,e,k.support.boxSizing&&"border-box"===k.css(f,"boxSizing",!1,r),r):0)}}});k.support.opacity||(k.cssHooks.opacity={get:function(f,a){return $b.test((a&&f.currentStyle?f.currentStyle.filter:f.style.filter)||"")?0.01*parseFloat(RegExp.$1)+"":a?"1":""},set:function(f,a){var b=f.style,e=f.currentStyle,r=k.isNumeric(a)?"alpha(opacity="+100*a+")":"",g=e&&e.filter||b.filter||
"";b.zoom=1;(1<=a||""===a)&&""===k.trim(g.replace(Ta,""))&&b.removeAttribute&&(b.removeAttribute("filter"),""===a||e&&!e.filter)||(b.filter=Ta.test(g)?g.replace(Ta,r):g+" "+r)}});k(function(){k.support.reliableMarginRight||(k.cssHooks.marginRight={get:function(f,a){return a?k.swap(f,{display:"inline-block"},ha,[f,"marginRight"]):g}});!k.support.pixelPosition&&k.fn.position&&k.each(["top","left"],function(f,a){k.cssHooks[a]={get:function(f,b){return b?(b=ha(f,a),Ea.test(b)?k(f).position()[a]+"px":
b):g}}})});k.expr&&k.expr.filters&&(k.expr.filters.hidden=function(f){return 0>=f.offsetWidth&&0>=f.offsetHeight||!k.support.reliableHiddenOffsets&&"none"===(f.style&&f.style.display||k.css(f,"display"))},k.expr.filters.visible=function(f){return!k.expr.filters.hidden(f)});k.each({margin:"",padding:"",border:"Width"},function(f,a){k.cssHooks[f+a]={expand:function(b){var e=0,r={};for(b="string"==typeof b?b.split(" "):[b];4>e;e++)r[f+ma[e]+a]=b[e]||b[e-2]||b[0];return r}};nb.test(f)||(k.cssHooks[f+
a].set=P)});var ec=/%20/g,Cb=/\[\]$/,pb=/\r?\n/g,fc=/^(?:submit|button|image|reset|file)$/i,gc=/^(?:input|select|textarea|keygen)/i;k.fn.extend({serialize:function(){return k.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var f=k.prop(this,"elements");return f?k.makeArray(f):this}).filter(function(){var f=this.type;return this.name&&!k(this).is(":disabled")&&gc.test(this.nodeName)&&!fc.test(f)&&(this.checked||!Ja.test(f))}).map(function(f,a){var b=k(this).val();
return null==b?null:k.isArray(b)?k.map(b,function(f){return{name:a.name,value:f.replace(pb,"\r\n")}}):{name:a.name,value:b.replace(pb,"\r\n")}}).get()}});k.param=function(f,a){var b,e=[],r=function(f,a){a=k.isFunction(a)?a():null==a?"":a;e[e.length]=encodeURIComponent(f)+"="+encodeURIComponent(a)};if(a===g&&(a=k.ajaxSettings&&k.ajaxSettings.traditional),k.isArray(f)||f.jquery&&!k.isPlainObject(f))k.each(f,function(){r(this.name,this.value)});else for(b in f)W(b,f[b],a,r);return e.join("&").replace(ec,
"+")};k.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(f,a){k.fn[a]=function(f,b){return 0<arguments.length?this.on(a,null,f,b):this.trigger(a)}});k.fn.hover=function(f,a){return this.mouseenter(f).mouseleave(a||f)};var oa,la,Ua=k.now(),Va=/\?/,hc=/#.*$/,qb=/([?&])_=[^&]*/,ic=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,jc=/^(?:GET|HEAD)$/,
kc=/^\/\//,rb=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,sb=k.fn.load,tb={},Ka={},ub="*/".concat("*");try{la=ba.href}catch(pc){la=N.createElement("a"),la.href="",la=la.href}oa=rb.exec(la.toLowerCase())||[];k.fn.load=function(f,a,b){if("string"!=typeof f&&sb)return sb.apply(this,arguments);var e,r,q,l=this,h=f.indexOf(" ");return 0<=h&&(e=f.slice(h,f.length),f=f.slice(0,h)),k.isFunction(a)?(b=a,a=g):a&&"object"==typeof a&&(q="POST"),0<l.length&&k.ajax({url:f,type:q,dataType:"html",data:a}).done(function(f){r=
arguments;l.html(e?k("<div>").append(k.parseHTML(f)).find(e):f)}).complete(b&&function(f,a){l.each(b,r||[f.responseText,a,f])}),this};k.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(f,a){k.fn[a]=function(f){return this.on(a,f)}});k.each(["get","post"],function(f,a){k[a]=function(f,b,e,r){return k.isFunction(b)&&(r=r||e,e=b,b=g),k.ajax({url:f,type:a,dataType:r,data:b,success:e})}});k.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:la,type:"GET",
isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(oa[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":ub,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":a.String,"text html":!0,"text json":k.parseJSON,"text xml":k.parseXML},flatOptions:{url:!0,
context:!0}},ajaxSetup:function(f,a){return a?V(V(f,k.ajaxSettings),a):V(k.ajaxSettings,f)},ajaxPrefilter:Z(tb),ajaxTransport:Z(Ka),ajax:function(f,a){function b(f,a,e,r){var F,z,u,Y,K,H=a;if(2!==O){O=2;h&&clearTimeout(h);t=g;l=r||"";J.readyState=0<f?4:0;if(e){Y=A;r=J;var D,G,C,aa,E=Y.contents,L=Y.dataTypes,Q=Y.responseFields;for(aa in Q)aa in e&&(r[Q[aa]]=e[aa]);for(;"*"===L[0];)L.shift(),G===g&&(G=Y.mimeType||r.getResponseHeader("Content-Type"));if(G)for(aa in E)if(E[aa]&&E[aa].test(G)){L.unshift(aa);
break}if(L[0]in e)C=L[0];else{for(aa in e){if(!L[0]||Y.converters[aa+" "+L[0]]){C=aa;break}D||(D=aa)}C=C||D}Y=C?(C!==L[0]&&L.unshift(C),e[C]):g}if(200<=f&&300>f||304===f)if(A.ifModified&&(K=J.getResponseHeader("Last-Modified"),K&&(k.lastModified[q]=K),K=J.getResponseHeader("etag"),K&&(k.etag[q]=K)),204===f)F=!0,H="nocontent";else if(304===f)F=!0,H="notmodified";else{var P;a:{e=A;F=Y;var M,I;u={};K=0;H=e.dataTypes.slice();D=H[0];if(e.dataFilter&&(F=e.dataFilter(F,e.dataType)),H[1])for(M in e.converters)u[M.toLowerCase()]=
e.converters[M];for(;z=H[++K];)if("*"!==z){if("*"!==D&&D!==z){if(M=u[D+" "+z]||u["* "+z],!M)for(P in u)if(I=P.split(" "),I[1]===z&&(M=u[D+" "+I[0]]||u["* "+I[0]])){!0===M?M=u[P]:!0!==u[P]&&(z=I[0],H.splice(K--,0,z));break}if(!0!==M)if(M&&e["throws"])F=M(F);else try{F=M(F)}catch(sa){P={state:"parsererror",error:M?sa:"No conversion from "+D+" to "+z};break a}}D=z}P={state:"success",data:F}}F=P;H=F.state;z=F.data;u=F.error;F=!u}else u=H,(f||!H)&&(H="error",0>f&&(f=0));J.status=f;J.statusText=(a||H)+
"";F?y.resolveWith(w,[z,H,J]):y.rejectWith(w,[J,H,u]);J.statusCode(B);B=g;s&&x.trigger(F?"ajaxSuccess":"ajaxError",[J,A,F?z:u]);S.fireWith(w,[J,H]);s&&(x.trigger("ajaxComplete",[J,A]),--k.active||k.event.trigger("ajaxStop"))}}"object"==typeof f&&(a=f,f=g);a=a||{};var e,r,q,l,h,s,t,F,A=k.ajaxSetup({},a),w=A.context||A,x=A.context&&(w.nodeType||w.jquery)?k(w):k.event,y=k.Deferred(),S=k.Callbacks("once memory"),B=A.statusCode||{},u={},Y={},O=0,K="canceled",J={readyState:0,getResponseHeader:function(f){var a;
if(2===O){if(!F)for(F={};a=ic.exec(l);)F[a[1].toLowerCase()]=a[2];a=F[f.toLowerCase()]}return null==a?null:a},getAllResponseHeaders:function(){return 2===O?l:null},setRequestHeader:function(f,a){var b=f.toLowerCase();return O||(f=Y[b]=Y[b]||f,u[f]=a),this},overrideMimeType:function(f){return O||(A.mimeType=f),this},statusCode:function(f){var a;if(f)if(2>O)for(a in f)B[a]=[B[a],f[a]];else J.always(f[J.status]);return this},abort:function(f){f=f||K;return t&&t.abort(f),b(0,f),this}};if(y.promise(J).complete=
S.add,J.success=J.done,J.error=J.fail,A.url=((f||A.url||la)+"").replace(hc,"").replace(kc,oa[1]+"//"),A.type=a.method||a.type||A.method||A.type,A.dataTypes=k.trim(A.dataType||"*").toLowerCase().match(ea)||[""],null==A.crossDomain&&(e=rb.exec(A.url.toLowerCase()),A.crossDomain=!(!e||e[1]===oa[1]&&e[2]===oa[2]&&(e[3]||("http:"===e[1]?80:443))==(oa[3]||("http:"===oa[1]?80:443)))),A.data&&A.processData&&"string"!=typeof A.data&&(A.data=k.param(A.data,A.traditional)),T(tb,A,a,J),2===O)return J;(s=A.global)&&
0===k.active++&&k.event.trigger("ajaxStart");A.type=A.type.toUpperCase();A.hasContent=!jc.test(A.type);q=A.url;A.hasContent||(A.data&&(q=A.url+=(Va.test(q)?"&":"?")+A.data,delete A.data),!1===A.cache&&(A.url=qb.test(q)?q.replace(qb,"$1_="+Ua++):q+(Va.test(q)?"&":"?")+"_="+Ua++));A.ifModified&&(k.lastModified[q]&&J.setRequestHeader("If-Modified-Since",k.lastModified[q]),k.etag[q]&&J.setRequestHeader("If-None-Match",k.etag[q]));(A.data&&A.hasContent&&!1!==A.contentType||a.contentType)&&J.setRequestHeader("Content-Type",
A.contentType);J.setRequestHeader("Accept",A.dataTypes[0]&&A.accepts[A.dataTypes[0]]?A.accepts[A.dataTypes[0]]+("*"!==A.dataTypes[0]?", "+ub+"; q=0.01":""):A.accepts["*"]);for(r in A.headers)J.setRequestHeader(r,A.headers[r]);if(A.beforeSend&&(!1===A.beforeSend.call(w,J,A)||2===O))return J.abort();K="abort";for(r in{success:1,error:1,complete:1})J[r](A[r]);if(t=T(Ka,A,a,J)){J.readyState=1;s&&x.trigger("ajaxSend",[J,A]);A.async&&0<A.timeout&&(h=setTimeout(function(){J.abort("timeout")},A.timeout));
try{O=1,t.send(u,b)}catch(H){if(!(2>O))throw H;b(-1,H)}}else b(-1,"No Transport");return J},getScript:function(f,a){return k.get(f,g,a,"script")},getJSON:function(f,a,b){return k.get(f,a,b,"json")}});k.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(f){return k.globalEval(f),f}}});k.ajaxPrefilter("script",function(f){f.cache===g&&(f.cache=!1);f.crossDomain&&
(f.type="GET",f.global=!1)});k.ajaxTransport("script",function(f){if(f.crossDomain){var a,b=N.head||k("head")[0]||N.documentElement;return{send:function(e,r){a=N.createElement("script");a.async=!0;f.scriptCharset&&(a.charset=f.scriptCharset);a.src=f.url;a.onload=a.onreadystatechange=function(f,b){(b||!a.readyState||/loaded|complete/.test(a.readyState))&&(a.onload=a.onreadystatechange=null,a.parentNode&&a.parentNode.removeChild(a),a=null,b||r(200,"success"))};b.insertBefore(a,b.firstChild)},abort:function(){a&&
a.onload(g,!0)}}}});var vb=[],Wa=/(=)\?(?=&|$)|\?\?/;k.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var f=vb.pop()||k.expando+"_"+Ua++;return this[f]=!0,f}});k.ajaxPrefilter("json jsonp",function(f,b,e){var r,q,l,h=!1!==f.jsonp&&(Wa.test(f.url)?"url":"string"==typeof f.data&&!(f.contentType||"").indexOf("application/x-www-form-urlencoded")&&Wa.test(f.data)&&"data");return h||"jsonp"===f.dataTypes[0]?(r=f.jsonpCallback=k.isFunction(f.jsonpCallback)?f.jsonpCallback():f.jsonpCallback,h?f[h]=
f[h].replace(Wa,"$1"+r):!1!==f.jsonp&&(f.url+=(Va.test(f.url)?"&":"?")+f.jsonp+"="+r),f.converters["script json"]=function(){return l||k.error(r+" was not called"),l[0]},f.dataTypes[0]="json",q=a[r],a[r]=function(){l=arguments},e.always(function(){a[r]=q;f[r]&&(f.jsonpCallback=b.jsonpCallback,vb.push(r));l&&k.isFunction(q)&&q(l[0]);l=q=g}),"script"):g});var wa,Da,lc=0,Xa=a.ActiveXObject&&function(){for(var f in wa)wa[f](g,!0)};k.ajaxSettings.xhr=a.ActiveXObject?function(){var f;if(!(f=!this.isLocal&&
X()))a:{try{f=new a.ActiveXObject("Microsoft.XMLHTTP");break a}catch(b){}f=void 0}return f}:X;Da=k.ajaxSettings.xhr();k.support.cors=!!Da&&"withCredentials"in Da;(Da=k.support.ajax=!!Da)&&k.ajaxTransport(function(f){if(!f.crossDomain||k.support.cors){var b;return{send:function(e,r){var q,l,h=f.xhr();if(f.username?h.open(f.type,f.url,f.async,f.username,f.password):h.open(f.type,f.url,f.async),f.xhrFields)for(l in f.xhrFields)h[l]=f.xhrFields[l];f.mimeType&&h.overrideMimeType&&h.overrideMimeType(f.mimeType);
f.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest");try{for(l in e)h.setRequestHeader(l,e[l])}catch(s){}h.send(f.hasContent&&f.data||null);b=function(a,e){var l,s,t,A;try{if(b&&(e||4===h.readyState))if(b=g,q&&(h.onreadystatechange=k.noop,Xa&&delete wa[q]),e)4!==h.readyState&&h.abort();else{A={};l=h.status;s=h.getAllResponseHeaders();"string"==typeof h.responseText&&(A.text=h.responseText);try{t=h.statusText}catch(F){t=""}l||!f.isLocal||f.crossDomain?1223===l&&(l=204):l=
A.text?200:404}}catch(w){e||r(-1,w)}A&&r(l,t,A,s)};f.async?4===h.readyState?setTimeout(b):(q=++lc,Xa&&(wa||(wa={},k(a).unload(Xa)),wa[q]=b),h.onreadystatechange=b):b()},abort:function(){b&&b(g,!0)}}}});var qa,Ha,mc=/^(?:toggle|show|hide)$/,nc=RegExp("^(?:([+-])=|)("+Ga+")([a-z%]*)$","i"),oc=/queueHooks$/,Fa=[function(f,a,b){var e,r,g,q,l,h,s=this,t=f.style,A={},F=[],w=f.nodeType&&O(f);b.queue||(l=k._queueHooks(f,"fx"),null==l.unqueued&&(l.unqueued=0,h=l.empty.fire,l.empty.fire=function(){l.unqueued||
h()}),l.unqueued++,s.always(function(){s.always(function(){l.unqueued--;k.queue(f,"fx").length||l.empty.fire()})}));1===f.nodeType&&("height"in a||"width"in a)&&(b.overflow=[t.overflow,t.overflowX,t.overflowY],"inline"===k.css(f,"display")&&"none"===k.css(f,"float")&&(k.support.inlineBlockNeedsLayout&&"inline"!==R(f.nodeName)?t.zoom=1:t.display="inline-block"));b.overflow&&(t.overflow="hidden",k.support.shrinkWrapBlocks||s.always(function(){t.overflow=b.overflow[0];t.overflowX=b.overflow[1];t.overflowY=
b.overflow[2]}));for(r in a)if(g=a[r],mc.exec(g))(delete a[r],e=e||"toggle"===g,g===(w?"hide":"show"))||F.push(r);if(a=F.length){g=k._data(f,"fxshow")||k._data(f,"fxshow",{});"hidden"in g&&(w=g.hidden);e&&(g.hidden=!w);w?k(f).show():s.done(function(){k(f).hide()});s.done(function(){var a;k._removeData(f,"fxshow");for(a in A)k.style(f,a,A[a])});for(r=0;a>r;r++)e=F[r],q=s.createTween(e,w?g[e]:0),A[e]=g[e]||k.style(f,e),e in g||(g[e]=q.start,w&&(q.end=q.start,q.start="width"===e||"height"===e?1:0))}}],
za={"*":[function(f,a){var b,e,r=this.createTween(f,a),g=nc.exec(a),q=r.cur(),l=+q||0,h=1,s=20;if(g){if(b=+g[2],e=g[3]||(k.cssNumber[f]?"":"px"),"px"!==e&&l){l=k.css(r.elem,f,!0)||b||1;do h=h||".5",l/=h,k.style(r.elem,f,l+e);while(h!==(h=r.cur()/q)&&1!==h&&--s)}r.unit=e;r.start=l;r.end=g[1]?l+(g[1]+1)*b:b}return r}]};k.Animation=k.extend(r,{tweener:function(f,a){k.isFunction(f)?(a=f,f=["*"]):f=f.split(" ");for(var b,e=0,r=f.length;r>e;e++)b=f[e],za[b]=za[b]||[],za[b].unshift(a)},prefilter:function(f,
a){a?Fa.unshift(f):Fa.push(f)}});k.Tween=S;S.prototype={constructor:S,init:function(f,a,b,e,r,g){this.elem=f;this.prop=b;this.easing=r||"swing";this.options=a;this.start=this.now=this.cur();this.end=e;this.unit=g||(k.cssNumber[b]?"":"px")},cur:function(){var a=S.propHooks[this.prop];return a&&a.get?a.get(this):S.propHooks._default.get(this)},run:function(a){var b,e=S.propHooks[this.prop];return this.pos=b=this.options.duration?k.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):
a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),e&&e.set?e.set(this):S.propHooks._default.set(this),this}};S.prototype.init.prototype=S.prototype;S.propHooks={_default:{get:function(a){var b;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=k.css(a.elem,a.prop,""),b&&"auto"!==b?b:0):a.elem[a.prop]},set:function(a){k.fx.step[a.prop]?k.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[k.cssProps[a.prop]]||k.cssHooks[a.prop])?
k.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}};S.propHooks.scrollTop=S.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}};k.each(["toggle","show","hide"],function(a,b){var e=k.fn[b];k.fn[b]=function(a,f,r){return null==a||"boolean"==typeof a?e.apply(this,arguments):this.animate(J(b,!0),a,f,r)}});k.fn.extend({fadeTo:function(a,b,e,r){return this.filter(O).css("opacity",0).show().end().animate({opacity:b},a,e,r)},animate:function(a,b,e,g){var q=
k.isEmptyObject(a),l=k.speed(b,e,g),h=function(){var b=r(this,k.extend({},a),l);h.finish=function(){b.stop(!0)};(q||k._data(this,"finish"))&&b.stop(!0)};return h.finish=h,q||!1===l.queue?this.each(h):this.queue(l.queue,h)},stop:function(a,b,e){var r=function(a){var f=a.stop;delete a.stop;f(e)};return"string"!=typeof a&&(e=b,b=a,a=g),b&&!1!==a&&this.queue(a||"fx",[]),this.each(function(){var b=!0,g=null!=a&&a+"queueHooks",q=k.timers,l=k._data(this);if(g)l[g]&&l[g].stop&&r(l[g]);else for(g in l)l[g]&&
l[g].stop&&oc.test(g)&&r(l[g]);for(g=q.length;g--;)q[g].elem!==this||null!=a&&q[g].queue!==a||(q[g].anim.stop(e),b=!1,q.splice(g,1));(b||!e)&&k.dequeue(this,a)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var b,e=k._data(this),r=e[a+"queue"];b=e[a+"queueHooks"];var g=k.timers,q=r?r.length:0;e.finish=!0;k.queue(this,a,[]);b&&b.cur&&b.cur.finish&&b.cur.finish.call(this);for(b=g.length;b--;)g[b].elem===this&&g[b].queue===a&&(g[b].anim.stop(!0),g.splice(b,1));for(b=0;q>b;b++)r[b]&&
r[b].finish&&r[b].finish.call(this);delete e.finish})}});k.each({slideDown:J("show"),slideUp:J("hide"),slideToggle:J("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){k.fn[a]=function(a,f,e){return this.animate(b,a,f,e)}});k.speed=function(a,b,e){var r=a&&"object"==typeof a?k.extend({},a):{complete:e||!e&&b||k.isFunction(a)&&a,duration:a,easing:e&&b||b&&!k.isFunction(b)&&b};return r.duration=k.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in
k.fx.speeds?k.fx.speeds[r.duration]:k.fx.speeds._default,(null==r.queue||!0===r.queue)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){k.isFunction(r.old)&&r.old.call(this);r.queue&&k.dequeue(this,r.queue)},r};k.easing={linear:function(a){return a},swing:function(a){return 0.5-Math.cos(a*Math.PI)/2}};k.timers=[];k.fx=S.prototype.init;k.fx.tick=function(){var a,b=k.timers,e=0;for(qa=k.now();b.length>e;e++)a=b[e],a()||b[e]!==a||b.splice(e--,1);b.length||k.fx.stop();qa=g};k.fx.timer=function(a){a()&&
k.timers.push(a)&&k.fx.start()};k.fx.interval=13;k.fx.start=function(){Ha||(Ha=setInterval(k.fx.tick,k.fx.interval))};k.fx.stop=function(){clearInterval(Ha);Ha=null};k.fx.speeds={slow:600,fast:200,_default:400};k.fx.step={};k.expr&&k.expr.filters&&(k.expr.filters.animated=function(a){return k.grep(k.timers,function(b){return a===b.elem}).length});k.fn.offset=function(a){if(arguments.length)return a===g?this:this.each(function(b){k.offset.setOffset(this,a,b)});var b,e,r={top:0,left:0},q=this[0],l=
q&&q.ownerDocument;if(l)return b=l.documentElement,k.contains(b,q)?(typeof q.getBoundingClientRect!==ca&&(r=q.getBoundingClientRect()),e=ra(l),{top:r.top+(e.pageYOffset||b.scrollTop)-(b.clientTop||0),left:r.left+(e.pageXOffset||b.scrollLeft)-(b.clientLeft||0)}):r};k.offset={setOffset:function(a,b,e){var r=k.css(a,"position");"static"===r&&(a.style.position="relative");var g=k(a),q=g.offset(),l=k.css(a,"top"),h=k.css(a,"left"),s={},t={},A,F;("absolute"===r||"fixed"===r)&&-1<k.inArray("auto",[l,h])?
(t=g.position(),A=t.top,F=t.left):(A=parseFloat(l)||0,F=parseFloat(h)||0);k.isFunction(b)&&(b=b.call(a,e,q));null!=b.top&&(s.top=b.top-q.top+A);null!=b.left&&(s.left=b.left-q.left+F);"using"in b?b.using.call(a,s):g.css(s)}};k.fn.extend({position:function(){if(this[0]){var a,b,e={top:0,left:0},r=this[0];return"fixed"===k.css(r,"position")?b=r.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),k.nodeName(a[0],"html")||(e=a.offset()),e.top+=k.css(a[0],"borderTopWidth",!0),e.left+=k.css(a[0],
"borderLeftWidth",!0)),{top:b.top-e.top-k.css(r,"marginTop",!0),left:b.left-e.left-k.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||N.documentElement;a&&!k.nodeName(a,"html")&&"static"===k.css(a,"position");)a=a.offsetParent;return a||N.documentElement})}});k.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var e=/Y/.test(b);k.fn[a]=function(r){return k.access(this,function(a,f,r){var q=ra(a);return r===g?q?b in q?q[b]:
q.document.documentElement[f]:a[f]:(q?q.scrollTo(e?k(q).scrollLeft():r,e?r:k(q).scrollTop()):a[f]=r,g)},a,r,arguments.length,null)}});k.each({Height:"height",Width:"width"},function(a,b){k.each({padding:"inner"+a,content:b,"":"outer"+a},function(e,r){k.fn[r]=function(r,q){var l=arguments.length&&(e||"boolean"!=typeof r),h=e||(!0===r||!0===q?"margin":"border");return k.access(this,function(b,e,r){var q;return k.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(q=b.documentElement,
Math.max(b.body["scroll"+a],q["scroll"+a],b.body["offset"+a],q["offset"+a],q["client"+a])):r===g?k.css(b,e,h):k.style(b,e,r,h)},b,l?r:g,l,null)}})});a.jQuery=a.$=k;"function"==typeof define&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return k})})(window);!function(a){a(function(){var g=a.support,h;a:{h=document.createElement("bootstrap");var b={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},e;for(e in b)if(void 0!==h.style[e]){h=b[e];break a}h=void 0}g.transition=h&&{end:h}})}(window.jQuery);
!function(a){var g=function(b,e){this.options=e;this.$element=a(b).delegate('[data-dismiss="modal"]',"click.dismiss.modal",a.proxy(this.hide,this));this.options.remote&&this.$element.find(".modal-body").load(this.options.remote)};g.prototype={constructor:g,toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var b=this,e=a.Event("show");this.$element.trigger(e);!this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!0,this.escape(),this.backdrop(function(){var e=a.support.transition&&
b.$element.hasClass("fade");b.$element.parent().length||b.$element.appendTo(document.body);b.$element.show();e&&b.$element[0].offsetWidth;b.$element.addClass("in").attr("aria-hidden",!1);b.enforceFocus();e?b.$element.one(a.support.transition.end,function(){b.$element.focus().trigger("shown")}):b.$element.focus().trigger("shown")}))},hide:function(b){b&&b.preventDefault();b=a.Event("hide");this.$element.trigger(b);this.isShown&&!b.isDefaultPrevented()&&(this.isShown=!1,this.escape(),a(document).off("focusin.modal"),
this.$element.removeClass("in").attr("aria-hidden",!0),a.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal())},enforceFocus:function(){var b=this;a(document).on("focusin.modal",function(a){b.$element[0]!==a.target&&!b.$element.has(a.target).length&&b.$element.focus()})},escape:function(){var a=this;this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.modal",function(e){27==e.which&&a.hide()}):this.isShown||this.$element.off("keyup.dismiss.modal")},
hideWithTransition:function(){var b=this,e=setTimeout(function(){b.$element.off(a.support.transition.end);b.hideModal()},500);this.$element.one(a.support.transition.end,function(){clearTimeout(e);b.hideModal()})},hideModal:function(){var a=this;this.$element.hide();this.backdrop(function(){a.removeBackdrop();a.$element.trigger("hidden")})},removeBackdrop:function(){this.$backdrop&&this.$backdrop.remove();this.$backdrop=null},backdrop:function(b){var e=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&
this.options.backdrop){var g=a.support.transition&&e;this.$backdrop=a('<div class="modal-backdrop '+e+'" />').appendTo(document.body);this.$backdrop.click("static"==this.options.backdrop?a.proxy(this.$element[0].focus,this.$element[0]):a.proxy(this.hide,this));g&&this.$backdrop[0].offsetWidth;this.$backdrop.addClass("in");b&&(g?this.$backdrop.one(a.support.transition.end,b):b())}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),a.support.transition&&this.$element.hasClass("fade")?
this.$backdrop.one(a.support.transition.end,b):b()):b&&b()}};var h=a.fn.modal;a.fn.modal=function(b){return this.each(function(){var e=a(this),l=e.data("modal"),h=a.extend({},a.fn.modal.defaults,e.data(),"object"==typeof b&&b);l||e.data("modal",l=new g(this,h));"string"==typeof b?l[b]():h.show&&l.show()})};a.fn.modal.defaults={backdrop:!0,keyboard:!0,show:!0};a.fn.modal.Constructor=g;a.fn.modal.noConflict=function(){return a.fn.modal=h,this};a(document).on("click.modal.data-api",'[data-toggle="modal"]',
function(b){var e=a(this),g=e.attr("href"),h=a(e.attr("data-target")||g&&g.replace(/.*(?=#[^\s]+$)/,"")),g=h.data("modal")?"toggle":a.extend({remote:!/#/.test(g)&&g},h.data(),e.data());b.preventDefault();h.modal(g).one("hide",function(){e.focus()})})}(window.jQuery);
!function(a){function g(){a(".dropdown-backdrop").remove();a(b).each(function(){h(a(this)).removeClass("open")})}function h(b){var e=b.attr("data-target");e||(e=b.attr("href"),e=e&&/#/.test(e)&&e.replace(/.*(?=#[^\s]*$)/,""));e=e&&a(e);if(!e||!e.length)e=b.parent();return e}var b="[data-toggle=dropdown]",e=function(b){var e=a(b).on("click.dropdown.data-api",this.toggle);a("html").on("click.dropdown.data-api",function(){e.parent().removeClass("open")})};e.prototype={constructor:e,toggle:function(b){b=
a(this);var e,l;if(!b.is(".disabled, :disabled"))return e=h(b),l=e.hasClass("open"),g(),l||("ontouchstart"in document.documentElement&&a('<div class="dropdown-backdrop"/>').insertBefore(a(this)).on("click",g),e.toggleClass("open")),b.focus(),!1},keydown:function(e){var g,l,u;if(/(38|40|27)/.test(e.keyCode)&&(g=a(this),e.preventDefault(),e.stopPropagation(),!g.is(".disabled, :disabled"))){l=h(g);u=l.hasClass("open");if(!u||u&&27==e.keyCode)return 27==e.which&&l.find(b).focus(),g.click();g=a("[role=menu] li:not(.divider):visible a",
l);g.length&&(l=g.index(g.filter(":focus")),38==e.keyCode&&0<l&&l--,40==e.keyCode&&l<g.length-1&&l++,~l||(l=0),g.eq(l).focus())}}};var l=a.fn.dropdown;a.fn.dropdown=function(b){return this.each(function(){var g=a(this),l=g.data("dropdown");l||g.data("dropdown",l=new e(this));"string"==typeof b&&l[b].call(g)})};a.fn.dropdown.Constructor=e;a.fn.dropdown.noConflict=function(){return a.fn.dropdown=l,this};a(document).on("click.dropdown.data-api",g).on("click.dropdown.data-api",".dropdown form",function(a){a.stopPropagation()}).on("click.dropdown.data-api",
b,e.prototype.toggle).on("keydown.dropdown.data-api",b+", [role=menu]",e.prototype.keydown)}(window.jQuery);
!function(a){function g(b,e){var g=a.proxy(this.process,this),h=a(b).is("body")?a(window):a(b),q;this.options=a.extend({},a.fn.scrollspy.defaults,e);this.$scrollElement=h.on("scroll.scroll-spy.data-api",g);this.selector=(this.options.target||(q=a(b).attr("href"))&&q.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a";this.$body=a("body");this.refresh();this.process()}g.prototype={constructor:g,refresh:function(){var b=this;this.offsets=a([]);this.targets=a([]);this.$body.find(this.selector).map(function(){var e=
a(this),e=e.data("target")||e.attr("href"),g=/^#\w/.test(e)&&a(e);return g&&g.length&&[[g.position().top+(!a.isWindow(b.$scrollElement.get(0))&&b.$scrollElement.scrollTop()),e]]||null}).sort(function(a,b){return a[0]-b[0]}).each(function(){b.offsets.push(this[0]);b.targets.push(this[1])})},process:function(){var a=this.$scrollElement.scrollTop()+this.options.offset,e=(this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight)-this.$scrollElement.height(),g=this.offsets,h=this.targets,q=this.activeTarget,
y;if(a>=e)return q!=(y=h.last()[0])&&this.activate(y);for(y=g.length;y--;)q!=h[y]&&a>=g[y]&&(!g[y+1]||a<=g[y+1])&&this.activate(h[y])},activate:function(b){this.activeTarget=b;a(this.selector).parent(".active").removeClass("active");b=a(this.selector+'[data-target="'+b+'"],'+this.selector+'[href="'+b+'"]').parent("li").addClass("active");b.parent(".dropdown-menu").length&&(b=b.closest("li.dropdown").addClass("active"));b.trigger("activate")}};var h=a.fn.scrollspy;a.fn.scrollspy=function(b){return this.each(function(){var e=
a(this),l=e.data("scrollspy"),h="object"==typeof b&&b;l||e.data("scrollspy",l=new g(this,h));"string"==typeof b&&l[b]()})};a.fn.scrollspy.Constructor=g;a.fn.scrollspy.defaults={offset:10};a.fn.scrollspy.noConflict=function(){return a.fn.scrollspy=h,this};a(window).on("load",function(){a('[data-spy="scroll"]').each(function(){var b=a(this);b.scrollspy(b.data())})})}(window.jQuery);
!function(a){var g=function(b){this.element=a(b)};g.prototype={constructor:g,show:function(){var b=this.element,e=b.closest("ul:not(.dropdown-menu)"),g=b.attr("data-target"),h,q;g||(g=b.attr("href"),g=g&&g.replace(/.*(?=#[^\s]*$)/,""));b.parent("li").hasClass("active")||(h=e.find(".active:last a")[0],q=a.Event("show",{relatedTarget:h}),b.trigger(q),q.isDefaultPrevented()||(g=a(g),this.activate(b.parent("li"),e),this.activate(g,g.parent(),function(){b.trigger({type:"shown",relatedTarget:h})})))},activate:function(b,
e,g){function h(){q.removeClass("active").find("> .dropdown-menu > .active").removeClass("active");b.addClass("active");y?(b[0].offsetWidth,b.addClass("in")):b.removeClass("fade");b.parent(".dropdown-menu")&&b.closest("li.dropdown").addClass("active");g&&g()}var q=e.find("> .active"),y=g&&a.support.transition&&q.hasClass("fade");y?q.one(a.support.transition.end,h):h();q.removeClass("in")}};var h=a.fn.tab;a.fn.tab=function(b){return this.each(function(){var e=a(this),l=e.data("tab");l||e.data("tab",
l=new g(this));"string"==typeof b&&l[b]()})};a.fn.tab.Constructor=g;a.fn.tab.noConflict=function(){return a.fn.tab=h,this};a(document).on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(b){b.preventDefault();a(this).tab("show")})}(window.jQuery);
!function(a){var g=function(a,e){this.init("tooltip",a,e)};g.prototype={constructor:g,init:function(b,e,g){var h,q;this.type=b;this.$element=a(e);this.options=this.getOptions(g);this.enabled=!0;b=this.options.trigger.split(" ");for(g=b.length;g--;)e=b[g],"click"==e?this.$element.on("click."+this.type,this.options.selector,a.proxy(this.toggle,this)):"manual"!=e&&(h="hover"==e?"mouseenter":"focus",q="hover"==e?"mouseleave":"blur",this.$element.on(h+"."+this.type,this.options.selector,a.proxy(this.enter,
this)),this.$element.on(q+"."+this.type,this.options.selector,a.proxy(this.leave,this)));this.options.selector?this._options=a.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(b){return b=a.extend({},a.fn[this.type].defaults,this.$element.data(),b),b.delay&&"number"==typeof b.delay&&(b.delay={show:b.delay,hide:b.delay}),b},enter:function(b){var e=a.fn[this.type].defaults,g={},h;this._options&&a.each(this._options,function(a,b){e[a]!=b&&(g[a]=b)},this);h=
a(b.currentTarget)[this.type](g).data(this.type);if(!h.options.delay||!h.options.delay.show)return h.show();clearTimeout(this.timeout);h.hoverState="in";this.timeout=setTimeout(function(){"in"==h.hoverState&&h.show()},h.options.delay.show)},leave:function(b){var e=a(b.currentTarget)[this.type](this._options).data(this.type);this.timeout&&clearTimeout(this.timeout);if(!e.options.delay||!e.options.delay.hide)return e.hide();e.hoverState="out";this.timeout=setTimeout(function(){"out"==e.hoverState&&
e.hide()},e.options.delay.hide)},show:function(){var b,e,g,h,q;e=a.Event("show");if(this.hasContent()&&this.enabled&&(this.$element.trigger(e),!e.isDefaultPrevented())){b=this.tip();this.setContent();this.options.animation&&b.addClass("fade");h="function"==typeof this.options.placement?this.options.placement.call(this,b[0],this.$element[0]):this.options.placement;b.detach().css({top:0,left:0,display:"block"});this.options.container?b.appendTo(this.options.container):b.insertAfter(this.$element);e=
this.getPosition();g=b[0].offsetWidth;b=b[0].offsetHeight;switch(h){case "bottom":q={top:e.top+e.height,left:e.left+e.width/2-g/2};break;case "top":q={top:e.top-b,left:e.left+e.width/2-g/2};break;case "left":q={top:e.top+e.height/2-b/2,left:e.left-g};break;case "right":q={top:e.top+e.height/2-b/2,left:e.left+e.width}}this.applyPlacement(q,h);this.$element.trigger("shown")}},applyPlacement:function(a,e){var g=this.tip(),h=g[0].offsetWidth,q=g[0].offsetHeight,y,u,G,D;g.offset(a).addClass(e).addClass("in");
y=g[0].offsetWidth;u=g[0].offsetHeight;"top"==e&&u!=q&&(a.top=a.top+q-u,D=!0);"bottom"==e||"top"==e?(G=0,0>a.left&&(G=-2*a.left,a.left=0,g.offset(a),y=g[0].offsetWidth),this.replaceArrow(G-h+y,y,"left")):this.replaceArrow(u-q,u,"top");D&&g.offset(a)},replaceArrow:function(a,e,g){this.arrow().css(g,a?50*(1-a/e)+"%":"")},setContent:function(){var a=this.tip(),e=this.getTitle();a.find(".tooltip-inner")[this.options.html?"html":"text"](e);a.removeClass("fade in top bottom left right")},hide:function(){function b(){var b=
setTimeout(function(){e.off(a.support.transition.end).detach()},500);e.one(a.support.transition.end,function(){clearTimeout(b);e.detach()})}var e=this.tip(),g=a.Event("hide");this.$element.trigger(g);if(!g.isDefaultPrevented())return e.removeClass("in"),a.support.transition&&this.$tip.hasClass("fade")?b():e.detach(),this.$element.trigger("hidden"),this},fixTitle:function(){var a=this.$element;(a.attr("title")||"string"!=typeof a.attr("data-original-title"))&&a.attr("data-original-title",a.attr("title")||
"").attr("title","")},hasContent:function(){return this.getTitle()},getPosition:function(){var b=this.$element[0];return a.extend({},"function"==typeof b.getBoundingClientRect?b.getBoundingClientRect():{width:b.offsetWidth,height:b.offsetHeight},this.$element.offset())},getTitle:function(){var a,e=this.$element,g=this.options;return a=e.attr("data-original-title")||("function"==typeof g.title?g.title.call(e[0]):g.title),a},tip:function(){return this.$tip=this.$tip||a(this.options.template)},arrow:function(){return this.$arrow=
this.$arrow||this.tip().find(".tooltip-arrow")},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(b){b=b?a(b.currentTarget)[this.type](this._options).data(this.type):this;b.tip().hasClass("in")?b.hide():b.show()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}};var h=a.fn.tooltip;
a.fn.tooltip=function(b){return this.each(function(){var e=a(this),l=e.data("tooltip"),h="object"==typeof b&&b;l||e.data("tooltip",l=new g(this,h));"string"==typeof b&&l[b]()})};a.fn.tooltip.Constructor=g;a.fn.tooltip.defaults={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1};a.fn.tooltip.noConflict=function(){return a.fn.tooltip=h,this}}(window.jQuery);
!function(a){var g=function(a,e){this.init("popover",a,e)};g.prototype=a.extend({},a.fn.tooltip.Constructor.prototype,{constructor:g,setContent:function(){var a=this.tip(),e=this.getTitle(),g=this.getContent();a.find(".popover-title")[this.options.html?"html":"text"](e);a.find(".popover-content")[this.options.html?"html":"text"](g);a.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var a,e=this.$element,g=this.options;
return a=("function"==typeof g.content?g.content.call(e[0]):g.content)||e.attr("data-content"),a},tip:function(){return this.$tip||(this.$tip=a(this.options.template)),this.$tip},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}});var h=a.fn.popover;a.fn.popover=function(b){return this.each(function(){var e=a(this),l=e.data("popover"),h="object"==typeof b&&b;l||e.data("popover",l=new g(this,h));"string"==typeof b&&l[b]()})};a.fn.popover.Constructor=g;a.fn.popover.defaults=
a.extend({},a.fn.tooltip.defaults,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'});a.fn.popover.noConflict=function(){return a.fn.popover=h,this}}(window.jQuery);
!function(a){var g=function(b,e){this.options=a.extend({},a.fn.affix.defaults,e);this.$window=a(window).on("scroll.affix.data-api",a.proxy(this.checkPosition,this)).on("click.affix.data-api",a.proxy(function(){setTimeout(a.proxy(this.checkPosition,this),1)},this));this.$element=a(b);this.checkPosition()};g.prototype.checkPosition=function(){if(this.$element.is(":visible")){var b=a(document).height(),e=this.$window.scrollTop(),g=this.$element.offset(),h=this.options.offset,q=h.bottom,y=h.top;"object"!=
typeof h&&(q=y=h);"function"==typeof y&&(y=h.top());"function"==typeof q&&(q=h.bottom());b=null!=this.unpin&&e+this.unpin<=g.top?!1:null!=q&&g.top+this.$element.height()>=b-q?"bottom":null!=y&&e<=y?"top":!1;this.affixed!==b&&(this.affixed=b,this.unpin="bottom"==b?g.top-e:null,this.$element.removeClass("affix affix-top affix-bottom").addClass("affix"+(b?"-"+b:"")))}};var h=a.fn.affix;a.fn.affix=function(b){return this.each(function(){var e=a(this),h=e.data("affix"),s="object"==typeof b&&b;h||e.data("affix",
h=new g(this,s));"string"==typeof b&&h[b]()})};a.fn.affix.Constructor=g;a.fn.affix.defaults={offset:0};a.fn.affix.noConflict=function(){return a.fn.affix=h,this};a(window).on("load",function(){a('[data-spy="affix"]').each(function(){var b=a(this),e=b.data();e.offset=e.offset||{};e.offsetBottom&&(e.offset.bottom=e.offsetBottom);e.offsetTop&&(e.offset.top=e.offsetTop);b.affix(e)})})}(window.jQuery);
!function(a){var g=function(b){a(b).on("click",'[data-dismiss="alert"]',this.close)};g.prototype.close=function(b){function e(){q.trigger("closed").remove()}var g=a(this),h=g.attr("data-target"),q;h||(h=g.attr("href"),h=h&&h.replace(/.*(?=#[^\s]*$)/,""));q=a(h);b&&b.preventDefault();q.length||(q=g.hasClass("alert")?g:g.parent());q.trigger(b=a.Event("close"));b.isDefaultPrevented()||(q.removeClass("in"),a.support.transition&&q.hasClass("fade")?q.on(a.support.transition.end,e):e())};var h=a.fn.alert;
a.fn.alert=function(b){return this.each(function(){var e=a(this),h=e.data("alert");h||e.data("alert",h=new g(this));"string"==typeof b&&h[b].call(e)})};a.fn.alert.Constructor=g;a.fn.alert.noConflict=function(){return a.fn.alert=h,this};a(document).on("click.alert.data-api",'[data-dismiss="alert"]',g.prototype.close)}(window.jQuery);
!function(a){var g=function(b,e){this.$element=a(b);this.options=a.extend({},a.fn.button.defaults,e)};g.prototype.setState=function(a){var e=this.$element,g=e.data(),h=e.is("input")?"val":"html";a+="Text";g.resetText||e.data("resetText",e[h]());e[h](g[a]||this.options[a]);setTimeout(function(){"loadingText"==a?e.addClass("disabled").attr("disabled","disabled"):e.removeClass("disabled").removeAttr("disabled")},0)};g.prototype.toggle=function(){var a=this.$element.closest('[data-toggle="buttons-radio"]');
a&&a.find(".active").removeClass("active");this.$element.toggleClass("active")};var h=a.fn.button;a.fn.button=function(b){return this.each(function(){var e=a(this),h=e.data("button"),s="object"==typeof b&&b;h||e.data("button",h=new g(this,s));"toggle"==b?h.toggle():b&&h.setState(b)})};a.fn.button.defaults={loadingText:"loading..."};a.fn.button.Constructor=g;a.fn.button.noConflict=function(){return a.fn.button=h,this};a(document).on("click.button.data-api","[data-toggle^=button]",function(b){b=a(b.target);
b.hasClass("btn")||(b=b.closest(".btn"));b.button("toggle")})}(window.jQuery);
!function(a){var g=function(b,e){this.$element=a(b);this.options=a.extend({},a.fn.collapse.defaults,e);this.options.parent&&(this.$parent=a(this.options.parent));this.options.toggle&&this.toggle()};g.prototype={constructor:g,dimension:function(){return this.$element.hasClass("width")?"width":"height"},show:function(){var b,e,g,h;if(!this.transitioning&&!this.$element.hasClass("in")){b=this.dimension();e=a.camelCase(["scroll",b].join("-"));if((g=this.$parent&&this.$parent.find("> .accordion-group > .in"))&&
g.length){if((h=g.data("collapse"))&&h.transitioning)return;g.collapse("hide");h||g.data("collapse",null)}this.$element[b](0);this.transition("addClass",a.Event("show"),"shown");a.support.transition&&this.$element[b](this.$element[0][e])}},hide:function(){var b;!this.transitioning&&this.$element.hasClass("in")&&(b=this.dimension(),this.reset(this.$element[b]()),this.transition("removeClass",a.Event("hide"),"hidden"),this.$element[b](0))},reset:function(a){var e=this.dimension();return this.$element.removeClass("collapse")[e](a||
"auto")[0].offsetWidth,this.$element[null!==a?"addClass":"removeClass"]("collapse"),this},transition:function(b,e,g){var h=this,q=function(){"show"==e.type&&h.reset();h.transitioning=0;h.$element.trigger(g)};this.$element.trigger(e);e.isDefaultPrevented()||(this.transitioning=1,this.$element[b]("in"),a.support.transition&&this.$element.hasClass("collapse")?this.$element.one(a.support.transition.end,q):q())},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}};var h=a.fn.collapse;
a.fn.collapse=function(b){return this.each(function(){var e=a(this),h=e.data("collapse"),s=a.extend({},a.fn.collapse.defaults,e.data(),"object"==typeof b&&b);h||e.data("collapse",h=new g(this,s));"string"==typeof b&&h[b]()})};a.fn.collapse.defaults={toggle:!0};a.fn.collapse.Constructor=g;a.fn.collapse.noConflict=function(){return a.fn.collapse=h,this};a(document).on("click.collapse.data-api","[data-toggle=collapse]",function(b){var e=a(this),g;b=e.attr("data-target")||b.preventDefault()||(g=e.attr("href"))&&
g.replace(/.*(?=#[^\s]+$)/,"");g=a(b).data("collapse")?"toggle":e.data();e[a(b).hasClass("in")?"addClass":"removeClass"]("collapsed");a(b).collapse(g)})}(window.jQuery);
!function(a){var g=function(b,e){this.$element=a(b);this.$indicators=this.$element.find(".carousel-indicators");this.options=e;"hover"==this.options.pause&&this.$element.on("mouseenter",a.proxy(this.pause,this)).on("mouseleave",a.proxy(this.cycle,this))};g.prototype={cycle:function(b){return b||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(a.proxy(this.next,this),this.options.interval)),this},getActiveIndex:function(){return this.$active=
this.$element.find(".item.active"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)},to:function(b){var e=this.getActiveIndex(),g=this;if(!(b>this.$items.length-1||0>b))return this.sliding?this.$element.one("slid",function(){g.to(b)}):e==b?this.pause().cycle():this.slide(b>e?"next":"prev",a(this.$items[b]))},pause:function(b){return b||(this.paused=!0),this.$element.find(".next, .prev").length&&a.support.transition.end&&(this.$element.trigger(a.support.transition.end),
this.cycle(!0)),clearInterval(this.interval),this.interval=null,this},next:function(){if(!this.sliding)return this.slide("next")},prev:function(){if(!this.sliding)return this.slide("prev")},slide:function(b,e){var g=this.$element.find(".item.active"),h=e||g[b](),q=this.interval,y="next"==b?"left":"right",u="next"==b?"first":"last",G=this;this.sliding=!0;q&&this.pause();h=h.length?h:this.$element.find(".item")[u]();u=a.Event("slide",{relatedTarget:h[0],direction:y});if(!h.hasClass("active")){this.$indicators.length&&
(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid",function(){var b=a(G.$indicators.children()[G.getActiveIndex()]);b&&b.addClass("active")}));if(a.support.transition&&this.$element.hasClass("slide")){this.$element.trigger(u);if(u.isDefaultPrevented())return;h.addClass(b);h[0].offsetWidth;g.addClass(y);h.addClass(y);this.$element.one(a.support.transition.end,function(){h.removeClass([b,y].join(" ")).addClass("active");g.removeClass(["active",y].join(" "));G.sliding=!1;
setTimeout(function(){G.$element.trigger("slid")},0)})}else{this.$element.trigger(u);if(u.isDefaultPrevented())return;g.removeClass("active");h.addClass("active");this.sliding=!1;this.$element.trigger("slid")}return q&&this.cycle(),this}}};var h=a.fn.carousel;a.fn.carousel=function(b){return this.each(function(){var e=a(this),h=e.data("carousel"),s=a.extend({},a.fn.carousel.defaults,"object"==typeof b&&b),q="string"==typeof b?b:s.slide;h||e.data("carousel",h=new g(this,s));"number"==typeof b?h.to(b):
q?h[q]():s.interval&&h.pause().cycle()})};a.fn.carousel.defaults={interval:5E3,pause:"hover"};a.fn.carousel.Constructor=g;a.fn.carousel.noConflict=function(){return a.fn.carousel=h,this};a(document).on("click.carousel.data-api","[data-slide], [data-slide-to]",function(b){var e=a(this),g,h=a(e.attr("data-target")||(g=e.attr("href"))&&g.replace(/.*(?=#[^\s]+$)/,""));g=a.extend({},h.data(),e.data());var q;h.carousel(g);(q=e.attr("data-slide-to"))&&h.data("carousel").pause().to(q).cycle();b.preventDefault()})}(window.jQuery);
!function(a){var g=function(b,e){this.$element=a(b);this.options=a.extend({},a.fn.typeahead.defaults,e);this.matcher=this.options.matcher||this.matcher;this.sorter=this.options.sorter||this.sorter;this.highlighter=this.options.highlighter||this.highlighter;this.updater=this.options.updater||this.updater;this.source=this.options.source;this.$menu=a(this.options.menu);this.shown=!1;this.listen()};g.prototype={constructor:g,select:function(){var a=this.$menu.find(".active").attr("data-value");return this.$element.val(this.updater(a)).change(),
this.hide()},updater:function(a){return a},show:function(){var b=a.extend({},this.$element.position(),{height:this.$element[0].offsetHeight});return this.$menu.insertAfter(this.$element).css({top:b.top+b.height,left:b.left}).show(),this.shown=!0,this},hide:function(){return this.$menu.hide(),this.shown=!1,this},lookup:function(b){var e;return this.query=this.$element.val(),!this.query||this.query.length<this.options.minLength?this.shown?this.hide():this:(e=a.isFunction(this.source)?this.source(this.query,
a.proxy(this.process,this)):this.source,e?this.process(e):this)},process:function(b){var e=this;return b=a.grep(b,function(a){return e.matcher(a)}),b=this.sorter(b),b.length?this.render(b.slice(0,this.options.items)).show():this.shown?this.hide():this},matcher:function(a){return~a.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(a){for(var e=[],g=[],h=[],q;q=a.shift();)q.toLowerCase().indexOf(this.query.toLowerCase())?~q.indexOf(this.query)?g.push(q):h.push(q):e.push(q);return e.concat(g,
h)},highlighter:function(a){var e=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return a.replace(RegExp("("+e+")","ig"),function(a,b){return"<strong>"+b+"</strong>"})},render:function(b){var e=this;return b=a(b).map(function(b,g){return b=a(e.options.item).attr("data-value",g),b.find("a").html(e.highlighter(g)),b[0]}),b.first().addClass("active"),this.$menu.html(b),this},next:function(b){b=this.$menu.find(".active").removeClass("active").next();b.length||(b=a(this.$menu.find("li")[0]));
b.addClass("active")},prev:function(a){a=this.$menu.find(".active").removeClass("active").prev();a.length||(a=this.$menu.find("li").last());a.addClass("active")},listen:function(){this.$element.on("focus",a.proxy(this.focus,this)).on("blur",a.proxy(this.blur,this)).on("keypress",a.proxy(this.keypress,this)).on("keyup",a.proxy(this.keyup,this));this.eventSupported("keydown")&&this.$element.on("keydown",a.proxy(this.keydown,this));this.$menu.on("click",a.proxy(this.click,this)).on("mouseenter","li",
a.proxy(this.mouseenter,this)).on("mouseleave","li",a.proxy(this.mouseleave,this))},eventSupported:function(a){var e=a in this.$element;return e||(this.$element.setAttribute(a,"return;"),e="function"==typeof this.$element[a]),e},move:function(a){if(this.shown){switch(a.keyCode){case 9:case 13:case 27:a.preventDefault();break;case 38:a.preventDefault();this.prev();break;case 40:a.preventDefault(),this.next()}a.stopPropagation()}},keydown:function(b){this.suppressKeyPressRepeat=~a.inArray(b.keyCode,
[40,38,9,13,27]);this.move(b)},keypress:function(a){this.suppressKeyPressRepeat||this.move(a)},keyup:function(a){switch(a.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.lookup()}a.stopPropagation();a.preventDefault()},focus:function(a){this.focused=!0},blur:function(a){this.focused=!1;!this.mousedover&&this.shown&&this.hide()},click:function(a){a.stopPropagation();a.preventDefault();
this.select();this.$element.focus()},mouseenter:function(b){this.mousedover=!0;this.$menu.find(".active").removeClass("active");a(b.currentTarget).addClass("active")},mouseleave:function(a){this.mousedover=!1;!this.focused&&this.shown&&this.hide()}};var h=a.fn.typeahead;a.fn.typeahead=function(b){return this.each(function(){var e=a(this),h=e.data("typeahead"),s="object"==typeof b&&b;h||e.data("typeahead",h=new g(this,s));"string"==typeof b&&h[b]()})};a.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',
item:'<li><a href="#"></a></li>',minLength:1};a.fn.typeahead.Constructor=g;a.fn.typeahead.noConflict=function(){return a.fn.typeahead=h,this};a(document).on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(b){b=a(this);b.data("typeahead")||b.typeahead(b.data())})}(window.jQuery);(function(){var a=this,g=a._,h={},b=Array.prototype,e=Object.prototype,l=b.push,s=b.slice,q=b.concat,y=e.toString,u=e.hasOwnProperty,G=b.forEach,D=b.map,C=b.reduce,w=b.reduceRight,x=b.filter,B=b.every,I=b.some,H=b.indexOf,L=b.lastIndexOf,e=Array.isArray,Q=Object.keys,O=Function.prototype.bind,t=function(a){return a instanceof t?a:this instanceof t?(this._wrapped=a,void 0):new t(a)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=t),exports._=t):a._=
t;t.VERSION="1.4.4";var P=t.each=t.forEach=function(a,b,e){if(null!=a)if(G&&a.forEach===G)a.forEach(b,e);else if(a.length===+a.length)for(var g=0,q=a.length;q>g&&b.call(e,a[g],g,a)!==h;g++);else for(g in a)if(t.has(a,g)&&b.call(e,a[g],g,a)===h)break};t.map=t.collect=function(a,b,e){var g=[];return null==a?g:D&&a.map===D?a.map(b,e):(P(a,function(a,r,h){g[g.length]=b.call(e,a,r,h)}),g)};t.reduce=t.foldl=t.inject=function(a,b,e,g){var h=2<arguments.length;if(null==a&&(a=[]),C&&a.reduce===C)return g&&
(b=t.bind(b,g)),h?a.reduce(b,e):a.reduce(b);if(P(a,function(a,r,q){h?e=b.call(g,e,a,r,q):(e=a,h=!0)}),!h)throw new TypeError("Reduce of empty array with no initial value");return e};t.reduceRight=t.foldr=function(a,b,e,g){var h=2<arguments.length;if(null==a&&(a=[]),w&&a.reduceRight===w)return g&&(b=t.bind(b,g)),h?a.reduceRight(b,e):a.reduceRight(b);var q=a.length;if(q!==+q)var l=t.keys(a),q=l.length;if(P(a,function(t,s,A){s=l?l[--q]:--q;h?e=b.call(g,e,a[s],s,A):(e=a[s],h=!0)}),!h)throw new TypeError("Reduce of empty array with no initial value");
return e};t.find=t.detect=function(a,b,e){var g;return K(a,function(a,r,h){return b.call(e,a,r,h)?(g=a,!0):void 0}),g};t.filter=t.select=function(a,b,e){var g=[];return null==a?g:x&&a.filter===x?a.filter(b,e):(P(a,function(a,r,h){b.call(e,a,r,h)&&(g[g.length]=a)}),g)};t.reject=function(a,b,e){return t.filter(a,function(a,g,r){return!b.call(e,a,g,r)},e)};t.every=t.all=function(a,b,e){b||(b=t.identity);var g=!0;return null==a?g:B&&a.every===B?a.every(b,e):(P(a,function(a,r,q){return(g=g&&b.call(e,a,
r,q))?void 0:h}),!!g)};var K=t.some=t.any=function(a,b,e){b||(b=t.identity);var g=!1;return null==a?g:I&&a.some===I?a.some(b,e):(P(a,function(a,r,q){return g||(g=b.call(e,a,r,q))?h:void 0}),!!g)};t.contains=t.include=function(a,b){return null==a?!1:H&&a.indexOf===H?-1!=a.indexOf(b):K(a,function(a){return a===b})};t.invoke=function(a,b){var e=s.call(arguments,2),g=t.isFunction(b);return t.map(a,function(a){return(g?b:a[b]).apply(a,e)})};t.pluck=function(a,b){return t.map(a,function(a){return a[b]})};
t.where=function(a,b,e){return t.isEmpty(b)?e?null:[]:t[e?"find":"filter"](a,function(a){for(var e in b)if(b[e]!==a[e])return!1;return!0})};t.findWhere=function(a,b){return t.where(a,b,!0)};t.max=function(a,b,e){if(!b&&t.isArray(a)&&a[0]===+a[0]&&65535>a.length)return Math.max.apply(Math,a);if(!b&&t.isEmpty(a))return-1/0;var g={computed:-1/0,value:-1/0};return P(a,function(a,r,h){r=b?b.call(e,a,r,h):a;r>=g.computed&&(g={value:a,computed:r})}),g.value};t.min=function(a,b,e){if(!b&&t.isArray(a)&&a[0]===
+a[0]&&65535>a.length)return Math.min.apply(Math,a);if(!b&&t.isEmpty(a))return 1/0;var g={computed:1/0,value:1/0};return P(a,function(a,r,h){r=b?b.call(e,a,r,h):a;g.computed>r&&(g={value:a,computed:r})}),g.value};t.shuffle=function(a){var b,e=0,g=[];return P(a,function(a){b=t.random(e++);g[e-1]=g[b];g[b]=a}),g};var M=function(a){return t.isFunction(a)?a:function(b){return b[a]}};t.sortBy=function(a,b,e){var g=M(b);return t.pluck(t.map(a,function(a,b,r){return{value:a,index:b,criteria:g.call(e,a,b,
r)}}).sort(function(a,b){var e=a.criteria,g=b.criteria;if(e!==g){if(e>g||void 0===e)return 1;if(g>e||void 0===g)return-1}return a.index<b.index?-1:1}),"value")};var R=function(a,b,e,g){var h={},q=M(b||t.identity);return P(a,function(b,l){var t=q.call(e,b,l,a);g(h,t,b)}),h};t.groupBy=function(a,b,e){return R(a,b,e,function(a,b,e){(t.has(a,b)?a[b]:a[b]=[]).push(e)})};t.countBy=function(a,b,e){return R(a,b,e,function(a,b){t.has(a,b)||(a[b]=0);a[b]++})};t.sortedIndex=function(a,b,e,g){e=null==e?t.identity:
M(e);b=e.call(g,b);for(var h=0,q=a.length;q>h;){var l=h+q>>>1;b>e.call(g,a[l])?h=l+1:q=l}return h};t.toArray=function(a){return a?t.isArray(a)?s.call(a):a.length===+a.length?t.map(a,t.identity):t.values(a):[]};t.size=function(a){return null==a?0:a.length===+a.length?a.length:t.keys(a).length};t.first=t.head=t.take=function(a,b,e){return null==a?void 0:null==b||e?a[0]:s.call(a,0,b)};t.initial=function(a,b,e){return s.call(a,0,a.length-(null==b||e?1:b))};t.last=function(a,b,e){return null==a?void 0:
null==b||e?a[a.length-1]:s.call(a,Math.max(a.length-b,0))};t.rest=t.tail=t.drop=function(a,b,e){return s.call(a,null==b||e?1:b)};t.compact=function(a){return t.filter(a,t.identity)};var E=function(a,b,e){return P(a,function(a){t.isArray(a)?b?l.apply(e,a):E(a,b,e):e.push(a)}),e};t.flatten=function(a,b){return E(a,b,[])};t.without=function(a){return t.difference(a,s.call(arguments,1))};t.uniq=t.unique=function(a,b,e,g){t.isFunction(b)&&(g=e,e=b,b=!1);e=e?t.map(a,e,g):a;var h=[],q=[];return P(e,function(e,
g){(b?g&&q[q.length-1]===e:t.contains(q,e))||(q.push(e),h.push(a[g]))}),h};t.union=function(){return t.uniq(q.apply(b,arguments))};t.intersection=function(a){var b=s.call(arguments,1);return t.filter(t.uniq(a),function(a){return t.every(b,function(b){return 0<=t.indexOf(b,a)})})};t.difference=function(a){var e=q.apply(b,s.call(arguments,1));return t.filter(a,function(a){return!t.contains(e,a)})};t.zip=function(){for(var a=s.call(arguments),b=t.max(t.pluck(a,"length")),e=Array(b),g=0;b>g;g++)e[g]=
t.pluck(a,""+g);return e};t.object=function(a,b){if(null==a)return{};for(var e={},g=0,h=a.length;h>g;g++)b?e[a[g]]=b[g]:e[a[g][0]]=a[g][1];return e};t.indexOf=function(a,b,e){if(null==a)return-1;var g=0,h=a.length;if(e){if("number"!=typeof e)return g=t.sortedIndex(a,b),a[g]===b?g:-1;g=0>e?Math.max(0,h+e):e}if(H&&a.indexOf===H)return a.indexOf(b,e);for(;h>g;g++)if(a[g]===b)return g;return-1};t.lastIndexOf=function(a,b,e){if(null==a)return-1;var g=null!=e;if(L&&a.lastIndexOf===L)return g?a.lastIndexOf(b,
e):a.lastIndexOf(b);for(e=g?e:a.length;e--;)if(a[e]===b)return e;return-1};t.range=function(a,b,e){1>=arguments.length&&(b=a||0,a=0);e=arguments[2]||1;for(var g=Math.max(Math.ceil((b-a)/e),0),h=0,q=Array(g);g>h;)q[h++]=a,a+=e;return q};t.bind=function(a,b){if(a.bind===O&&O)return O.apply(a,s.call(arguments,1));var e=s.call(arguments,2);return function(){return a.apply(b,e.concat(s.call(arguments)))}};t.partial=function(a){var b=s.call(arguments,1);return function(){return a.apply(this,b.concat(s.call(arguments)))}};
t.bindAll=function(a){var b=s.call(arguments,1);return 0===b.length&&(b=t.functions(a)),P(b,function(b){a[b]=t.bind(a[b],a)}),a};t.memoize=function(a,b){var e={};return b||(b=t.identity),function(){var g=b.apply(this,arguments);return t.has(e,g)?e[g]:e[g]=a.apply(this,arguments)}};t.delay=function(a,b){var e=s.call(arguments,2);return setTimeout(function(){return a.apply(null,e)},b)};t.defer=function(a){return t.delay.apply(t,[a,1].concat(s.call(arguments,1)))};t.throttle=function(a,b){var e,g,h,
q,l=0,t=function(){l=new Date;h=null;q=a.apply(e,g)};return function(){var s=new Date,A=b-(s-l);return e=this,g=arguments,0>=A?(clearTimeout(h),h=null,l=s,q=a.apply(e,g)):h||(h=setTimeout(t,A)),q}};t.debounce=function(a,b,e){var g,h;return function(){var q=this,l=arguments,t=e&&!g;return clearTimeout(g),g=setTimeout(function(){g=null;e||(h=a.apply(q,l))},b),t&&(h=a.apply(q,l)),h}};t.once=function(a){var b,e=!1;return function(){return e?b:(e=!0,b=a.apply(this,arguments),a=null,b)}};t.wrap=function(a,
b){return function(){var e=[a];return l.apply(e,arguments),b.apply(this,e)}};t.compose=function(){var a=arguments;return function(){for(var b=arguments,e=a.length-1;0<=e;e--)b=[a[e].apply(this,b)];return b[0]}};t.after=function(a,b){return 0>=a?b():function(){return 1>--a?b.apply(this,arguments):void 0}};t.keys=Q||function(a){if(a!==Object(a))throw new TypeError("Invalid object");var b=[],e;for(e in a)t.has(a,e)&&(b[b.length]=e);return b};t.values=function(a){var b=[],e;for(e in a)t.has(a,e)&&b.push(a[e]);
return b};t.pairs=function(a){var b=[],e;for(e in a)t.has(a,e)&&b.push([e,a[e]]);return b};t.invert=function(a){var b={},e;for(e in a)t.has(a,e)&&(b[a[e]]=e);return b};t.functions=t.methods=function(a){var b=[],e;for(e in a)t.isFunction(a[e])&&b.push(e);return b.sort()};t.extend=function(a){return P(s.call(arguments,1),function(b){if(b)for(var e in b)a[e]=b[e]}),a};t.pick=function(a){var e={},g=q.apply(b,s.call(arguments,1));return P(g,function(b){b in a&&(e[b]=a[b])}),e};t.omit=function(a){var e=
{},g=q.apply(b,s.call(arguments,1)),h;for(h in a)t.contains(g,h)||(e[h]=a[h]);return e};t.defaults=function(a){return P(s.call(arguments,1),function(b){if(b)for(var e in b)null==a[e]&&(a[e]=b[e])}),a};t.clone=function(a){return t.isObject(a)?t.isArray(a)?a.slice():t.extend({},a):a};t.tap=function(a,b){return b(a),a};var W=function(a,b,e,g){if(a===b)return 0!==a||1/a==1/b;if(null==a||null==b)return a===b;a instanceof t&&(a=a._wrapped);b instanceof t&&(b=b._wrapped);var h=y.call(a);if(h!=y.call(b))return!1;
switch(h){case "[object String]":return a==b+"";case "[object Number]":return a!=+a?b!=+b:0==a?1/a==1/b:a==+b;case "[object Date]":case "[object Boolean]":return+a==+b;case "[object RegExp]":return a.source==b.source&&a.global==b.global&&a.multiline==b.multiline&&a.ignoreCase==b.ignoreCase}if("object"!=typeof a||"object"!=typeof b)return!1;for(var q=e.length;q--;)if(e[q]==a)return g[q]==b;e.push(a);g.push(b);var q=0,l=!0;if("[object Array]"==h){if(q=a.length,l=q==b.length)for(;q--&&(l=W(a[q],b[q],
e,g)););}else{var h=a.constructor,s=b.constructor;if(h!==s&&(!t.isFunction(h)||!(h instanceof h&&t.isFunction(s)&&s instanceof s)))return!1;for(var A in a)if(t.has(a,A)&&(q++,!(l=t.has(b,A)&&W(a[A],b[A],e,g))))break;if(l){for(A in b)if(t.has(b,A)&&!q--)break;l=!q}}return e.pop(),g.pop(),l};t.isEqual=function(a,b){return W(a,b,[],[])};t.isEmpty=function(a){if(null==a)return!0;if(t.isArray(a)||t.isString(a))return 0===a.length;for(var b in a)if(t.has(a,b))return!1;return!0};t.isElement=function(a){return!(!a||
1!==a.nodeType)};t.isArray=e||function(a){return"[object Array]"==y.call(a)};t.isObject=function(a){return a===Object(a)};P("Arguments Function String Number Date RegExp".split(" "),function(a){t["is"+a]=function(b){return y.call(b)=="[object "+a+"]"}});t.isArguments(arguments)||(t.isArguments=function(a){return!(!a||!t.has(a,"callee"))});"function"!=typeof/./&&(t.isFunction=function(a){return"function"==typeof a});t.isFinite=function(a){return isFinite(a)&&!isNaN(parseFloat(a))};t.isNaN=function(a){return t.isNumber(a)&&
a!=+a};t.isBoolean=function(a){return!0===a||!1===a||"[object Boolean]"==y.call(a)};t.isNull=function(a){return null===a};t.isUndefined=function(a){return void 0===a};t.has=function(a,b){return u.call(a,b)};t.noConflict=function(){return a._=g,this};t.identity=function(a){return a};t.times=function(a,b,e){for(var g=Array(a),h=0;a>h;h++)g[h]=b.call(e,h);return g};t.random=function(a,b){return null==b&&(b=a,a=0),a+Math.floor(Math.random()*(b-a+1))};var Z={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;",
"'":"&#x27;","/":"&#x2F;"}};Z.unescape=t.invert(Z.escape);var T={escape:RegExp("["+t.keys(Z.escape).join("")+"]","g"),unescape:RegExp("("+t.keys(Z.unescape).join("|")+")","g")};t.each(["escape","unescape"],function(a){t[a]=function(b){return null==b?"":(""+b).replace(T[a],function(b){return Z[a][b]})}});t.result=function(a,b){if(null==a)return null;var e=a[b];return t.isFunction(e)?e.call(a):e};t.mixin=function(a){P(t.functions(a),function(b){var e=t[b]=a[b];t.prototype[b]=function(){var a=[this._wrapped];
l.apply(a,arguments);a=e.apply(t,a);return this._chain?t(a).chain():a}})};var V=0;t.uniqueId=function(a){var b=++V+"";return a?a+b:b};t.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var X=/(.)^/,A={"'":"'","\\":"\\","\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"},Y=/\\|'|\r|\n|\t|\u2028|\u2029/g;t.template=function(a,b,e){var g;e=t.defaults({},e,t.templateSettings);var h=RegExp([(e.escape||X).source,(e.interpolate||X).source,(e.evaluate||
X).source].join("|")+"|$","g"),q=0,l="__p+='";a.replace(h,function(b,e,g,h,t){return l+=a.slice(q,t).replace(Y,function(a){return"\\"+A[a]}),e&&(l+="'+\n((__t=("+e+"))==null?'':_.escape(__t))+\n'"),g&&(l+="'+\n((__t=("+g+"))==null?'':__t)+\n'"),h&&(l+="';\n"+h+"\n__p+='"),q=t+b.length,b});l+="';\n";e.variable||(l="with(obj||{}){\n"+l+"}\n");l="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+l+"return __p;\n";try{g=Function(e.variable||"obj","_",l)}catch(s){throw s.source=
l,s;}if(b)return g(b,t);b=function(a){return g.call(this,a,t)};return b.source="function("+(e.variable||"obj")+"){\n"+l+"}",b};t.chain=function(a){return t(a).chain()};t.mixin(t);P("pop push reverse shift sort splice unshift".split(" "),function(a){var e=b[a];t.prototype[a]=function(){var b=this._wrapped;return e.apply(b,arguments),"shift"!=a&&"splice"!=a||0!==b.length||delete b[0],this._chain?t(b).chain():b}});P(["concat","join","slice"],function(a){var e=b[a];t.prototype[a]=function(){var a=e.apply(this._wrapped,
arguments);return this._chain?t(a).chain():a}});t.extend(t.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}).call(this);!function(a,g){var h=g.prototype.trim,b=g.prototype.trimRight,e=g.prototype.trimLeft,l=function(a,b){if(1>b)return"";for(var e="";0<b;)b&1&&(e+=a),b>>=1,a+=a;return e},s=[].slice,q=function(a){return null==a?"\\s":a.source?a.source:"["+C.escapeRegExp(a)+"]"},y={lt:"<",gt:">",quot:'"',apos:"'",amp:"&"},u={},G;for(G in y)u[y[G]]=G;var D=function(){function a(b){return Object.prototype.toString.call(b).slice(8,-1).toLowerCase()}var b=function(){return b.cache.hasOwnProperty(arguments[0])||(b.cache[arguments[0]]=
b.parse(arguments[0])),b.format.call(null,b.cache[arguments[0]],arguments)};return b.format=function(b,e){var h=1,q=b.length,s="",x,t=[],y,u,G;for(y=0;y<q;y++)if(s=a(b[y]),"string"===s)t.push(b[y]);else if("array"===s){s=b[y];if(s[2]){x=e[h];for(u=0;u<s[2].length;u++){if(!x.hasOwnProperty(s[2][u]))throw Error(D('[_.sprintf] property "%s" does not exist',s[2][u]));x=x[s[2][u]]}}else s[1]?x=e[s[1]]:x=e[h++];if(/[^s]/.test(s[8])&&"number"!=a(x))throw Error(D("[_.sprintf] expecting number but found %s",
a(x)));switch(s[8]){case "b":x=x.toString(2);break;case "c":x=g.fromCharCode(x);break;case "d":x=parseInt(x,10);break;case "e":x=s[7]?x.toExponential(s[7]):x.toExponential();break;case "f":x=s[7]?parseFloat(x).toFixed(s[7]):parseFloat(x);break;case "o":x=x.toString(8);break;case "s":x=(x=g(x))&&s[7]?x.substring(0,s[7]):x;break;case "u":x=Math.abs(x);break;case "x":x=x.toString(16);break;case "X":x=x.toString(16).toUpperCase()}x=/[def]/.test(s[8])&&s[3]&&0<=x?"+"+x:x;u=s[4]?"0"==s[4]?"0":s[4].charAt(1):
" ";G=s[6]-g(x).length;u=s[6]?l(u,G):"";t.push(s[5]?x+u:u+x)}return t.join("")},b.cache={},b.parse=function(a){for(var b=[],e=[],g=0;a;){if(null!==(b=/^[^\x25]+/.exec(a)))e.push(b[0]);else if(null!==(b=/^\x25{2}/.exec(a)))e.push("%");else{if(null===(b=/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(a)))throw Error("[_.sprintf] huh?");if(b[2]){var g=g|1,h=[],q=b[2],l=[];if(null===(l=/^([a-z_][a-z_\d]*)/i.exec(q)))throw Error("[_.sprintf] huh?");for(h.push(l[1]);""!==
(q=q.substring(l[0].length));){if(null===(l=/^\.([a-z_][a-z_\d]*)/i.exec(q)))if(null===(l=/^\[(\d+)\]/.exec(q)))throw Error("[_.sprintf] huh?");h.push(l[1])}b[2]=h}else g|=2;if(3===g)throw Error("[_.sprintf] mixing positional and named placeholders is not (yet) supported");e.push(b)}a=a.substring(b[0].length)}return e},b}(),C={VERSION:"2.3.0",isBlank:function(a){return null==a&&(a=""),/^\s*$/.test(a)},stripTags:function(a){return null==a?"":g(a).replace(/<\/?[^>]+>/g,"")},capitalize:function(a){return a=
null==a?"":g(a),a.charAt(0).toUpperCase()+a.slice(1)},chop:function(a,b){return null==a?[]:(a=g(a),b=~~b,0<b?a.match(RegExp(".{1,"+b+"}","g")):[a])},clean:function(a){return C.strip(a).replace(/\s+/g," ")},count:function(a,b){return null==a||null==b?0:g(a).split(b).length-1},chars:function(a){return null==a?[]:g(a).split("")},swapCase:function(a){return null==a?"":g(a).replace(/\S/g,function(a){return a===a.toUpperCase()?a.toLowerCase():a.toUpperCase()})},escapeHTML:function(a){return null==a?"":
g(a).replace(/[&<>"']/g,function(a){return"&"+u[a]+";"})},unescapeHTML:function(a){return null==a?"":g(a).replace(/\&([^;]+);/g,function(a,b){var e;return b in y?y[b]:(e=b.match(/^#x([\da-fA-F]+)$/))?g.fromCharCode(parseInt(e[1],16)):(e=b.match(/^#(\d+)$/))?g.fromCharCode(~~e[1]):a})},escapeRegExp:function(a){return null==a?"":g(a).replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")},splice:function(a,b,e,g){a=C.chars(a);return a.splice(~~b,~~e,g),a.join("")},insert:function(a,b,e){return C.splice(a,b,0,
e)},include:function(a,b){return""===b?!0:null==a?!1:-1!==g(a).indexOf(b)},join:function(){var a=s.call(arguments),b=a.shift();return null==b&&(b=""),a.join(b)},lines:function(a){return null==a?[]:g(a).split("\n")},reverse:function(a){return C.chars(a).reverse().join("")},startsWith:function(a,b){return""===b?!0:null==a||null==b?!1:(a=g(a),b=g(b),a.length>=b.length&&a.slice(0,b.length)===b)},endsWith:function(a,b){return""===b?!0:null==a||null==b?!1:(a=g(a),b=g(b),a.length>=b.length&&a.slice(a.length-
b.length)===b)},succ:function(a){return null==a?"":(a=g(a),a.slice(0,-1)+g.fromCharCode(a.charCodeAt(a.length-1)+1))},titleize:function(a){return null==a?"":g(a).replace(/(?:^|\s)\S/g,function(a){return a.toUpperCase()})},camelize:function(a){return C.trim(a).replace(/[-_\s]+(.)?/g,function(a,b){return b.toUpperCase()})},underscored:function(a){return C.trim(a).replace(/([a-z\d])([A-Z]+)/g,"$1_$2").replace(/[-\s]+/g,"_").toLowerCase()},dasherize:function(a){return C.trim(a).replace(/([A-Z])/g,"-$1").replace(/[-_\s]+/g,
"-").toLowerCase()},classify:function(a){return C.titleize(g(a).replace(/_/g," ")).replace(/\s/g,"")},humanize:function(a){return C.capitalize(C.underscored(a).replace(/_id$/,"").replace(/_/g," "))},trim:function(a,b){return null==a?"":!b&&h?h.call(a):(b=q(b),g(a).replace(RegExp("^"+b+"+|"+b+"+$","g"),""))},ltrim:function(a,b){return null==a?"":!b&&e?e.call(a):(b=q(b),g(a).replace(RegExp("^"+b+"+"),""))},rtrim:function(a,e){return null==a?"":!e&&b?b.call(a):(e=q(e),g(a).replace(RegExp(e+"+$"),""))},
truncate:function(a,b,e){return null==a?"":(a=g(a),e=e||"...",b=~~b,a.length>b?a.slice(0,b)+e:a)},prune:function(a,b,e){if(null==a)return"";a=g(a);b=~~b;e=null!=e?g(e):"...";if(a.length<=b)return a;b=a.slice(0,b+1).replace(/.(?=\W*\w*$)/g,function(a){return a.toUpperCase()!==a.toLowerCase()?"A":" "});return b.slice(b.length-2).match(/\w\w/)?b=b.replace(/\s*\S+$/,""):b=C.rtrim(b.slice(0,b.length-1)),(b+e).length>a.length?a:a.slice(0,b.length)+e},words:function(a,b){return C.isBlank(a)?[]:C.trim(a,
b).split(b||/\s+/)},pad:function(a,b,e,h){a=null==a?"":g(a);b=~~b;var q=0;e?1<e.length&&(e=e.charAt(0)):e=" ";switch(h){case "right":return q=b-a.length,a+l(e,q);case "both":return q=b-a.length,l(e,Math.ceil(q/2))+a+l(e,Math.floor(q/2));default:return q=b-a.length,l(e,q)+a}},lpad:function(a,b,e){return C.pad(a,b,e)},rpad:function(a,b,e){return C.pad(a,b,e,"right")},lrpad:function(a,b,e){return C.pad(a,b,e,"both")},sprintf:D,vsprintf:function(a,b){return b.unshift(a),D.apply(null,b)},toNumber:function(a,
b){if(null==a||""==a)return 0;a=g(a);var e;e=1*(1*a||0).toFixed(~~b)||0;return 0===e&&!a.match(/^0+$/)?Number.NaN:e},numberFormat:function(a,b,e,g){if(isNaN(a)||null==a)return"";a=a.toFixed(~~b);g=g||",";a=a.split(".");e=a[1]?(e||".")+a[1]:"";return a[0].replace(/(\d)(?=(?:\d{3})+$)/g,"$1"+g)+e},strRight:function(a,b){if(null==a)return"";a=g(a);var e=(b=null!=b?g(b):b)?a.indexOf(b):-1;return~e?a.slice(e+b.length,a.length):a},strRightBack:function(a,b){if(null==a)return"";a=g(a);var e=(b=null!=b?g(b):
b)?a.lastIndexOf(b):-1;return~e?a.slice(e+b.length,a.length):a},strLeft:function(a,b){if(null==a)return"";a=g(a);var e=(b=null!=b?g(b):b)?a.indexOf(b):-1;return~e?a.slice(0,e):a},strLeftBack:function(a,b){if(null==a)return"";a+="";var e=a.lastIndexOf(null!=b?""+b:b);return~e?a.slice(0,e):a},toSentence:function(a,b,e,g){b=b||", ";e=e||" and ";var h=a.slice(),q=h.pop();return 2<a.length&&g&&(e=C.rtrim(b)+e),h.length?h.join(b)+e+q:q},toSentenceSerial:function(){var a=s.call(arguments);return a[3]=!0,
C.toSentence.apply(C,a)},slugify:function(a){if(null==a)return"";var b=RegExp(q("\u0105\u00e0\u00e1\u00e4\u00e2\u00e3\u00e5\u00e6\u0107\u0119\u00e8\u00e9\u00eb\u00ea\u00ec\u00ed\u00ef\u00ee\u0142\u0144\u00f2\u00f3\u00f6\u00f4\u00f5\u00f8\u00f9\u00fa\u00fc\u00fb\u00f1\u00e7\u017c\u017a"),"g");return a=g(a).toLowerCase().replace(b,function(a){a="\u0105\u00e0\u00e1\u00e4\u00e2\u00e3\u00e5\u00e6\u0107\u0119\u00e8\u00e9\u00eb\u00ea\u00ec\u00ed\u00ef\u00ee\u0142\u0144\u00f2\u00f3\u00f6\u00f4\u00f5\u00f8\u00f9\u00fa\u00fc\u00fb\u00f1\u00e7\u017c\u017a".indexOf(a);
return"aaaaaaaaceeeeeiiiilnoooooouuuunczz".charAt(a)||"-"}),C.dasherize(a.replace(/[^\w\s-]/g,""))},surround:function(a,b){return[b,a,b].join("")},quote:function(a){return C.surround(a,'"')},exports:function(){var a={},b;for(b in this)this.hasOwnProperty(b)&&!b.match(/^(?:include|contains|reverse)$/)&&(a[b]=this[b]);return a},repeat:function(a,b,e){if(null==a)return"";b=~~b;if(null==e)return l(g(a),b);for(var h=[];0<b;h[--b]=a);return h.join(e)},levenshtein:function(a,b){if(null==a&&null==b)return 0;
if(null==a)return g(b).length;if(null==b)return g(a).length;a=g(a);b=g(b);for(var e=[],h,q,l=0;l<=b.length;l++)for(var s=0;s<=a.length;s++)l&&s?a.charAt(s-1)===b.charAt(l-1)?q=h:q=Math.min(e[s],e[s-1],h)+1:q=l+s,h=e[s],e[s]=q;return e.pop()}};C.strip=C.trim;C.lstrip=C.ltrim;C.rstrip=C.rtrim;C.center=C.lrpad;C.rjust=C.lpad;C.ljust=C.rpad;C.contains=C.include;C.q=C.quote;"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(module.exports=C),exports._s=C):"function"==typeof define&&
define.amd?define("underscore.string",[],function(){return C}):(a._=a._||{},a._.string=a._.str=C)}(this,String);(function(){var a=this,g=a.Backbone,h=[],b=h.push,e=h.slice,l=h.splice,s;s="undefined"!==typeof exports?exports:a.Backbone={};s.VERSION="1.0.0";var q=a._;!q&&"undefined"!==typeof require&&(q=require("underscore"));s.$=a.jQuery||a.Zepto||a.ender||a.$;s.noConflict=function(){a.Backbone=g;return this};s.emulateHTTP=!1;s.emulateJSON=!1;var y=s.Events={on:function(a,b,e){if(!G(this,"on",a,[b,e])||!b)return this;this._events||(this._events={});(this._events[a]||(this._events[a]=[])).push({callback:b,context:e,
ctx:e||this});return this},once:function(a,b,e){if(!G(this,"once",a,[b,e])||!b)return this;var g=this,h=q.once(function(){g.off(a,h);b.apply(this,arguments)});h._callback=b;return this.on(a,h,e)},off:function(a,b,e){var g,h,l,t,s,y,u,x;if(!this._events||!G(this,"off",a,[b,e]))return this;if(!a&&!b&&!e)return this._events={},this;t=a?[a]:q.keys(this._events);s=0;for(y=t.length;s<y;s++)if(a=t[s],l=this._events[a]){this._events[a]=g=[];if(b||e){u=0;for(x=l.length;u<x;u++)h=l[u],(b&&b!==h.callback&&b!==
h.callback._callback||e&&e!==h.context)&&g.push(h)}g.length||delete this._events[a]}return this},trigger:function(a){if(!this._events)return this;var b=e.call(arguments,1);if(!G(this,"trigger",a,b))return this;var g=this._events[a],h=this._events.all;g&&D(g,b);h&&D(h,arguments);return this},stopListening:function(a,b,e){var g=this._listeners;if(!g)return this;var h=!b&&!e;"object"===typeof b&&(e=this);a&&((g={})[a._listenerId]=a);for(var q in g)g[q].off(b,e,this),h&&delete this._listeners[q];return this}},
u=/\s+/,G=function(a,b,e,g){if(!e)return!0;if("object"===typeof e){for(var h in e)a[b].apply(a,[h,e[h]].concat(g));return!1}if(u.test(e)){e=e.split(u);h=0;for(var q=e.length;h<q;h++)a[b].apply(a,[e[h]].concat(g));return!1}return!0},D=function(a,b){var e,g=-1,h=a.length,q=b[0],l=b[1],t=b[2];switch(b.length){case 0:for(;++g<h;)(e=a[g]).callback.call(e.ctx);break;case 1:for(;++g<h;)(e=a[g]).callback.call(e.ctx,q);break;case 2:for(;++g<h;)(e=a[g]).callback.call(e.ctx,q,l);break;case 3:for(;++g<h;)(e=
a[g]).callback.call(e.ctx,q,l,t);break;default:for(;++g<h;)(e=a[g]).callback.apply(e.ctx,b)}};q.each({listenTo:"on",listenToOnce:"once"},function(a,b){y[b]=function(b,e,g){var h=this._listeners||(this._listeners={}),l=b._listenerId||(b._listenerId=q.uniqueId("l"));h[l]=b;"object"===typeof e&&(g=this);b[a](e,g,this);return this}});y.bind=y.on;y.unbind=y.off;q.extend(s,y);var C=s.Model=function(a,b){var e,g=a||{};b||(b={});this.cid=q.uniqueId("c");this.attributes={};q.extend(this,q.pick(b,w));b.parse&&
(g=this.parse(g,b)||{});if(e=q.result(this,"defaults"))g=q.defaults({},g,e);this.set(g,b);this.changed={};this.initialize.apply(this,arguments)},w=["url","urlRoot","collection"];q.extend(C.prototype,y,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(a){return q.clone(this.attributes)},sync:function(){return s.sync.apply(this,arguments)},get:function(a){return this.attributes[a]},escape:function(a){return q.escape(this.get(a))},has:function(a){return null!=
this.get(a)},set:function(a,b,e){var g,h,l,t,s,y,u;if(null==a)return this;"object"===typeof a?(h=a,e=b):(h={})[a]=b;e||(e={});if(!this._validate(h,e))return!1;l=e.unset;t=e.silent;a=[];s=this._changing;this._changing=!0;s||(this._previousAttributes=q.clone(this.attributes),this.changed={});u=this.attributes;y=this._previousAttributes;this.idAttribute in h&&(this.id=h[this.idAttribute]);for(g in h)b=h[g],q.isEqual(u[g],b)||a.push(g),q.isEqual(y[g],b)?delete this.changed[g]:this.changed[g]=b,l?delete u[g]:
u[g]=b;if(!t){a.length&&(this._pending=!0);b=0;for(g=a.length;b<g;b++)this.trigger("change:"+a[b],this,u[a[b]],e)}if(s)return this;if(!t)for(;this._pending;)this._pending=!1,this.trigger("change",this,e);this._changing=this._pending=!1;return this},unset:function(a,b){return this.set(a,void 0,q.extend({},b,{unset:!0}))},clear:function(a){var b={},e;for(e in this.attributes)b[e]=void 0;return this.set(b,q.extend({},a,{unset:!0}))},hasChanged:function(a){return null==a?!q.isEmpty(this.changed):q.has(this.changed,
a)},changedAttributes:function(a){if(!a)return this.hasChanged()?q.clone(this.changed):!1;var b,e=!1,g=this._changing?this._previousAttributes:this.attributes,h;for(h in a)if(!q.isEqual(g[h],b=a[h]))(e||(e={}))[h]=b;return e},previous:function(a){return null==a||!this._previousAttributes?null:this._previousAttributes[a]},previousAttributes:function(){return q.clone(this._previousAttributes)},fetch:function(a){a=a?q.clone(a):{};void 0===a.parse&&(a.parse=!0);var b=this,e=a.success;a.success=function(g){if(!b.set(b.parse(g,
a),a))return!1;e&&e(b,g,a);b.trigger("sync",b,g,a)};X(this,a);return this.sync("read",this,a)},save:function(a,b,e){var g,h=this.attributes;null==a||"object"===typeof a?(g=a,e=b):(g={})[a]=b;if(g&&(!e||!e.wait)&&!this.set(g,e))return!1;e=q.extend({validate:!0},e);if(!this._validate(g,e))return!1;g&&e.wait&&(this.attributes=q.extend({},h,g));void 0===e.parse&&(e.parse=!0);var l=this,t=e.success;e.success=function(a){l.attributes=h;var b=l.parse(a,e);e.wait&&(b=q.extend(g||{},b));if(q.isObject(b)&&
!l.set(b,e))return!1;t&&t(l,a,e);l.trigger("sync",l,a,e)};X(this,e);a=this.isNew()?"create":e.patch?"patch":"update";"patch"===a&&(e.attrs=g);a=this.sync(a,this,e);g&&e.wait&&(this.attributes=h);return a},destroy:function(a){a=a?q.clone(a):{};var b=this,e=a.success,g=function(){b.trigger("destroy",b,b.collection,a)};a.success=function(h){(a.wait||b.isNew())&&g();e&&e(b,h,a);b.isNew()||b.trigger("sync",b,h,a)};if(this.isNew())return a.success(),!1;X(this,a);var h=this.sync("delete",this,a);a.wait||
g();return h},url:function(){var a=q.result(this,"urlRoot")||q.result(this.collection,"url")||V();return this.isNew()?a:a+("/"===a.charAt(a.length-1)?"":"/")+encodeURIComponent(this.id)},parse:function(a,b){return a},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return null==this.id},isValid:function(a){return this._validate({},q.extend(a||{},{validate:!0}))},_validate:function(a,b){if(!b.validate||!this.validate)return!0;a=q.extend({},this.attributes,a);var e=this.validationError=
this.validate(a,b)||null;if(!e)return!0;this.trigger("invalid",this,e,q.extend(b||{},{validationError:e}));return!1}});q.each("keys values pairs invert pick omit".split(" "),function(a){C.prototype[a]=function(){var b=e.call(arguments);b.unshift(this.attributes);return q[a].apply(q,b)}});var x=s.Collection=function(a,b){b||(b={});b.url&&(this.url=b.url);b.model&&(this.model=b.model);void 0!==b.comparator&&(this.comparator=b.comparator);this._reset();this.initialize.apply(this,arguments);a&&this.reset(a,
q.extend({silent:!0},b))},B={add:!0,remove:!0,merge:!0},I={add:!0,merge:!1,remove:!1};q.extend(x.prototype,y,{model:C,initialize:function(){},toJSON:function(a){return this.map(function(b){return b.toJSON(a)})},sync:function(){return s.sync.apply(this,arguments)},add:function(a,b){return this.set(a,q.defaults(b||{},I))},remove:function(a,b){a=q.isArray(a)?a.slice():[a];b||(b={});var e,g,h,l;e=0;for(g=a.length;e<g;e++)if(l=this.get(a[e]))delete this._byId[l.id],delete this._byId[l.cid],h=this.indexOf(l),
this.models.splice(h,1),this.length--,b.silent||(b.index=h,l.trigger("remove",l,this,b)),this._removeReference(l);return this},set:function(a,e){e=q.defaults(e||{},B);e.parse&&(a=this.parse(a,e));q.isArray(a)||(a=a?[a]:[]);var g,h,t,s,y,u=e.at,x=this.comparator&&null==u&&!1!==e.sort,K=q.isString(this.comparator)?this.comparator:null,O=[],w=[],D={};g=0;for(h=a.length;g<h;g++)if(t=this._prepareModel(a[g],e))(s=this.get(t))?(e.remove&&(D[s.cid]=!0),e.merge&&(s.set(t.attributes,e),x&&(!y&&s.hasChanged(K))&&
(y=!0))):e.add&&(O.push(t),t.on("all",this._onModelEvent,this),this._byId[t.cid]=t,null!=t.id&&(this._byId[t.id]=t));if(e.remove){g=0;for(h=this.length;g<h;++g)D[(t=this.models[g]).cid]||w.push(t);w.length&&this.remove(w,e)}O.length&&(x&&(y=!0),this.length+=O.length,null!=u?l.apply(this.models,[u,0].concat(O)):b.apply(this.models,O));y&&this.sort({silent:!0});if(e.silent)return this;g=0;for(h=O.length;g<h;g++)(t=O[g]).trigger("add",t,this,e);y&&this.trigger("sort",this,e);return this},reset:function(a,
b){b||(b={});for(var e=0,g=this.models.length;e<g;e++)this._removeReference(this.models[e]);b.previousModels=this.models;this._reset();this.add(a,q.extend({silent:!0},b));b.silent||this.trigger("reset",this,b);return this},push:function(a,b){a=this._prepareModel(a,b);this.add(a,q.extend({at:this.length},b));return a},pop:function(a){var b=this.at(this.length-1);this.remove(b,a);return b},unshift:function(a,b){a=this._prepareModel(a,b);this.add(a,q.extend({at:0},b));return a},shift:function(a){var b=
this.at(0);this.remove(b,a);return b},slice:function(a,b){return this.models.slice(a,b)},get:function(a){return null==a?void 0:this._byId[null!=a.id?a.id:a.cid||a]},at:function(a){return this.models[a]},where:function(a,b){return q.isEmpty(a)?b?void 0:[]:this[b?"find":"filter"](function(b){for(var e in a)if(a[e]!==b.get(e))return!1;return!0})},findWhere:function(a){return this.where(a,!0)},sort:function(a){if(!this.comparator)throw Error("Cannot sort a set without a comparator");a||(a={});q.isString(this.comparator)||
1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(q.bind(this.comparator,this));a.silent||this.trigger("sort",this,a);return this},sortedIndex:function(a,b,e){b||(b=this.comparator);var g=q.isFunction(b)?b:function(a){return a.get(b)};return q.sortedIndex(this.models,a,g,e)},pluck:function(a){return q.invoke(this.models,"get",a)},fetch:function(a){a=a?q.clone(a):{};void 0===a.parse&&(a.parse=!0);var b=a.success,e=this;a.success=function(g){e[a.reset?"reset":
"set"](g,a);b&&b(e,g,a);e.trigger("sync",e,g,a)};X(this,a);return this.sync("read",this,a)},create:function(a,b){b=b?q.clone(b):{};if(!(a=this._prepareModel(a,b)))return!1;b.wait||this.add(a,b);var e=this,g=b.success;b.success=function(h){b.wait&&e.add(a,b);g&&g(a,h,b)};a.save(null,b);return a},parse:function(a,b){return a},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0;this.models=[];this._byId={}},_prepareModel:function(a,b){if(a instanceof C)return a.collection||
(a.collection=this),a;b||(b={});b.collection=this;var e=new this.model(a,b);return!e._validate(a,b)?(this.trigger("invalid",this,a,b),!1):e},_removeReference:function(a){this===a.collection&&delete a.collection;a.off("all",this._onModelEvent,this)},_onModelEvent:function(a,b,e,g){("add"===a||"remove"===a)&&e!==this||("destroy"===a&&this.remove(b,g),b&&a==="change:"+b.idAttribute&&(delete this._byId[b.previous(b.idAttribute)],null!=b.id&&(this._byId[b.id]=b)),this.trigger.apply(this,arguments))}});
q.each("forEach each map collect reduce foldl inject reduceRight foldr find detect filter select reject every all some any include contains invoke max min toArray size first head take initial rest tail drop last without indexOf shuffle lastIndexOf isEmpty chain".split(" "),function(a){x.prototype[a]=function(){var b=e.call(arguments);b.unshift(this.models);return q[a].apply(q,b)}});q.each(["groupBy","countBy","sortBy"],function(a){x.prototype[a]=function(b,e){var g=q.isFunction(b)?b:function(a){return a.get(b)};
return q[a](this.models,g,e)}});var h=s.View=function(a){this.cid=q.uniqueId("view");this._configure(a||{});this._ensureElement();this.initialize.apply(this,arguments);this.delegateEvents()},H=/^(\S+)\s*(.*)$/,L="model collection el id attributes className tagName events".split(" ");q.extend(h.prototype,y,{tagName:"div",$:function(a){return this.$el.find(a)},initialize:function(){},render:function(){return this},remove:function(){this.$el.remove();this.stopListening();return this},setElement:function(a,
b){this.$el&&this.undelegateEvents();this.$el=a instanceof s.$?a:s.$(a);this.el=this.$el[0];!1!==b&&this.delegateEvents();return this},delegateEvents:function(a){if(!a&&!(a=q.result(this,"events")))return this;this.undelegateEvents();for(var b in a){var e=a[b];q.isFunction(e)||(e=this[a[b]]);if(e){var g=b.match(H),h=g[1],g=g[2],e=q.bind(e,this),h=h+(".delegateEvents"+this.cid);if(""===g)this.$el.on(h,e);else this.$el.on(h,g,e)}}return this},undelegateEvents:function(){this.$el.off(".delegateEvents"+
this.cid);return this},_configure:function(a){this.options&&(a=q.extend({},q.result(this,"options"),a));q.extend(this,q.pick(a,L));this.options=a},_ensureElement:function(){if(this.el)this.setElement(q.result(this,"el"),!1);else{var a=q.extend({},q.result(this,"attributes"));this.id&&(a.id=q.result(this,"id"));this.className&&(a["class"]=q.result(this,"className"));a=s.$("<"+q.result(this,"tagName")+">").attr(a);this.setElement(a,!1)}}});s.sync=function(a,b,e){var g=Q[a];q.defaults(e||(e={}),{emulateHTTP:s.emulateHTTP,
emulateJSON:s.emulateJSON});var h={type:g,dataType:"json"};e.url||(h.url=q.result(b,"url")||V());if(null==e.data&&b&&("create"===a||"update"===a||"patch"===a))h.contentType="application/json",h.data=JSON.stringify(e.attrs||b.toJSON(e));e.emulateJSON&&(h.contentType="application/x-www-form-urlencoded",h.data=h.data?{model:h.data}:{});if(e.emulateHTTP&&("PUT"===g||"DELETE"===g||"PATCH"===g)){h.type="POST";e.emulateJSON&&(h.data._method=g);var l=e.beforeSend;e.beforeSend=function(a){a.setRequestHeader("X-HTTP-Method-Override",
g);if(l)return l.apply(this,arguments)}}"GET"!==h.type&&!e.emulateJSON&&(h.processData=!1);if("PATCH"===h.type&&window.ActiveXObject&&(!window.external||!window.external.msActiveXFilteringEnabled))h.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")};a=e.xhr=s.ajax(q.extend(h,e));b.trigger("request",b,a,e);return a};var Q={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};s.ajax=function(){return s.$.ajax.apply(s.$,arguments)};var O=s.Router=function(a){a||(a={});a.routes&&
(this.routes=a.routes);this._bindRoutes();this.initialize.apply(this,arguments)},t=/\((.*?)\)/g,P=/(\(\?)?:\w+/g,K=/\*\w+/g,M=/[\-{}\[\]+?.,\\\^$|#\s]/g;q.extend(O.prototype,y,{initialize:function(){},route:function(a,b,e){q.isRegExp(a)||(a=this._routeToRegExp(a));q.isFunction(b)&&(e=b,b="");e||(e=this[b]);var g=this;s.history.route(a,function(h){h=g._extractParameters(a,h);e&&e.apply(g,h);g.trigger.apply(g,["route:"+b].concat(h));g.trigger("route",b,h);s.history.trigger("route",g,b,h)});return this},
navigate:function(a,b){s.history.navigate(a,b);return this},_bindRoutes:function(){if(this.routes){this.routes=q.result(this,"routes");for(var a,b=q.keys(this.routes);null!=(a=b.pop());)this.route(a,this.routes[a])}},_routeToRegExp:function(a){a=a.replace(M,"\\$&").replace(t,"(?:$1)?").replace(P,function(a,b){return b?a:"([^/]+)"}).replace(K,"(.*?)");return RegExp("^"+a+"$")},_extractParameters:function(a,b){var e=a.exec(b).slice(1);return q.map(e,function(a){return a?decodeURIComponent(a):null})}});
var R=s.History=function(){this.handlers=[];q.bindAll(this,"checkUrl");"undefined"!==typeof window&&(this.location=window.location,this.history=window.history)},E=/^[#\/]|\s+$/g,W=/^\/+|\/+$/g,Z=/msie [\w.]+/,T=/\/$/;R.started=!1;q.extend(R.prototype,y,{interval:50,getHash:function(a){return(a=(a||this).location.href.match(/#(.*)$/))?a[1]:""},getFragment:function(a,b){if(null==a)if(this._hasPushState||!this._wantsHashChange||b){a=this.location.pathname;var e=this.root.replace(T,"");a.indexOf(e)||
(a=a.substr(e.length))}else a=this.getHash();return a.replace(E,"")},start:function(a){if(R.started)throw Error("Backbone.history has already been started");R.started=!0;this.options=q.extend({},{root:"/"},this.options,a);this.root=this.options.root;this._wantsHashChange=!1!==this.options.hashChange;this._wantsPushState=!!this.options.pushState;this._hasPushState=!(!this.options.pushState||!this.history||!this.history.pushState);a=this.getFragment();var b=document.documentMode,b=Z.exec(navigator.userAgent.toLowerCase())&&
(!b||7>=b);this.root=("/"+this.root+"/").replace(W,"/");b&&this._wantsHashChange&&(this.iframe=s.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(a));if(this._hasPushState)s.$(window).on("popstate",this.checkUrl);else if(this._wantsHashChange&&"onhashchange"in window&&!b)s.$(window).on("hashchange",this.checkUrl);else this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval));this.fragment=a;a=this.location;b=a.pathname.replace(/[^\/]$/,
"$&/")===this.root;if(this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!b)return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+this.location.search+"#"+this.fragment),!0;this._wantsPushState&&(this._hasPushState&&b&&a.hash)&&(this.fragment=this.getHash().replace(E,""),this.history.replaceState({},document.title,this.root+this.fragment+a.search));if(!this.options.silent)return this.loadUrl()},stop:function(){s.$(window).off("popstate",this.checkUrl).off("hashchange",
this.checkUrl);clearInterval(this._checkUrlInterval);R.started=!1},route:function(a,b){this.handlers.unshift({route:a,callback:b})},checkUrl:function(a){a=this.getFragment();a===this.fragment&&this.iframe&&(a=this.getFragment(this.getHash(this.iframe)));if(a===this.fragment)return!1;this.iframe&&this.navigate(a);this.loadUrl()||this.loadUrl(this.getHash())},loadUrl:function(a){var b=this.fragment=this.getFragment(a);return q.any(this.handlers,function(a){if(a.route.test(b))return a.callback(b),!0})},
navigate:function(a,b){if(!R.started)return!1;if(!b||!0===b)b={trigger:b};a=this.getFragment(a||"");if(this.fragment!==a){this.fragment=a;var e=this.root+a;if(this._hasPushState)this.history[b.replace?"replaceState":"pushState"]({},document.title,e);else if(this._wantsHashChange)this._updateHash(this.location,a,b.replace),this.iframe&&a!==this.getFragment(this.getHash(this.iframe))&&(b.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,a,b.replace));else return this.location.assign(e);
b.trigger&&this.loadUrl(a)}},_updateHash:function(a,b,e){e?(e=a.href.replace(/(javascript:|#).*$/,""),a.replace(e+"#"+b)):a.hash="#"+b}});s.history=new R;C.extend=x.extend=O.extend=h.extend=R.extend=function(a,b){var e=this,g;g=a&&q.has(a,"constructor")?a.constructor:function(){return e.apply(this,arguments)};q.extend(g,e,b);var h=function(){this.constructor=g};h.prototype=e.prototype;g.prototype=new h;a&&q.extend(g.prototype,a);g.__super__=e.prototype;return g};var V=function(){throw Error('A "url" property or function must be specified');
},X=function(a,b){var e=b.error;b.error=function(g){e&&e(a,g,b);a.trigger("error",a,g,b)}}}).call(this);base64={PADCHAR:"=",ALPHA:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",getbyte64:function(a,g){var h=base64.ALPHA.indexOf(a.charAt(g));if(-1==h)throw"Cannot decode base64";return h},decode:function(a){a=""+a;var g=base64.getbyte64,h,b,e,l=a.length;if(0==l)return a;if(0!=l%4)throw"Cannot decode base64";h=0;a.charAt(l-1)==base64.PADCHAR&&(h=1,a.charAt(l-2)==base64.PADCHAR&&(h=2),l-=4);var s=[];for(b=0;b<l;b+=4)e=g(a,b)<<18|g(a,b+1)<<12|g(a,b+2)<<6|g(a,b+3),s.push(String.fromCharCode(e>>
16,e>>8&255,e&255));switch(h){case 1:e=g(a,b)<<18|g(a,b+1)<<12|g(a,b+2)<<6;s.push(String.fromCharCode(e>>16,e>>8&255));break;case 2:e=g(a,b)<<18|g(a,b+1)<<12,s.push(String.fromCharCode(e>>16))}return s.join("")},getbyte:function(a,g){var h=a.charCodeAt(g);if(255<h)throw"INVALID_CHARACTER_ERR: DOM Exception 5";return h},encode:function(a){if(1!=arguments.length)throw"SyntaxError: Not enough arguments";var g=base64.PADCHAR,h=base64.ALPHA,b=base64.getbyte,e,l,s=[];a=""+a;var q=a.length-a.length%3;if(0==
a.length)return a;for(e=0;e<q;e+=3)l=b(a,e)<<16|b(a,e+1)<<8|b(a,e+2),s.push(h.charAt(l>>18)),s.push(h.charAt(l>>12&63)),s.push(h.charAt(l>>6&63)),s.push(h.charAt(l&63));switch(a.length-q){case 1:l=b(a,e)<<16;s.push(h.charAt(l>>18)+h.charAt(l>>12&63)+g+g);break;case 2:l=b(a,e)<<16|b(a,e+1)<<8,s.push(h.charAt(l>>18)+h.charAt(l>>12&63)+h.charAt(l>>6&63)+g)}return s.join("")}};(function(a,g,h){function b(a){return a}function e(a){a=decodeURIComponent(a.replace(l," "));return 0===a.indexOf('"')&&(a=a.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\")),a}var l=/\+/g,s=a.cookie=function(q,l,u){if(l!==h){if(u=a.extend({},s.defaults,u),null===l&&(u.expires=-1),"number"==typeof u.expires){var G=u.expires,D=u.expires=new Date;D.setDate(D.getDate()+G)}return l=s.json?JSON.stringify(l):l+"",g.cookie=[encodeURIComponent(q),"=",s.raw?l:encodeURIComponent(l),u.expires?"; expires="+
u.expires.toUTCString():"",u.path?"; path="+u.path:"",u.domain?"; domain="+u.domain:"",u.secure?"; secure":""].join("")}l=s.raw?b:e;u=g.cookie.split("; ");for(var G=q?null:{},D=0,C=u.length;C>D;D++){var w=u[D].split("="),x=l(w.shift()),w=l(w.join("="));if(q&&q===x){G=s.json?JSON.parse(w):w;break}q||(G[x]=s.json?JSON.parse(w):w)}return G};s.defaults={};a.removeCookie=function(b,e){return null!==a.cookie(b)?(a.cookie(b,null,e),!0):!1}})(jQuery,document);var Sha1={hash:function(a,g){("undefined"==typeof g||g)&&(a=Utf8.encode(a));var h=[1518500249,1859775393,2400959708,3395469782];a+=String.fromCharCode(128);for(var b=Math.ceil((a.length/4+2)/16),e=Array(b),l=0;l<b;l++){e[l]=Array(16);for(var s=0;16>s;s++)e[l][s]=a.charCodeAt(64*l+4*s)<<24|a.charCodeAt(64*l+4*s+1)<<16|a.charCodeAt(64*l+4*s+2)<<8|a.charCodeAt(64*l+4*s+3)}e[b-1][14]=8*(a.length-1)/Math.pow(2,32);e[b-1][14]=Math.floor(e[b-1][14]);e[b-1][15]=8*(a.length-1)&4294967295;for(var s=1732584193,
q=4023233417,y=2562383102,u=271733878,G=3285377520,D=Array(80),C,w,x,B,I,l=0;l<b;l++){for(var H=0;16>H;H++)D[H]=e[l][H];for(H=16;80>H;H++)D[H]=Sha1.ROTL(D[H-3]^D[H-8]^D[H-14]^D[H-16],1);C=s;w=q;x=y;B=u;I=G;for(H=0;80>H;H++){var L=Math.floor(H/20),L=Sha1.ROTL(C,5)+Sha1.f(L,w,x,B)+I+h[L]+D[H]&4294967295;I=B;B=x;x=Sha1.ROTL(w,30);w=C;C=L}s=s+C&4294967295;q=q+w&4294967295;y=y+x&4294967295;u=u+B&4294967295;G=G+I&4294967295}return Sha1.toHexStr(s)+Sha1.toHexStr(q)+Sha1.toHexStr(y)+Sha1.toHexStr(u)+Sha1.toHexStr(G)},
f:function(a,g,h,b){switch(a){case 0:return g&h^~g&b;case 1:return g^h^b;case 2:return g&h^g&b^h&b;case 3:return g^h^b}},ROTL:function(a,g){return a<<g|a>>>32-g},toHexStr:function(a){for(var g="",h,b=7;0<=b;b--)h=a>>>4*b&15,g+=h.toString(16);return g}};var Mustache;
(function(a){"undefined"!==typeof module&&module.exports?module.exports=a:"function"===typeof define?define(a):Mustache=a})(function(){function a(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function g(a){this.tail=this.string=a;this.pos=0}function h(a,b){this.view=a;this.parent=b;this.clearCache()}function b(){this.clearCache()}function e(a){for(var b=a[3],e=b,g;(g=a[4])&&g.length;)a=g[g.length-1],e=a[3];return[b,e]}function l(a){function b(a,e,h){if(!g[a]){var q=l(e);g[a]=function(a,
b){return q(a,b,h)}}return g[a]}var g={};return function(g,h,q){for(var l="",s,y,u=0,x=a.length;u<x;++u)switch(s=a[u],s[0]){case "#":y=q.slice.apply(q,e(s));l+=g._section(s[1],h,y,b(u,s[4],q));break;case "^":l+=g._inverted(s[1],h,b(u,s[4],q));break;case ">":l+=g._partial(s[1],h);break;case "&":l+=g._name(s[1],h);break;case "name":l+=g._escaped(s[1],h);break;case "text":l+=s[1]}return l}}function s(b){if(2!==b.length)throw Error("Invalid tags: "+b.join(" "));return[RegExp(a(b[0])+"\\s*"),RegExp("\\s*"+
a(b[1]))]}var q={name:"mustache.js",version:"0.7.0",tags:["{{","}}"]};q.Scanner=g;q.Context=h;q.Writer=b;var y=/\s*/,u=/\s+/,G=/\S/,D=/\s*=/,C=/\s*\}/,w=/#|\^|\/|>|\{|&|=|!/,x=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)},B={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};q.escape=function(a){return String(a).replace(/[&<>"'\/]/g,function(a){return B[a]})};g.prototype.eos=function(){return""===this.tail};g.prototype.scan=function(a){return(a=
this.tail.match(a))&&0===a.index?(this.tail=this.tail.substring(a[0].length),this.pos+=a[0].length,a[0]):""};g.prototype.scanUntil=function(a){var b=this.tail.search(a);switch(b){case -1:a=this.tail;this.pos+=this.tail.length;this.tail="";break;case 0:a="";break;default:a=this.tail.substring(0,b),this.tail=this.tail.substring(b),this.pos+=b}return a};h.make=function(a){return a instanceof h?a:new h(a)};h.prototype.clearCache=function(){this._cache={}};h.prototype.push=function(a){return new h(a,this)};
h.prototype.lookup=function(a){var b=this._cache[a];if(!b){if("."===a)b=this.view;else for(var e=this;e;){if(0<a.indexOf("."))for(var g=a.split("."),h=0,b=e.view;b&&h<g.length;)b=b[g[h++]];else b=e.view[a];if(null!=b)break;e=e.parent}this._cache[a]=b}"function"===typeof b&&(b=b.call(this.view));return b};b.prototype.clearCache=function(){this._cache={};this._partialCache={}};b.prototype.compile=function(a,b){return this._compile(this._cache,a,a,b)};b.prototype.compilePartial=function(a,b,e){return this._compile(this._partialCache,
a,b,e)};b.prototype.render=function(a,b,e){return this.compile(a)(b,e)};b.prototype._compile=function(a,b,e,g){if(!a[b]){g=q.parse(e,g);var t=l(g),s=this;a[b]=function(a,b){if(b)if("function"===typeof b)s._loadPartial=b;else for(var g in b)s.compilePartial(g,b[g]);return t(s,h.make(a),e)}}return a[b]};b.prototype._section=function(a,b,e,g){a=b.lookup(a);switch(typeof a){case "object":if(x(a)){e="";for(var h=0,q=a.length;h<q;++h)e+=g(this,b.push(a[h]));return e}return a?g(this,b.push(a)):"";case "function":var l=
this;return a.call(b.view,e,function(a){return l.render(a,b)})||"";default:if(a)return g(this,b)}return""};b.prototype._inverted=function(a,b,e){a=b.lookup(a);return!a||x(a)&&0===a.length?e(this,b):""};b.prototype._partial=function(a,b){!(a in this._partialCache)&&this._loadPartial&&this.compilePartial(a,this._loadPartial(a));var e=this._partialCache[a];return e?e(b):""};b.prototype._name=function(a,b){var e=b.lookup(a);"function"===typeof e&&(e=e.call(b.view));return null==e?"":String(e)};b.prototype._escaped=
function(a,b){return q.escape(this._name(a,b))};q.parse=function(b,e){e=e||q.tags;for(var h=s(e),l=new g(b),t=[],x=[],K=!1,B=!1,I,E,W;!l.eos();){I=l.pos;if(W=l.scanUntil(h[0]))for(var Z=0,T=W.length;Z<T;++Z)if(E=W.charAt(Z),RegExp.prototype.test.call(G,E)?B=!0:x.push(t.length),t.push(["text",E,I,I+1]),I+=1,"\n"===E){if(K&&!B)for(;x.length;)t.splice(x.pop(),1);else x=[];B=K=!1}I=l.pos;if(!l.scan(h[0]))break;K=!0;E=l.scan(w)||"name";l.scan(y);"="===E?(W=l.scanUntil(D),l.scan(D),l.scanUntil(h[1])):"{"===
E?(W=RegExp("\\s*"+a("}"+e[1])),W=l.scanUntil(W),l.scan(C),l.scanUntil(h[1]),E="&"):W=l.scanUntil(h[1]);if(!l.scan(h[1]))throw Error("Unclosed tag at "+l.pos);t.push([E,W,I,l.pos]);if("name"===E||"{"===E||"&"===E)B=!0;"="===E&&(e=W.split(u),h=s(e))}for(var V,l=0;l<t.length;++l)h=t[l],V&&"text"===V[0]&&"text"===h[0]?(V[1]+=h[1],V[3]=h[3],t.splice(l--,1)):V=h;K=V=[];h=[];for(x=0;x<t.length;++x)switch(l=t[x],l[0]){case "#":case "^":l[4]=[];h.push(l);K.push(l);K=l[4];break;case "/":if(0===h.length)throw Error("Unopened section: "+
l[1]);K=h.pop();if(K[1]!==l[1])throw Error("Unclosed section: "+K[1]);K=0<h.length?h[h.length-1][4]:V;break;default:K.push(l)}if(K=h.pop())throw Error("Unclosed section: "+K[1]);return V};var I=new b;q.clearCache=function(){return I.clearCache()};q.compile=function(a,b){return I.compile(a,b)};q.compilePartial=function(a,b,e){return I.compilePartial(a,b,e)};q.render=function(a,b,e){return I.render(a,b,e)};q.to_html=function(a,b,e,g){a=q.render(a,b,e);if("function"===typeof g)g(a);else return a};return q}());Backbone.Table=Backbone.View.extend({tagName:"table",initialize:function(){return this.$el=this.$el||$(this.el)},template:_.template('<% var rows = collection.models;  %>\n<thead>\n\t<tr>\n\t\t<% _.each(columns, function (col) { %>\n\t\t\t<th class="<%= col.className || \'\' %>">\n\t\t\t\t<%= col.header || (_.isArray(col) && col[1]) || col %>\n\t\t\t</th>\n\t\t<% }) %>\n\t</tr>\n</thead>\n<tbody>\n\t<% _.each(rows, function (row, i) { %>\n\t<tr class="<%= i % 2 ? \'even\' : \'odd\' %>">\n\t\t<% _.each(columns, function (col) { %>\n\t\t\t<td class="<%= col.className || \'\' %>"<% if (col.getValue) { %> value="<%= col.getValue.call(row) %>"<% } %>>\n\t\t\t\t<%= col.getFormatted ? col.getFormatted.call(row) : row.get((_.isArray(col) ? col[0] : col)) %>\n\t\t\t</td>\n\t\t<% }) %>\n\t</tr>\n\t<% }) %>\n</tbody>\n<tfoot>\n\t<tr>\n\t\t<% _.each(columns, function (col) { %>\n\t\t\t<th class="<%= col.className || \'\' %>"><%= col.footer || "" %></th>\n\t\t<% }) %>\n\t</tr>\n</tfoot>'),
render:function(){this.$el.html(this.template({collection:this.collection,columns:this.options.columns}));return this}});(function(a){a.fn.infiniteScroll=function(){var g=a(this),h=a(window),b=a("body"),e="init",l=!1,s=!0,q={threshold:80,onBottom:function(){},onEnd:null,iScroll:null};arguments.length&&("string"===typeof arguments[0]?(e=arguments[0],1<arguments.length&&"object"===typeof arguments[1]&&(q=a.extend(q,arguments[1]))):"object"===typeof arguments[0]&&(q=a.extend(q,arguments[0])));if("init"===e){var y=function(){if(!l&&s&&(q.iScroll?-q.iScroll.maxScrollY+q.iScroll.y:b.outerHeight()-h.height()-h.scrollTop())<
q.threshold)l=!0,q.onBottom(function(a){if(!1===a&&(s=!1,"function"===typeof q.onEnd))q.onEnd();l=!1})};if(q.iScroll){var u=q.iScroll.options.onScrollMove||null;q.iScroll.options.onScrollMove=function(){u&&u();y()};q.iScroll_scrollMove=u}else h.on("scroll.infinite resize.infinite",y);g.data("infinite-scroll",q);a(y)}"reset"===e&&(q=g.data("infinite-scroll"),q.iScroll&&(q.iScroll_scrollMove&&(q.iScroll.options.onScrollMove=q.iScroll_scrollMove),q.iScroll.scrollTo(0,0,0,!1)),h.off("scroll.infinite resize.infinite"),
g.infiniteScroll(q));return this}})(jQuery);function render_data_prefixes(){function a(){var a=$("#globalDataTableDrop option:selected").val(),b=$("#prefixDrop option:selected").val();_.isUndefined(a)||_.isUndefined(b)?$("#permissions").html(""):(ps=a=PREFIXES.get(a).get(decode_id(b)),b=["r"],"rw"==a&&(b=["rw","r"]),$("#permissions").html(Mustache.render("{{#prefixes}}<option value='{{value}}'>{{text}}</option>{{/prefixes}};",{prefixes:_.map(b,function(a){return{text:a,value:encode_id(a)}})})))}function g(){var g=$("#globalDataTableDrop option:selected").val();
if(_.isUndefined(g))$("#prefixDrop").html("");else{var b=[],g=PREFIXES.get(g);_.isUndefined(g)?$("#prefixDrop").html(""):(_.each(g.attributes,function(a,g){"row"!=g&&b.push(g)}),b.sort(),$("#prefixDrop").html(Mustache.render("{{#prefixes}}<option value='{{value}}'>{{text}}</option>{{/prefixes}};",{prefixes:_.map(b,function(a){return{text:a,value:encode_id(a)}})})),$("#prefixDrop").change(a))}a()}$("#globalDataTableDrop").change(g);$("#createButton").click(function(){var a=$("#globalDataTableDrop option:selected").val();
if(!_.isUndefined(a)){var b={};b[decode_id($("#prefixDrop option:selected").val())+unescape($("#suffix").val())]=decode_id($("#permissions option:selected").val());PREFIXES.get(a).save(b,{patch:!0})}});new RowsView({collection:PREFIXES,el:$("#prefixes"),deleteValues:!0,postRender:g})}
function render_data_projects(){slices_selector();$("#modifyProjectButton").click(function(){var a=$("#globalDataTableDrop option:selected").val(),g={},h=slices_selector_get().join(";"),b=$("#projectName").val();""!==b&&(g[b]=h,PROJECTS.get(a).save(g,{patch:!0}))});new RowsView({collection:PROJECTS,el:$("#prefixes"),extraColumns:[{header:"Table",getFormatted:function(){return this.escape("row")}}],deleteValues:!0})}function render_data_usage(){new RowsView({collection:USAGE,el:$("#usage")})}
function render_models_list(){new RowsView({collection:MODELS,el:$("#results"),extraColumns:[{header:"Takeout",getFormatted:function(){return Mustache.render("<a class='takeout_link' row='{{row}}'>Link</a>/<a class='takeout_chain' row='{{row}}'>Chain</a>",{row:encode_id(this.get("row"))})}},{header:"Notes",className:"models-notes",getFormatted:function(){return this.escape("meta:notes")+'<a class="modal_link_notes" row="'+encode_id(this.get("row"))+'">edit</a>'}},{header:"Tags",className:"models-tags",
getFormatted:function(){return this.escape("meta:tags")+'<a class="modal_link_tags" row="'+encode_id(this.get("row"))+'">edit</a>'}},{header:"Projects",className:"models-projects",getFormatted:function(){return _.escape(decode_projects(this).join(","))+'<a class="modal_link_projects" row="'+encode_id(this.get("row"))+'">edit</a>'}},{header:"RowB64",getFormatted:function(){return base64.encode(this.get("row"))}},{header:"InputB64",getFormatted:function(){return base64.encode(this.get("meta:input"))}}],
postRender:function(){function a(a,b,e,g){b=Number(MODELS.get(a).escape(b));b=_.map(_.range(b),function(a){return e+"-"+a});console.log(a);PICARUS.getRow("models",a,{columns:b,success:function(b){chunks=_.map(b,function(a,b){return[Number(b.split("-")[1]),a]}).sort(function(a,b){return a[0]-b[0]});model=_.map(chunks,function(a,b){return a[1]}).join("");var e=Sha1.hash(model,!1);b=MODELS.get(a).escape("meta:model_"+g+"_sha1");if(e===b){for(var e=new Uint8Array(model.length),y=0;y<model.length;y++)e[y]=
model.charCodeAt(y)&255;e=new Blob([e]);saveAs(e,"picarus-model-"+encode_id(a)+".sha1-"+b+"."+g+".msgpack")}else alert("Model SHA1 doesn't match!")}})}function g(a,b){a.click(function(a){a=decode_id(a.target.getAttribute("row"));var g=MODELS.get(a);$("#modal_content").val(g.escape(b));$("#save_button").unbind();$("#save_button").click(function(){var a={};a[b]=$("#modal_content").val();g.save(a,{patch:!0});$("#myModal").modal("hide")});$("#myModal").modal("show")})}$(".takeout_link").click(function(g){a(decode_id($(g.target).attr("row")),
"meta:model_link_chunks","data:model_link","link")});$(".takeout_chain").click(function(g){a(decode_id($(g.target).attr("row")),"meta:model_chain_chunks","data:model_chain","chain")});g($(".modal_link_notes"),"meta:notes");g($(".modal_link_tags"),"meta:tags");(function(a,b){a.click(function(a){a=decode_id(a.target.getAttribute("row"));var b=MODELS.get(a);a=$("#globalDataTableDrop").val();a=_.keys(_.omit(PROJECTS.get(a).attributes,"row"));var g=[];_.isUndefined(b.get("meta:projects-"+EMAIL_AUTH.email))||
(g=decode_projects(b));a=_.map(a,function(a){return _.contains(g,a)?{name:a,selected:"selected='selected'"}:{name:a,selected:""}});$("#modal_content_projects").html(Mustache.render("<select class='multiselect' multiple='multiple' row='{{row}}'>{{#projects}}<option {{selected}}>{{name}}</option>{{/projects}}</select>",{projects:a}));$(".multiselect").multiselect();$("#save_button_projects").unbind();$("#save_button_projects").click(function(){var a={},e=_.map($("#modal_content_projects option:selected"),
function(a){return base64.encode(_.unescape($(a).val()))}).join(",");a["meta:projects-"+EMAIL_AUTH.email]=e;b.save(a,{patch:!0});$("#myModalProjects").modal("hide")});$("#myModalProjects").modal("show")})})($(".modal_link_projects"),"meta:projects-"+EMAIL_AUTH.email)},deleteRows:!0,columns:"meta:name meta:input_type meta:output_type row meta:creation_time meta:input meta:model_link_size meta:model_chain_size meta:factory_info".split(" "),filter:function(a){var g=$("#globalProjectDrop").val();a=decode_projects(a);
return""===g||_.contains(a,g)}})}
function render_models_create(){av=new (Backbone.View.extend({initialize:function(){_.bindAll(this,"renderKind");_.bindAll(this,"renderName");this.collection.bind("reset",this.renderKind);this.collection.bind("change",this.renderKind);this.collection.bind("add",this.renderKind);this.renderKind()},events:{"change #kind_select":"renderName","change #name_select":"renderParam"},renderParam:function(){$("#params").html("");$("#slices_select").html("");var a=$("#kind_select option:selected").val(),g=$("#name_select option:selected").val();
model_create_selector($("#slices_select"),$("#params"),a,g)},renderKind:function(){var a=_.uniq(_.map(this.collection.models,function(a){return a.escape("kind")}));a.length&&($("#kind_select").html(Mustache.render("{{#models}}<option value='{{.}}'>{{.}}</option>{{/models}};",{models:a})),this.renderName())},renderName:function(){var a=$("#kind_select option:selected").val(),g=this.collection.filter(function(g){return g.escape("kind")==a}),g=_.map(g,function(a){return a.escape("name")});$("#name_select").html(Mustache.render("{{#models}}<option value='{{.}}'>{{.}}</option>{{/models}};",
{models:g}));this.renderParam()}}))({collection:PARAMETERS,el:$("#selects")});$("#runButton").click(function(){function a(a){var b=a.row;_.isUndefined(b)&&(b=a.modelRow);b=new PicarusRow({row:b},{table:"models",columns:["meta:"]});MODELS.add(b);b.fetch();$("#results").html(base64.encode(a.row));button_reset()}var g=model_create_selector_get($("#params")),h=$("#kind_select option:selected").val(),b=$("#name_select option:selected").val(),e=PARAMETERS.filter(function(a){if(a.escape("kind")==h&&a.escape("name")==
b)return!0})[0],l=e.get("row");g.path=l;"factory"===e.escape("type")?(g.table="images",g.slices=slices_selector_get().join(";"),p=g,PICARUS.postTable("models",{success:_.partial(watchJob,{success:_.partial(updateJobStatus,$("#results")),done:a}),data:g})):PICARUS.postTable("models",{success:a,data:g})})}
function render_models_single(){function a(a,b,e){var g=_.uniqueId("image_"),h=_.uniqueId("canvas_"),l=$("<img>").css("visibility","hidden").css("display","none").attr("id",g);l.load(function(){e(g,h)});b.append(l.attr("src",a))}function g(b,e,g,h){a(b,h,function(a,b){var l=$("#"+a).height(),s=$("#"+a).width();h.append($("<canvas>").attr("id",b).attr("height",l+"px").attr("width",s+"px"));var x=document.getElementById(b).getContext("2d");x.strokeStyle="blue";var B=document.getElementById(a);x.drawImage(B,
0,0);_.each(_.range(g),function(a){var b=e[4*a+2]*s,g=e[4*a+3]*s,h=e[4*a]*l;a=e[4*a+1]*l;x.moveTo(b,h);x.lineTo(b,a);x.stroke();x.moveTo(b,a);x.lineTo(g,a);x.stroke();x.moveTo(g,a);x.lineTo(g,h);x.stroke();x.moveTo(g,h);x.lineTo(b,h);x.stroke()})})}function h(b,e,g,h){a(b,h,function(a,b){var l=$("#"+a).height(),s=$("#"+a).width();h.append($("<canvas>").attr("id",b).attr("height",l+"px").attr("width",s+"px"));var x=document.getElementById(b).getContext("2d");x.strokeStyle="blue";var B=document.getElementById(a);
x.drawImage(B,0,0);_.each(_.range(g),function(a){var b=Math.max(l,s)*e[6*a+5]/2,g=e[6*a+0]*l;a=e[6*a+1]*s;x.beginPath();x.arc(a,g,b,0,2*Math.PI);x.stroke()})})}function b(a,b){for(var e=b.target.files,g=0,h;h=e[g];g++)if(h.type.match("image.*")){var l=new FileReader;l.onload=function(b){return function(b){a(b.target.result)}}(h);l.readAsDataURL(h)}}function e(a){function q(a){$("#imagefile").parent().html($("#imagefile").parent().html());$("#imagefile").change(e);var b=l.get(u).escape("meta:output_type");
"binary_class_confidence"==b?($("#results").html($("<h3>").text("Classifier Confidence")),$("#results").append(msgpack.unpack(a[u]))):"binary_prediction"==b?($("#results").html($("<h3>").text("Binary Prediction")),$("#results").append(String(msgpack.unpack(a[u])))):"processed_image"==b?($("#results").html($("<h3>").text("Processed Image")),$("#results").append($("<img>").attr("src","data:image/jpeg;base64,"+base64.encode(a[u])))):"image_detections"==b?($("#results").html($("<h3>").text("Detections")),
v=msgpack.unpack(a[u]),g(imageData,v[0],v[1][0],$("#results"))):"feature"==b?($("#results").html($("<h3>").text("Feature")),$("#results").append(_.escape(JSON.stringify(msgpack.unpack(a[u])[0])))):"multi_class_distance"==b?($("#results").html($("<h3>").text("Multi Class Distance")),a=msgpack.unpack(a[u]),_.each(a,function(a){$("#results").append(a[1]+" "+a[0]+"<br>")})):"distance_image_rows"==b?($("#results").html($("<h3>").text("Image Search Results")),a=msgpack.unpack(a[u]),_.each(a,function(a){var b=
_.uniqueId("image_");$("#results").append('<img title="'+a[0]+'" id="'+b+'">');imageThumbnail(a[1],b)})):"feature2d_binary"==b?(debug_data=a=msgpack.unpack(a[u]),h(imageData,a[1],a[2][0],$("#results"))):(debug_result=a[u],alert("Unrecognized output type"))}function y(a){PICARUS.postRow(G,a.row,{success:q,data:{model:u,action:"i/chain"}})}imageData=void 0;b(function(a){imageData=a},a);$("#imagefile").wrap("<div />");if(1!=$("#imagefile")[0].files.length)display_alert("You must specify an image!");
else{var u=decode_id($("#model_select").find(":selected").val()),G="images";a={};a["data:image"]=$("#imagefile")[0].files[0];PICARUS.postTable(G,{success:y,data:a});$("#results").html("")}}var l=model_dropdown({modelFilter:function(a){return!0},change:function(){},el:$("#model_select")});$("#imagefile").change(e)}
function render_models_slice(){model_dropdown({modelFilter:function(a){return!0},el:$("#model_select")});row_selector($("#rowPrefixDrop"),{startRow:$("#startRow"),stopRow:$("#stopRow")});$("#runButton").click(function(){button_running();var a=unescape($("#startRow").val()),g=unescape($("#stopRow").val()),h="io/link";$("#chainCheck").is(":checked")&&(h="io/chain");var b=decode_id($("#model_select").find(":selected").val());PICARUS.postSlice("images",a,g,{success:_.partial(watchJob,{success:_.partial(updateJobStatus,
$("#results")),done:button_reset}),fail:button_error,data:{action:h,model:b}})})}function render_process_thumbnail(){row_selector($("#rowPrefixDrop"),{startRow:$("#startRow"),stopRow:$("#stopRow")});$("#runButton").click(function(){button_running();var a=unescape($("#startRow").val()),g=unescape($("#stopRow").val());PICARUS.postSlice("images",a,g,{data:{action:"io/thumbnail"},success:_.partial(watchJob,{success:_.partial(updateJobStatus,$("#results")),done:button_reset}),fail:button_error})})}
function render_process_delete(){row_selector($("#rowPrefixDrop"),{startRow:$("#startRow"),stopRow:$("#stopRow")});$("#runButton").click(function(){button_running();var a=unescape($("#startRow").val()),g=unescape($("#stopRow").val());PICARUS.deleteSlice("images",a,g,{success:button_reset,fail:button_error})})}
function render_process_exif(){row_selector($("#rowPrefixDrop"),{startRow:$("#startRow"),stopRow:$("#stopRow")});$("#runButton").click(function(){button_running();var a=unescape($("#startRow").val()),g=unescape($("#stopRow").val());PICARUS.postSlice("images",a,g,{data:{action:"io/exif"},success:_.partial(watchJob,{success:_.partial(updateJobStatus,$("#results")),done:button_reset}),fail:button_error})})}
function render_process_modify(){row_selector($("#rowPrefixDrop"),{startRow:$("#startRow"),stopRow:$("#stopRow")});$("#runButton").click(function(){button_running();var a=unescape($("#columnName").val()),g=unescape($("#columnValue").val()),h=unescape($("#startRow").val()),b=unescape($("#stopRow").val()),e={};e[a]=g;PICARUS.patchSlice("images",h,b,{success:button_reset,fail:button_error,data:e})})}
function render_process_copy(){row_selector($("#rowPrefixDrop"),{startRow:$("#startRow"),stopRow:$("#stopRow")});row_selector($("#rowPrefixDrop2"));$("#runButton").click(function(){button_running();var a=unescape($("#columnName").val()),g=unescape($("#columnValue").val()),h=unescape($("#startRow").val()),b=unescape($("#stopRow").val()),e=$("#rowPrefixDrop2 option:selected").val(),l=Number($("#maxRows").val());PICARUS.scanner("images",h,b,{success:function(b,h){var l=e+random_bytes(10);cur_data={};
cur_data["data:image"]=h["data:image"];a.length&&(cur_data[a]=g);PICARUS.patchRow("images",l,{data:cur_data})},done:button_reset,fail:button_error,maxRows:l,maxRowsIter:5,columns:["data:image"]})})}
function render_workflow_classifier(){new (Backbone.View.extend({initialize:function(){_.bindAll(this,"render","renderFeature","renderBovw");this.collection.bind("sync",this.render);this.render()},events:{"change #preprocess_select":"renderPreprocessor","change #feature_select":"renderFeature","change #bovw_select":"renderBovw","change #classifier_select":"renderClassifier","click #runButton":"run"},run:function(){button_running();console.log("Click");var a=Number($("#trainFrac").val()),g=$("#gtColumn").val(),
h=slices_selector_get(!0),b=[],e=h.length;console.log("TrainFrac: "+a+" GT Column: "+g);_.each(h,function(h){function s(a){a=new PicarusRow({row:a},{table:"models",columns:["meta:"]});MODELS.add(a);a.fetch();var b=$("#globalProjectDrop").val();if(b.length){var e={},b=base64.encode(b);e["meta:projects-"+EMAIL_AUTH.email]=b;a.save(e,{patch:!0})}}function q(a){var b=$('input[name="param-class_positive"]').val();return _.reduce(a,function(a,e){return a+Number(e[1]===b)},0)}var y=base64.decode(h[0]),u=
base64.decode(h[1]),G=[];PICARUS.scanner("images",y,u,{success:function(a,b){G.push([a,b[g]])},done:function(h){h=Math.min(G.length-1,Math.round(a*G.length));0<h&&(b.push([y,G[h][0],u,h,G.length-h,q(G.slice(0,h)),q(G.slice(h))]),console.log("trainInd: "+h+" rows: "+G.length));e-=1;if(!e)if(b.length){console.log(b);var l=_.map(b,function(a){return{startRow:a[0],midRow:a[1],stopRow:a[2],trainPos:a[5],valPos:a[6],trainNeg:a[3]-a[5],valNeg:a[4]-a[6],thumbnail:"-",preprocessor:"-",feature:"-",classifier:"-"}}),
w=[{name:"preprocessor"},{name:"feature"},{name:"classifier"}],x=function(){$("#progressTable").html(Mustache.render("<table><tr><th>trainStart</th><th>trainStop/valStart</th><th>valStop</th><th>TrainPos/Neg</th><th>ValPos/Neg</th><th>Thumb</th><th>Preproc</th><th>Feat</th><th>Classify</th></tr>{{#slices}}<tr><td>{{startRow}}</td><td>{{midRow}}</td><td>{{stopRow}}</td><td>{{trainPos}}/{{trainNeg}}</td><td>{{valPos}}/{{valNeg}}</td><td><span class='label {{thumbnailClass}}'>{{thumbnail}}</span></td><td><span class='label {{preprocessorClass}}'>{{preprocessor}}</span></td><td><span class='label {{featureClass}}'>{{feature}}</span></td><td><span class='label {{classifierClass}}'>{{classifier}}</span></td></tr>{{/slices}}</table>",
{slices:l}));$("#modelsTable").html(Mustache.render("<table><tr><th>Name</th><th>Row (b64)</th></tr>{{#models}}<tr><td>{{name}}</td><td>{{rowb64}}</td></tr>{{/models}}</table>",{models:w}))};x();h=_.reduce(l,function(a,b){return[a[0]+b.trainNeg,a[1]+b.trainPos,a[2]+b.valNeg,a[3]+b.valPos]},[0,0,0,0]);if(!h[0]||!h[1]||!h[2]||!h[3])alert("Each of pos/neg for train/val must have at least one sample, aborting."),button_reset();else{h=function(){_.each(l,function(a){a.thumbnail="Running";a.thumbnailClass=
"label-info";x();PICARUS.postSlice("images",a.startRow,a.stopRow,{data:{action:"io/thumbnail"},success:_.partial(watchJob,{done:function(){a.thumbnailClass="label-success";a.thumbnail="Done";x()}})})})};$("#thumbCheck").prop("checked")&&h();var B=function(a){var b=l.length;_.each(l,function(e){e.preprocessor="Running";e.preprocessorClass="label-info";x();PICARUS.postSlice("images",e.startRow,e.stopRow,{success:_.partial(watchJob,{done:function(){b-=1;b||(e.preprocessor="Done",e.preprocessorClass=
"label-success",x(),L(a))}}),data:{action:"io/link",model:a}})})},I=function(a,b){var e=l.length;_.each(l,function(g){g.feature="Running";g.featureClass="label-info";x();PICARUS.postSlice("images",g.startRow,g.stopRow,{success:_.partial(watchJob,{done:function(){e-=1;e||(g.feature="Done",g.featureClass="label-success",x(),"feature"===b?O(a):Q(a))}}),data:{action:"io/link",model:a}})})},H=function(a){var b=l.length;_.each(l,function(e){e.classifier="Running";e.classifierClass="label-info";x();PICARUS.postSlice("images",
e.midRow,e.stopRow,{success:_.partial(watchJob,{done:function(){b-=1;b||(e.classifier="Done",e.classifierClass="label-success",x(),button_reset(),alert("Workflow done"))}}),data:{action:"io/link",model:a}})})},L=function(a){var b=model_create_selector_get($("#params_feature"));b.path=$("#feature_select").find(":selected").val();b.path&&(b["input-processed_image"]=a,PICARUS.postTable("models",{success:function(a){s(a.row);w[1].rowb64=base64.encode(a.row);x();I(a.row,PARAMETERS.get(b.path).get("output_type"))},
data:b}))},Q=function(a){var e=model_create_selector_get($("#params_bovw"));e.path=$("#bovw_select").find(":selected").val();e["input-mask_feature"]=a;e.table="images";e.slices=_.map(b,function(a){return base64.encode(a[0])+","+base64.encode(a[1])}).join(";");PICARUS.postTable("models",{success:_.partial(watchJob,{done:function(a){s(a.modelRow);w[1].rowb64+="  "+base64.encode(a.modelRow);x();I(a.modelRow,"feature")}}),data:e})},O=function(a){var e=model_create_selector_get($("#params_classifier"));
e.path=$("#classifier_select").find(":selected").val();e["input-feature"]=a;e["input-meta"]=g;e.table="images";e.slices=_.map(b,function(a){return base64.encode(a[0])+","+base64.encode(a[1])}).join(";");debug_params=e;PICARUS.postTable("models",{success:_.partial(watchJob,{done:function(a){s(a.modelRow);w[2].rowb64=base64.encode(a.modelRow);x();H(a.modelRow)}}),data:e})};(function(){var a=model_create_selector_get($("#params_preprocessor"));a.path=$("#preprocess_select").find(":selected").val();a["input-raw_image"]=
"data:image";PICARUS.postTable("models",{success:function(a){s(a.row);w[0].rowb64=base64.encode(a.row);x();B(a.row)},data:a})})()}}else alert("No slices provided that have the specified GT column"),button_reset()},columns:[g]})})},renderPreprocessor:function(){$("#params_preprocessor").html("");var a=$("#preprocess_select").find(":selected").text();_.isUndefined(a)||model_create_selector($("#slices_select"),$("#params_preprocessor"),"image_preprocessor",a,!0)},renderFeature:function(){$("#params_feature").html("");
var a=$("#feature_select").find(":selected").text(),g=$("#feature_select").find(":selected").val();g&&(model_create_selector($("#slices_select"),$("#params_feature"),"feature",a,!0),"mask_feature"===PARAMETERS.get(g).get("output_type")?($("#bovwSection").css("display",""),this.renderBovw()):$("#bovwSection").css("display","none"))},renderBovw:function(){$("#params_bovw").html("");var a=$("#bovw_select").find(":selected").text();_.isUndefined(a)||model_create_selector($("#slices_select"),$("#params_bovw"),
"feature",a,!0)},renderClassifier:function(){$("#params_classifier").html("");var a=$("#classifier_select").find(":selected").text();_.isUndefined(a)||model_create_selector($("#slices_select"),$("#params_classifier"),"classifier",a,!0)},render:function(){function a(a){return _.filter(g,function(b){return _.contains(a,b.name)})}$("#slices_select").html("");$("#slices_select").append(document.getElementById("bpl_slices_select").innerHTML);var g=PARAMETERS.map(function(a){return{name:a.get("name"),row:a.get("row")}}),
h=a(["picarus.ImagePreprocessor"]),b=a(["picarus.HOGImageMaskFeature","picarus.GISTImageFeature","picarus.HistogramImageFeature"]),e=a(["bovw"]),l=a(["svmlinear","svmkernel"]);$("#preprocess_select").html(Mustache.render("{{#models}}<option value='{{row}}'>{{name}}</option>{{/models}};",{models:h}));$("#feature_select").html(Mustache.render("{{#models}}<option value='{{row}}'>{{name}}</option>{{/models}};",{models:b}));$("#bovw_select").html(Mustache.render("{{#models}}<option value='{{row}}'>{{name}}</option>{{/models}};",
{models:e}));$("#classifier_select").html(Mustache.render("{{#models}}<option value='{{row}}'>{{name}}</option>{{/models}};",{models:l}));slices_selector();this.renderPreprocessor();this.renderFeature();this.renderClassifier()}}))({collection:PARAMETERS,el:$("#params")})}
function render_jobs_list(){new RowsView({collection:JOBS,el:$("#results"),extraColumns:[{header:"Worker",getFormatted:function(){return"annotation"!=JOBS.get(this.get("row")).get("type")?"":Mustache.render("<a href='/v0/annotation/{{task}}/index.html' target='_blank'>Worker</a>",{task:this.escape("row")})}},{header:"Sync",getFormatted:function(){return"annotation"!=JOBS.get(this.get("row")).get("type")?"":'<span style="font-size:5px"><a class="tasks-sync" row="'+encode_id(this.get("row"))+'">sync</a></span>'}}],
postRender:function(){$(".tasks-sync").click(function(a){a=decode_id(a.target.getAttribute("row"));JOBS.get(a);PICARUS.postRow("jobs",a,{data:{action:"io/annotation/sync"}})})},deleteRows:!0});var a=$("#clearCompletedButton");button_confirm_click_reset(a);button_confirm_click(a,function(){_.map(JOBS.filter(function(a){return"completed"==a.get("status")}),function(a){a.destroy({wait:!0})});button_confirm_click_reset(a)})}
function render_jobs_crawlFlickr(){row_selector($("#rowPrefixDrop"),{startRow:$("#startRow"),stopRow:$("#stopRow")});$("#runButton").click(function(){function a(a){var g={action:"o/crawl/flickr",hasGeo:Number($("#demogeo").is(":checked")),query:a.query,uploadDateRadius:31104E3,iterations:e},h=$("#demoapikey").val(),G=$("#demoapisecret").val();h&&G&&(g.apiKey=h,g.apiSecret=G);a.className.length&&(g.className=a.className);l&&s&&(g.lat=String(l),g.lon=String(s));h=$("<div>");$("#results").append(h);
$("#results").append($("<br>"));PICARUS.postSlice("images",b,prefix_to_stop_row(b),{success:_.partial(watchJob,{success:_.partial(updateJobStatus,h),done:function(){$("#results").append("Crawl Finished : "+a.query+"<br>");button_reset()}}),data:g})}button_running();var g=$("#democlass").val(),h=$("#demoquery").val(),b=$("#rowPrefixDrop").val();if(0==h.length&&0==b.length)display_alert("Must specify query and prefix");else{var e=parseInt($("#demoiters").val());if(isNaN(e)||1>e||1E4<e)display_alert("Iters must be 0 < x <= 10000");
else{$("#results").html("");var l=Number($("#demolat").val()),s=Number($("#demolon").val());a({className:g,query:h})}}})}
function render_jobs_annotationClass(){slices_selector();$("#runButton").click(function(){unescape($("#startRow").val());unescape($("#stopRow").val());var a=Number($("#num_tasks").val()),g=$("#classColumn").val(),h=$("#class").val(),b=$("#modeSelect").val();$("#results").html("");a={path:"annotation/images/class",slices:slices_selector_get().join(";"),imageColumn:"thum:image_150sq",instructions:$("#instructions").val(),numTasks:a,mode:b};h.length?a["class"]=h:a.classColumn=g;PICARUS.postTable("jobs",
{success:function(a){JOBS.fetch();$("#results").append($("<a>").attr("href","/v0/annotation/"+a.row+"/index.html").text("Worker").attr("target","_blank"))},data:a})})}
function render_jobs_annotationQA(){slices_selector();$("#runButton").click(function(){unescape($("#startRow").val());unescape($("#stopRow").val());var a=Number($("#num_tasks").val()),g=$("#question").val(),h=$("#latitude").val(),b=$("#longitude").val(),e=$("#modeSelect").val();$("#results").html("");PICARUS.postTable("jobs",{success:function(a){JOBS.fetch();$("#results").append($("<a>").attr("href","/v0/annotation/"+a.row+"/index.html").text("Worker").attr("target","_blank"))},data:{path:"annotation/images/qa",
slices:slices_selector_get().join(";"),imageColumn:"data:image",latitudeColumn:h,longitudeColumn:b,questionColumn:g,instructions:$("#instructions").val(),numTasks:a,mode:e}})})}
function render_visualize_thumbnails(){row_selector($("#rowPrefixDrop"),{startRow:$("#startRow"),stopRow:$("#stopRow")});$("#runButton").click(function(){function a(){$(window).unbind("scroll");$(window).off("scroll.infinite resize.infinite")}function g(a,b){c=b;console.log(a);_.has(b,l)&&(console.log(a),y.append($("<img>").attr("src","data:image/jpeg;base64,"+base64.encode(b[l])).attr("title",base64.encode(a))))}function h(a){console.log("Got resume");q?(q=!1,a()):s=a}var b=unescape($("#startRow").val()),
e=unescape($("#stopRow").val()),l="thum:image_150sq",s=void 0,q=!1;a();$("#results").html("");var y=$("<div>");$("#results").append(y);if(0==b.length||0==e.length)display_alert("Must specify rows");else{var u={success:g,columns:[l],resume:h};y.infiniteScroll({threshold:1024,onEnd:function(){console.log("No more results")},onBottom:function(b){if(jQuery.contains(document.documentElement,y[0])){console.log("More data!");if(_.isUndefined(s))q=!0;else{var e=s;s=void 0;e()}b(!0)}else a()}});PICARUS.scanner("images",
b,e,u)}})}
function render_visualize_metadata(){row_selector($("#rowPrefixDrop"),{startRow:$("#startRow"),stopRow:$("#stopRow")});$("#runButton").click(function(){function a(){var a=_.map(images.models,function(a){return a.id});picarus_api_delete_rows(a,progressModal())}function g(){$("#results").html("");images.length&&(av=new (Backbone.View.extend({initialize:function(){_.bindAll(this,"render");this.collection.bind("reset",this.render);this.collection.bind("change",this.render);this.collection.bind("add",this.render);
this.collection.bind("sync",this.render)},render:function(){var a=_.uniq(_.flatten(_.map(this.collection.models,function(a){return _.keys(a.attributes)})));picarus_table=new Backbone.Table({collection:this.collection,columns:_.map(a,function(a){return"row"===a?[a,a]:{header:a,getFormatted:function(){var b=this.get(a);if("undefined"!==typeof b)return b.length<=l?b:'<span style="color:red">'+b.slice(0,l)+"</span>"}}})});this.$el.html(picarus_table.render().el)}}))({collection:images,el:$("#results")}),
av.render(),$("#removeButton").removeAttr("disabled"),button_confirm_click($("#removeButton"),a))}function h(a,b){b.row=a;images.add(b)}var b=unescape($("#startRow").val()),e=unescape($("#stopRow").val()),l=Number($("#maxSize").val());0==b.length||0==e.length?display_alert("Must specify rows"):(button_confirm_click_reset($("#removeButton")),images=new PicarusRows([],{table:"images"}),PICARUS.scanner("images",b,e,{success:h,maxRows:1E3,done:g,columns:["meta:"]}))})}
function render_visualize_exif(){row_selector($("#rowPrefixDrop"),{startRow:$("#startRow"),stopRow:$("#stopRow")});$("#runButton").click(function(){function a(){$("#results").html("");images.length&&(av=new (Backbone.View.extend({initialize:function(){_.bindAll(this,"render");this.collection.bind("reset",this.render);this.collection.bind("change",this.render);this.collection.bind("add",this.render)},render:function(){var a=this.collection.filter(function(a){return"{}"!=a.get(l)&&!_.isUndefined(a.get(l))});
columns=_.uniq(_.flatten(_.map(a,function(a){return _.keys(JSON.parse(a.get(l)))}))).concat(["row"]);picarus_table=new Backbone.Table({collection:this.collection,columns:_.map(columns,function(a){return"row"===a?[a,a]:{header:a,getFormatted:function(){var b=JSON.parse(this.get(l))[a];if("undefined"!==typeof b){if(!_.isString(b))return _.escape(JSON.stringify(b));b=base64.decode(b);return typeof b.length<=e?_.escape(b):'<span style="color:red">'+_.escape(b.slice(0,e))+"</span>"}}}})});this.$el.html(picarus_table.render().el)}}))({collection:images,
el:$("#results")}),av.render())}function g(a,b){b.row=a;"{}"!=b[l]&&images.add(b)}var h=unescape($("#startRow").val()),b=unescape($("#stopRow").val()),e=Number($("#maxSize").val()),l="meta:exif";0==h.length||0==b.length?display_alert("Must specify rows"):(images=new PicarusRows([],{table:"images"}),PICARUS.scanner("images",h,b,{success:g,maxRows:1E3,done:a,columns:[l]}))})}
function render_visualize_locations(){var a=document.createElement("script");a.type="text/javascript";a.src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBBsKtzgLTIsaoxAFUvSNoJ8n3j4w9VZs0&sensor=false&callback=render_visualize_locations_loaded";document.body.appendChild(a)}
function render_visualize_locations_loaded(){row_selector($("#rowPrefixDrop"),{startRow:$("#startRow"),stopRow:$("#stopRow")});$("#runButton").click(function(){button_confirm_click_reset($("#removeButton"));images=new PicarusRows([],{table:"images"});PICARUS.scanner("images",unescape($("#startRow").val()),unescape($("#stopRow").val()),{success:function(a,g){g.row=a;var h=Number(g["meta:latitude"]),b=Number(g["meta:longitude"]),e=Number($("#demolat").val()),l=Number($("#demolong").val()),s=Number($("#demodist").val()),
q=$("#filterInvert").is(":checked");if(!e||!l)s=q;else var y=(h-e)*(Math.PI/180),b=(b-l)*(Math.PI/180),h=Math.sin(y/2)*Math.sin(y/2)+Math.cos(e*(Math.PI/180))*Math.cos(h*(Math.PI/180))*Math.sin(b/2)*Math.sin(b/2),s=6371*2*Math.atan2(Math.sqrt(h),Math.sqrt(1-h))>s?!q:q;s||images.add(new PicarusRow(g))},done:function(){var a=Number($("#demolat").val()),g=Number($("#demolong").val());button_confirm_click($("#removeButton"),function(){var a=_.map(images.models,function(a){return a.get("row")});picarus_api_delete_rows(a,
progressModal())});$("#removeButton").removeAttr("disabled");if(!a||!a)a=Number(images.at(0).get("meta:latitude")),g=Number(images.at(0).get("meta:longitude"));a={zoom:14,center:new google.maps.LatLng(a,g),mapTypeId:google.maps.MapTypeId.HYBRID};map=new google.maps.Map(document.getElementById("map_canvas"),a);google.maps.event.addListener(map,"rightclick",function(a){$("#demolat").val(a.latLng.lat());$("#demolong").val(a.latLng.lng())});images.each(function(a){var b=Number(a.get("meta:latitude"));
a=Number(a.get("meta:longitude"));new google.maps.Marker({position:new google.maps.LatLng(b,a),map:map})})},columns:["meta:latitude","meta:longitude"]})})}function render_visualize_times(){google_visualization_load(render_visualize_times_loaded)}
function render_visualize_times_loaded(){function a(a){a=google.visualization.arrayToDataTable([["Year","Count"]].concat(a));(new google.visualization.ColumnChart(document.getElementById("histYear"))).draw(a,{title:"Histogram (Year)",width:600,height:400,vAxis:{title:"Count"},hAxis:{title:"Year"}})}function g(a){a=google.visualization.arrayToDataTable([["Month","Count"]].concat(a));(new google.visualization.ColumnChart(document.getElementById("histMonth"))).draw(a,{title:"Histogram (Month)",width:600,
height:400,vAxis:{title:"Count"},hAxis:{title:"Month"}})}function h(a){a=google.visualization.arrayToDataTable([["Hour","Count"]].concat(a));(new google.visualization.ColumnChart(document.getElementById("histHour"))).draw(a,{title:"Histogram (Hour)",width:600,height:400,vAxis:{title:"Count"},hAxis:{title:"Hour"}})}function b(a){a=google.visualization.arrayToDataTable([["Day","Count"]].concat(a));(new google.visualization.ColumnChart(document.getElementById("histDay"))).draw(a,{title:"Histogram (Day)",
width:600,height:400,vAxis:{title:"Count"},hAxis:{title:"Day"}})}function e(a){var b={};_.each(a,function(a){var e=0;_.has(b,a)&&(e=b[a]);b[a]=e+1});return b}function l(a){return _.map(_.pairs(e(a)),function(a){return[Number(a[0]),a[1]]}).sort()}row_selector($("#rowPrefixDrop"),{startRow:$("#startRow"),stopRow:$("#stopRow")});$("#runButton").click(function(){images=new PicarusRows([],{table:"images"});PICARUS.scanner("images",unescape($("#startRow").val()),unescape($("#stopRow").val()),{success:function(a,
b){b.row=a;images.add(new PicarusRow(b))},done:function(){years=[];months=[];hours=[];days=[];images.each(function(a){a=Number(a.get("meta:dateupload"));var b=new Date(0);b.setUTCSeconds(a);years.push(b.getFullYear());months.push(b.getMonth());hours.push(b.getHours());days.push(b.getDay())});a(l(years));g(l(months));h(l(hours));b(l(days))},columns:["meta:dateupload"]})})}function render_visualize_annotations(){google_visualization_load(render_visualize_annotations_loaded)}
function render_visualize_annotations_loaded(){function a(a,e,g,h){var q={};a.each(function(a){if(a.escape("workerId")||!g)q[a.get("row")]=[]});e.each(function(a){var b=a.escape("userId");_.has(q,b)&&(!h||a.escape("endTime"))&&q[b].push(a)});_.each(q,function(a){a.sort(function(a,b){a=Number(a.escape("startTime"));b=Number(b.escape("startTime"));return a<b?-1:a>b?1:0})});return q}function g(a){var e={};_.each(a,function(a){var b=a.get("userData");if(!_.isUndefined(b)){var b=JSON.parse(b),g=a.get("image"),
h=a.escape("class");_.has(e,h)||(e[h]={scoresPos:{},scoresNeg:{},scoresTotal:{}});a=e[h].scoresPos;var u=e[h].scoresNeg,h=e[h].scoresTotal;_.has(h,g)?h[g]+=1:h[g]=1;"true"==b&&(_.has(a,g)?a[g]+=1:a[g]=1);"false"==b&&(_.has(u,g)?u[g]+=1:u[g]=1)}});return e}function h(b,e,g){function h(){user_annotations=a(users,results,u,!0);clean_results=_.flatten(_.values(user_annotations),!0);var b=e(clean_results);$("#class_select").html(Mustache.render("{{#classes}}<option value='{{.}}'>{{.}}</option>{{/classes}};",
{classes:b}));$("#class_select").unbind();$("#class_select").change(q);class_scores=g(clean_results);q();b=_.map(class_scores,function(a,b){var e={pos:0,neg:0,total:0,unique:_.size(a.scoresTotal)};_.each(a.scoresPos,function(a){e.pos+=a});_.each(a.scoresNeg,function(a){e.neg+=a});_.each(a.scoresTotal,function(a){e.total+=a});e.quality=(e.pos-e.neg)/(e.total+1E-7);e.class_name=b;return e});b.sort(function(a,b){return b.quality-a.quality});$("#annotation-stats").html(Mustache.render("<table><tr><td>Name</td><td>Pos Annot.</td><td>Neg Annot.</td><td>Tot Annot.</td><td>Unique</td></tr>{{#scores}}<tr><td>{{class_name}}</td><td>{{pos}}</td><td>{{neg}}</td><td>{{total}}</td><td>{{unique}}</td></tr>{{/scores}}</table>",
{scores:b}));annotation_times={};_.each(user_annotations,function(a){_.each(a,function(a,b){var e=Number(a.escape("endTime"))-Number(a.escape("startTime"));_.has(annotation_times,b)?annotation_times[b].push(e):annotation_times[b]=[e]})});var s=function(a){return _.reduce(a,function(a,b){return a+b},0)/a.length};median_rows=_.map(annotation_times,function(a,b){a.sort(function(a,b){return a-b});return[Number(b),_.min(a),a[Math.round(a.length/2)],s(a)]});b=to_google_data(median_rows,["Iteration","Min",
"Median","Mean"]);(new google.visualization.LineChart(document.getElementById("annotator_time_graph"))).draw(b,{title:"Annotation Time vs Iteration #",hAxis:{title:"Iteration"}})}function q(){function a(b,e,g){b.html("");b.append($("<h3>").text(g+" "+e.length+" / "+_.size(ts)));_.each(e.slice(0,24),function(a){var e=_.uniqueId("image_");b.append($("<img>").attr("id",e).attr("title","Row: "+base64.encode(a[0])+" Score: "+a[1]).addClass("hide"));PICARUS.getRow("images",a[0],{success:function(a){_.isUndefined(a[y])||
$("#"+e).attr("src","data:image/jpeg;base64,"+base64.encode(a[y])).attr("width","150px").removeClass("hide")},columns:[y]})})}function b(){action=$("#actionSplit").find(":selected").val();!_.isUndefined(action)&&action.length&&(delKeys=_.keys(_.object({positive:posScores,negative:negScores,other:otherScores}[action])),picarus_api_delete_rows(delKeys,progressModal()),button_confirm_click_reset($("#removeButton")),button_confirm_click($("#removeButton"),b))}function e(){var a=$("#actionSplit").find(":selected").val(),
a=_.keys(_.object({positive:posScores,negative:negScores,other:otherScores}[a]));picarus_api_modify_rows(a,$("#colName").val(),$("#colValue").val(),progressModal());button_confirm_click_reset($("#modifyButton"));button_confirm_click($("#modifyButton"),e)}function g(){button_confirm_click_reset($("#removeButton"));button_confirm_click($("#removeButton"),b);button_confirm_click_reset($("#modifyButton"));button_confirm_click($("#modifyButton"),e)}var h=$("#class_select").find(":selected").val();negPct=
Number($("#negPct").val());posPct=Number($("#posPct").val());negCnt=Math.max(1,Number($("#negCnt").val()));posCnt=Math.max(1,Number($("#posCnt").val()));scores=class_scores[h];_.isUndefined(scores)||(ts=scores.scoresTotal,posScores=_.sortBy(_.filter(_.pairs(scores.scoresPos),function(a){return a[1]>=posCnt&&a[1]/ts[a[0]]>=posPct}),function(a){return-a[1]}),negScores=_.sortBy(_.filter(_.pairs(scores.scoresNeg),function(a){return a[1]>=negCnt&&a[1]/ts[a[0]]>=negPct}),function(a){return a[1]}),os=_.omit(_.omit(ts,
_.keys(scores.scoresPos)),_.keys(scores.scoresNeg)),otherScores=_.shuffle(_.pairs(os)),a($("#positive_samples"),posScores,"Positive Samples"),a($("#negative_samples"),negScores,"Negative Samples"),a($("#other_samples"),otherScores,"Other Samples (not pos/neg)"),button_confirm_click($("#removeButton"),b),button_confirm_click($("#modifyButton"),e),$("#actionSplit").change(g))}results=new PicarusRows([],{table:"annotation-results-"+b});users=new PicarusRows([],{table:"annotation-users-"+b});var y="thum:image_150sq",
u="amt"==JSON.parse(JOBS.get(b).get("params")).mode;$("#negPct").change(h);$("#posPct").change(h);$("#posCnt").change(h);$("#negCnt").change(h);new RowsView({collection:results,el:$("#annotation-results"),postRender:_.debounce(h,100)});results.fetch();new RowsView({collection:users,el:$("#annotation-users"),postRender:_.debounce(h,100)});users.fetch();debug_dc=h}rows_dropdown(JOBS,{el:$("#annotator_select"),filter:function(a){return"annotation"==a.get("type")},text:function(a){var e=JSON.parse(a.get("params"));
return"image_class"==e.type?a.get("row")+e.type+" "+e.num_tasks:e.type},change:function(){function a(b){annotation_type=JSON.parse(b.params).type;"image_class"==annotation_type&&(get_classes=function(a){return _.unique(a.map(function(a,b){return a.escape("class")})).sort()},get_scores=g);h(e,get_classes,get_scores)}var e=$("#annotator_select").find(":selected").val();!_.isUndefined(e)&&e.length&&(e=decode_id(e),PICARUS.getRow("jobs",e,{success:a}))}})}
function render_evaluate_classifier(){google_visualization_load(render_evaluate_classifier_loaded)}
function createClassifierExamples(a,g,h){h.html("");h.append($("<h2>").text(a));_.each(g,function(a){h.append($("<h3>").text(a.name));var e=a.rows;a.uniform&&21<e.length&&(a=Math.max(1,Math.floor((e.length-1)/20)),a=_.map(_.range(0,e.length-1,a),function(a){return e[a]}),a=a.slice(0,20),a.push(_.last(e)),e=a);_.each(e.slice(0,21),function(a){var b=_.uniqueId("image_");h.append($("<img>").attr("id",b).attr("title","Row: "+base64.encode(a[0])+" Conf: "+a[1]).addClass("hide"));PICARUS.getRow("images",
a[0],{success:function(a){_.isUndefined(a["thum:image_150sq"])||$("#"+b).attr("src","data:image/jpeg;base64,"+base64.encode(a["thum:image_150sq"])).attr("width","150px").removeClass("hide")},columns:["thum:image_150sq"]})})})}
function render_evaluate_classifier_loaded(){model_dropdown({modelFilter:function(a){return"binary_class_confidence"===a.escape("meta:output_type")},change:function(){var a=this.$el.find(":selected").val();_.isUndefined(a)||(a=decode_id(a),m=this.collection.get(a),$("#gtColumn").val(JSON.parse(m.get("meta:factory_info")).inputs.meta),$("#posClass").val(JSON.parse(m.get("meta:factory_info")).params.class_positive),$("#modelKey").val(base64.encode(a)))},el:$("#model_select")});slices_selector();$("#runButton").click(function(){button_running();
row_confs={pos_confs:[],neg_confs:[]};var a=base64.decode($("#gtColumn").val()),g=base64.decode($("#modelKey").val()),h=$("#posClass").val();$("#examples").html("");sliceStats={};var b=slices_selector_get(!0),e=0;_.each(b,function(l,s){var q=l.join(",");sliceStats[q]={numPos:0,numNeg:0,noConf:0,noGT:0,noConfGT:0};PICARUS.scanner("images",base64.decode(l[0]),base64.decode(l[1]),{success:function(b,e){$("#progress").css("width",100*(row_confs.pos_confs.length+row_confs.neg_confs.length)/19850+"%");
c=e;_.has(e,g)&&_.has(e,a)?e[a]==h?(sliceStats[q].numPos+=1,row_confs.pos_confs.push([b,msgpack.unpack(e[g])])):(sliceStats[q].numNeg+=1,row_confs.neg_confs.push([b,msgpack.unpack(e[g])])):(_.has(e,g)||(sliceStats[q].noConf+=1),_.has(e,a)||(sliceStats[q].noConfGT+=1),_.has(e,a)||(sliceStats[q].noGT+=1))},done:function(){e+=1;b.length==e&&(row_confs.neg_confs.sort(function(a,b){return a[1]-b[1]}),row_confs.pos_confs.sort(function(a,b){return a[1]-b[1]}),confs={neg_confs:_.map(row_confs.neg_confs,function(a){return a[1]}),
pos_confs:_.map(row_confs.pos_confs,function(a){return a[1]})},plot_confs(confs),render_slice_stats_table($("#slicesTable"),sliceStats),createClassifierExamples("Examples",[{name:"Positive (most positive)",rows:_.clone(row_confs.pos_confs).reverse()},{name:"Positive (most negative)",rows:row_confs.pos_confs},{name:"Negative (most positive)",rows:_.clone(row_confs.neg_confs).reverse()},{name:"Negative (most negative)",rows:row_confs.neg_confs}],$("#prethresholdExamples")),button_reset())},columns:[a,
g]})})})}
function render_slice_stats_table(a,g){function h(a){console.log(a);return _.map(a.split(","),function(a){return base64.decode(a)}).join("/")}var b=[{name:"Slice",numPos:"Pos",numNeg:"Neg",noConf:"No Conf",noGT:"No GT",noConfGT:"No ConfGT"}],b=b.concat(_.map(g,function(a,b){a.name=h(b);return a}));a.html(Mustache.render("<table>{{#slices}}<tr><td>{{name}}</td><td>{{numPos}}</td><td>{{numNeg}}</td><td>{{noConf}}</td><td>{{noGT}}</td><td>{{noConfGT}}</td></tr>{{/slices}}</table>",{slices:b}))}
function confs_to_conf_hist(a,g,h,b){var e=Math.min(a[0],g[0]),l=Math.min(a[a.length-1],g[g.length-1]),l=h/(l-e),s=[],q=[],y=[],u;for(u=0;u<h;u++)s[u]=0,q[u]=0;for(u=0;u<a.length;u++)s[Math.min(h-1,Math.max(0,Math.floor((a[u]-e)*l)))]+=1;for(u=0;u<g.length;u++)q[Math.min(h-1,Math.max(0,Math.floor((g[u]-e)*l)))]+=1;for(u=0;u<h;u++)y[u]=[(u+0.5)/l+e,s[u],q[u]],b&&(y[u][1]/=a.length,y[u][2]/=g.length);return y}
function test_confs_to_confusion_matrix(){cms=confs_to_confusion_matrix([],[]);if(!_.isEqual(cms,[]))return 1;cms=confs_to_confusion_matrix([0],[]);if(!_.isEqual(cms,[[1,0,0,0,0]]))return 2;cms=confs_to_confusion_matrix([],[0]);if(!_.isEqual(cms,[[0,0,1,0,Infinity]]))return 3;cms=confs_to_confusion_matrix([0],[0]);if(!_.isEqual(cms,[[1,1,0,0,0],[0,0,1,1,Infinity]]))return 4;cms=confs_to_confusion_matrix([1],[0]);if(!_.isEqual(cms,[[1,0,1,0,1]]))return 5;cms=confs_to_confusion_matrix([0],[1]);if(!_.isEqual(cms,
[[1,1,0,0,0],[0,0,1,1,Infinity]]))return 6;cms=confs_to_confusion_matrix([0,0],[0]);if(!_.isEqual(cms,[[2,1,0,0,0],[0,0,1,2,Infinity]]))return 7;cms=confs_to_confusion_matrix([0,1],[0]);if(!_.isEqual(cms,[[2,1,0,0,0],[1,0,1,1,1]]))return 8;cms=confs_to_confusion_matrix([0,0],[1]);if(!_.isEqual(cms,[[2,1,0,0,0],[0,0,1,2,Infinity]]))return 9;cms=confs_to_confusion_matrix([1,2],[0]);if(!_.isEqual(cms,[[2,0,1,0,1]]))return 10;cms=confs_to_confusion_matrix([0,2],[1]);if(!_.isEqual(cms,[[2,1,0,0,0],[1,
0,1,1,2]]))return 11;cms=confs_to_confusion_matrix([0,1],[2]);if(!_.isEqual(cms,[[2,1,0,0,0],[0,0,1,2,Infinity]]))return 12;cms=confs_to_confusion_matrix([1,2],[0,3]);if(!_.isEqual(cms,[[2,1,1,0,1],[0,0,2,2,Infinity]]))return 13;cms=confs_to_confusion_matrix([1,2,3],[0,3]);if(!_.isEqual(cms,[[3,1,1,0,1],[0,0,2,3,Infinity]]))return 14;cms=confs_to_confusion_matrix([1,2,3,3],[0,3]);return!_.isEqual(cms,[[4,1,1,0,1],[0,0,2,4,Infinity]])?15:0}
function confs_to_confusion_matrix(a,g){for(var h=[],b=0,e=0,l;a.length||g.length;){for(l=0;l<g.length&&!(g[l]>=a[0]);l++);g=g.slice(l,g.length);e+=l;l=a.length?a[0]:Infinity;h.push([a.length,g.length,e,b,l]);for(l=0;l<a.length&&!(a[l]>g[0]);l++);a=a.slice(l,a.length);b+=l}return h}function cms_to_rps(a){var g=[],h;for(h=0;h<a.length;h++)g.push([a[h][0]/(a[h][0]+a[h][3]),a[h][0]/(a[h][0]+a[h][1]),a[h][4]]);return g}
function cms_to_conf_accs(a){var g=[],h;for(h=0;h<a.length;h++)g.push([a[h][4],(a[h][0]+a[h][2])/(a[h][0]+a[h][1]+a[h][2]+a[h][3])]);return g}function cms_to_fpr_tprs(a){var g=[],h,b,e,l=confs.pos_confs.length,s=confs.neg_confs.length;for(h=0;h<a.length;h++)b=a[h][1]/s,e=a[h][0]/l,g.push([b,e,a[h][4]]);return g}
function to_google_data(a,g,h){var b,e=new google.visualization.DataTable;for(b=0;b<g.length;b++)e.addColumn("number",g[b]);h&&e.addColumn({type:"number",role:"tooltip"});d=a;e.addRows(a);return e}
function plot_confs(a){function g(a,b,e,g,h){var l,q=Infinity,t,s;for(l=0;l<b.getNumberOfRows();l++)s=Math.abs(h-b.getValue(l,e)),s<q&&(q=s,t=l);a.setSelection(_.map(g,function(a){return{row:t,column:a}}))}function h(a){g(l,e,0,[1,2],a);g(q,s,0,[1,2],a);g(D,G,2,[1],a);g(w,C,2,[1],a);g(u,y,0,[1],a);var b=row_confs.neg_confs.concat(row_confs.pos_confs);b.sort(function(b,e){return Math.abs(b[1]-a)-Math.abs(e[1]-a)});createClassifierExamples("Examples (w/ threshold)",[{name:"True Positives (uniform, descending)",
rows:_.filter(_.clone(row_confs.pos_confs).reverse(),function(b){return b[1]>=a}),uniform:!0},{name:"False Negatives (uniform, ascending)",rows:_.filter(row_confs.pos_confs,function(b){return b[1]<a}),uniform:!0},{name:"False Positives (uniform, descending)",rows:_.filter(_.clone(row_confs.neg_confs).reverse(),function(b){return b[1]>=a}),uniform:!0},{name:"True Negatives (uniform, ascending)",rows:_.filter(row_confs.neg_confs,function(b){return b[1]<a}),uniform:!0},{name:"Most Confusing (|conf - thresh|, ascending)",
rows:b}],$("#thresholdExamples"))}var b=test_confs_to_confusion_matrix();b&&alert(b);var e=to_google_data(confs_to_conf_hist(a.pos_confs,a.neg_confs,100),["Confidence","+","-"]),b={title:"Classifier Confidence",hAxis:{title:"Confidence"}},l=new google.visualization.LineChart(document.getElementById("graph_confidence_scatter"));l.draw(e,b);var s=to_google_data(confs_to_conf_hist(a.pos_confs,a.neg_confs,100,!0),["Confidence","+","-"]),b={title:"Classifier Confidence (normalized)",hAxis:{title:"Confidence"}},
q=new google.visualization.LineChart(document.getElementById("graph_confidence_scatter_norm"));q.draw(s,b);a=confs_to_confusion_matrix(a.pos_confs,a.neg_confs);var y=to_google_data(cms_to_conf_accs(a),["Confidence","Accuracy"]),b={title:"Classifier Confidence vs Accuracy",hAxis:{title:"Confidence"}},u=new google.visualization.LineChart(document.getElementById("graph_confidence_accuracy"));u.draw(y,b);var G=to_google_data(cms_to_rps(a),["recall","precision"],!0),b={title:"PR Curve",hAxis:{title:"Recall",
minValue:0,maxValue:1},vAxis:{title:"Precision",minValue:0,maxValue:1},chartArea:{width:200,height:200},legend:{position:"none"}},D=new google.visualization.LineChart(document.getElementById("graph_rps"));D.draw(G,b);var C=to_google_data(cms_to_fpr_tprs(a),["fpr","tpr"],!0),b={title:"ROC Curve",hAxis:{title:"FPR",minValue:0,maxValue:1},vAxis:{title:"TPR",minValue:0,maxValue:1},chartArea:{width:200,height:200},legend:{position:"none"}},w=new google.visualization.LineChart(document.getElementById("graph_roc"));
w.draw(C,b);a=google.visualization.events.addListener;a(l,"select",function(){var a=l.getSelection();void 0!==a[0]&&h(e.getValue(a[0].row,0))});a(q,"select",function(){var a=q.getSelection();void 0!==a[0]&&h(s.getValue(a[0].row,0))});a(D,"select",function(){var a=D.getSelection();void 0!==a[0]&&h(G.getValue(a[0].row,2))});a(w,"select",function(){var a=w.getSelection();void 0!==a[0]&&h(C.getValue(a[0].row,2))});a(u,"select",function(){var a=u.getSelection();void 0!==a[0]&&h(y.getValue(a[0].row,0))})}
;this.msgpack||function(a){function g(a,e){I=0;var g=b([],a,0);return I?!1:e?l(g):g}function h(a){x="string"===typeof a?q(a):a;B=-1;return e()}function b(a,e,g){var h,l,q;if(null==e)a.push(192);else if(!1===e)a.push(194);else if(!0===e)a.push(195);else switch(typeof e){case "number":e!==e?a.push(203,255,255,255,255,255,255,255,255):Infinity===e?a.push(203,127,240,0,0,0,0,0,0):Math.floor(e)===e?0>e?-32<=e?a.push(224+e+32):-128<e?a.push(208,e+256):-32768<e?(e+=65536,a.push(209,e>>8,e&255)):-2147483648<
e?(e+=4294967296,a.push(210,e>>>24,e>>16&255,e>>8&255,e&255)):(l=Math.floor(e/4294967296),e&=4294967295,a.push(211,l>>24&255,l>>16&255,l>>8&255,l&255,e>>24&255,e>>16&255,e>>8&255,e&255)):128>e?a.push(e):256>e?a.push(204,e):65536>e?a.push(205,e>>8,e&255):4294967296>e?a.push(206,e>>>24,e>>16&255,e>>8&255,e&255):(l=Math.floor(e/4294967296),e&=4294967295,a.push(207,l>>24&255,l>>16&255,l>>8&255,l&255,e>>24&255,e>>16&255,e>>8&255,e&255)):((l=0>e)&&(e*=-1),q=Math.log(e)/0.6931471805599453+1023|0,g=e*Math.pow(2,
1075-q),e=g&4294967295,l&&(q|=2048),l=g/4294967296&1048575|q<<20,a.push(203,l>>24&255,l>>16&255,l>>8&255,l&255,e>>24&255,e>>16&255,e>>8&255,e&255));break;case "string":g=e.length;q=a.length;a.push(0);for(l=0;l<g;++l)h=e.charCodeAt(l),128>h?a.push(h&127):2048>h?a.push(h>>>6&31|192,h&63|128):65536>h&&a.push(h>>>12&15|224,h>>>6&63|128,h&63|128);h=a.length-q-1;32>h?a[q]=160+h:65536>h?a.splice(q,1,218,h>>8,h&255):4294967296>h&&a.splice(q,1,219,h>>>24,h>>16&255,h>>8&255,h&255);break;default:if(++g>=Q)return I=
1,[];if(H(e)){h=e.length;16>h?a.push(144+h):65536>h?a.push(220,h>>8,h&255):4294967296>h&&a.push(221,h>>>24,h>>16&255,h>>8&255,h&255);for(l=0;l<h;++l)b(a,e[l],g)}else{q=a.length;a.push(0);h=0;for(l in e)++h,b(a,l,g),b(a,e[l],g);16>h?a[q]=128+h:65536>h?a.splice(q,1,222,h>>8,h&255):4294967296>h&&a.splice(q,1,223,h>>>24,h>>16&255,h>>8&255,h&255)}}return a}function e(){var a,b,g,h=0,q,s,u=x;b=u[++B];if(224<=b)return b-256;if(192>b){if(128>b)return b;144>b?(h=b-128,b=128):160>b?(h=b-144,b=144):(h=b-160,
b=160)}switch(b){case 192:return null;case 194:return!1;case 195:return!0;case 202:return h=16777216*u[++B]+(u[++B]<<16)+(u[++B]<<8)+u[++B],q=h>>23&255,s=h&8388607,!h||2147483648===h?0:255===q?s?NaN:Infinity:(h&2147483648?-1:1)*(s|8388608)*Math.pow(2,q-127-23);case 203:h=16777216*u[++B]+(u[++B]<<16)+(u[++B]<<8)+u[++B];b=h&2147483648;q=h>>20&2047;s=h&1048575;if(!h||2147483648===h)return B+=4,0;if(2047===q)return B+=4,s?NaN:Infinity;h=16777216*u[++B]+(u[++B]<<16)+(u[++B]<<8)+u[++B];return(b?-1:1)*((s|
1048576)*Math.pow(2,q-1023-20)+h*Math.pow(2,q-1023-52));case 207:return h=16777216*u[++B]+(u[++B]<<16)+(u[++B]<<8)+u[++B],4294967296*h+16777216*u[++B]+(u[++B]<<16)+(u[++B]<<8)+u[++B];case 206:h+=16777216*u[++B]+(u[++B]<<16);case 205:h+=u[++B]<<8;case 204:return h+u[++B];case 211:return h=u[++B],h&128?-1*(72057594037927936*(h^255)+281474976710656*(u[++B]^255)+1099511627776*(u[++B]^255)+4294967296*(u[++B]^255)+16777216*(u[++B]^255)+65536*(u[++B]^255)+256*(u[++B]^255)+(u[++B]^255)+1):72057594037927936*
h+281474976710656*u[++B]+1099511627776*u[++B]+4294967296*u[++B]+16777216*u[++B]+65536*u[++B]+256*u[++B]+u[++B];case 210:return h=16777216*u[++B]+(u[++B]<<16)+(u[++B]<<8)+u[++B],2147483648>h?h:h-4294967296;case 209:return h=(u[++B]<<8)+u[++B],32768>h?h:h-65536;case 208:return h=u[++B],128>h?h:h-256;case 219:h+=16777216*u[++B]+(u[++B]<<16);case 218:h+=(u[++B]<<8)+u[++B];case 160:q=[];b=B;for(a=b+h;b<a;)g=u[++b],q.push(g);B=b;return 10240>q.length?L.apply(null,q):l(q);case 223:h+=16777216*u[++B]+(u[++B]<<
16);case 222:h+=(u[++B]<<8)+u[++B];case 128:for(s={};h--;){a=u[++B]-160;q=[];b=B;for(a=b+a;b<a;)g=u[++b],q.push(128>g?g:224>g?(g&31)<<6|u[++b]&63:(g&15)<<12|(u[++b]&63)<<6|u[++b]&63);B=b;s[L.apply(null,q)]=e()}return s;case 221:h+=16777216*u[++B]+(u[++B]<<16);case 220:h+=(u[++B]<<8)+u[++B];case 144:for(q=[];h--;)q.push(e());return q}}function l(a){try{return L.apply(this,a)}catch(b){}for(var e=[],g=0,h=a.length,l=C;g<h;++g)e[g]=l[a[g]];return e.join("")}function s(b,e,g){function l(){if(4===A.readyState){var b,
r=A.status,s={status:r,ok:200<=r&&300>r};if(!I++){if("PUT"===w)b=s.ok?A.responseText:"";else if(s.ok){if(e.worker&&a.Worker){b=new Worker(msgpack.worker);b.onmessage=function(a){g(a.data,e,s)};b.postMessage({method:"unpack",data:A.responseText});u();return}b=G?y(A):q(A.responseText);b=h(b)}C&&C(A,e,s);g(b,e,s);u()}}}function s(a,b){if(!I++){var h={status:b||400,ok:!1};C&&C(A,e,h);g(null,e,h);u(a)}}function u(b){b&&A&&A.abort&&A.abort();x&&(clearTimeout(x),x=0);A=null;a.addEventListener&&a.removeEventListener("beforeunload",
s,!1)}var x=0,w=e.method||"GET",B=e.header||{},D=e.before,C=e.after,H=e.data||null,A=a.XMLHttpRequest?new XMLHttpRequest:a.ActiveXObject?new ActiveXObject("Microsoft.XMLHTTP"):null,I=0,r,F="GET"===w&&e.binary;try{A.onreadystatechange=l;A.open(w,b,!0);D&&D(A,e);F&&A.overrideMimeType&&A.overrideMimeType("text/plain; charset=x-user-defined");H&&A.setRequestHeader("Content-Type","application/x-www-form-urlencoded");for(r in B)A.setRequestHeader(r,B[r]);a.addEventListener&&a.addEventListener("beforeunload",
s,!1);A.send(H);x=setTimeout(function(){s(1,408)},1E3*(e.timeout||10))}catch(L){s(0,400)}}function q(a){var b=[],e=D,g=a.split(""),h=-1,l;l=g.length;for(a=l%8;a--;)++h,b[h]=e[g[h]];for(a=l>>3;a--;)b.push(e[g[++h]],e[g[++h]],e[g[++h]],e[g[++h]],e[g[++h]],e[g[++h]],e[g[++h]],e[g[++h]]);return b}function y(a){var b=[],e,g,h,l,q,s,u,y,x,w=-1,A;A=vblen(a);a=vbstr(a);g=Math.ceil(A/2);for(e=g%8;e--;)h=a.charCodeAt(++w),b.push(h&255,h>>8);for(e=g>>3;e--;)h=a.charCodeAt(++w),g=a.charCodeAt(++w),l=a.charCodeAt(++w),
q=a.charCodeAt(++w),s=a.charCodeAt(++w),u=a.charCodeAt(++w),y=a.charCodeAt(++w),x=a.charCodeAt(++w),b.push(h&255,h>>8,g&255,g>>8,l&255,l>>8,q&255,q>>8,s&255,s>>8,u&255,u>>8,y&255,y>>8,x&255,x>>8);A%2&&b.pop();return b}function u(b){var e=[],g=0,h=-1,l=b.length,q=[0,2,1][b.length%3],g=C,s=w;if(a.btoa){for(;h<l;)e.push(g[b[++h]]);return btoa(e.join(""))}for(--l;h<l;)g=b[++h]<<16|b[++h]<<8|b[++h],e.push(s[g>>18&63],s[g>>12&63],s[g>>6&63],s[g&63]);1<q&&(e[e.length-2]="=");0<q&&(e[e.length-1]="=");return e.join("")}
a.msgpack={pack:g,unpack:h,worker:"msgpack.js",upload:function(b,e,h){e.method="PUT";e.binary=!0;if(e.worker&&a.Worker){var l=new Worker(msgpack.worker);l.onmessage=function(a){e.data=a.data;s(b,e,h)};l.postMessage({method:"pack",data:e.data})}else e.data=u(g(e.data)),s(b,e,h)},download:function(a,b,e){b.method="GET";b.binary=!0;s(a,b,e)}};var G=/MSIE/.test(navigator.userAgent),D={},C={},w="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),x=[],B=0,I=0,H=Array.isArray||function(a){return"[object Array]"===
Object.prototype.toString.call(a)},L=String.fromCharCode,Q=512;self.importScripts&&(onmessage=function(a){"pack"===a.data.method?postMessage(u(g(a.data.data))):postMessage(h(a.data.data))});(function(){for(var a=0,b;256>a;++a)b=L(a),D[b]=a,C[a]=b;for(a=128;256>a;++a)D[L(63232+a)]=a})();G&&document.write('<script type="text/vbscript">Function vblen(b)vblen=LenB(b.responseBody)End Function\nFunction vbstr(b)vbstr=CStr(b.responseBody)+chr(0)End Function\x3c/script>')}(this);function SHA1(a){function g(a,b){return a<<b|a>>>32-b}function h(a){var b="",e,g;for(e=7;0<=e;e--)g=a>>>4*e&15,b+=g.toString(16);return b}var b,e,l=Array(80),s=1732584193,q=4023233417,y=2562383102,u=271733878,G=3285377520,D,C,w,x,B;a=function(a){a=a.replace(/\r\n/g,"\n");for(var b="",e=0;e<a.length;e++){var g=a.charCodeAt(e);128>g?b+=String.fromCharCode(g):(127<g&&2048>g?b+=String.fromCharCode(g>>6|192):(b+=String.fromCharCode(g>>12|224),b+=String.fromCharCode(g>>6&63|128)),b+=String.fromCharCode(g&
63|128))}return b}(a);D=a.length;var I=[];for(b=0;b<D-3;b+=4)e=a.charCodeAt(b)<<24|a.charCodeAt(b+1)<<16|a.charCodeAt(b+2)<<8|a.charCodeAt(b+3),I.push(e);switch(D%4){case 0:b=2147483648;break;case 1:b=a.charCodeAt(D-1)<<24|8388608;break;case 2:b=a.charCodeAt(D-2)<<24|a.charCodeAt(D-1)<<16|32768;break;case 3:b=a.charCodeAt(D-3)<<24|a.charCodeAt(D-2)<<16|a.charCodeAt(D-1)<<8|128}for(I.push(b);14!=I.length%16;)I.push(0);I.push(D>>>29);I.push(D<<3&4294967295);for(a=0;a<I.length;a+=16){for(b=0;16>b;b++)l[b]=
I[a+b];for(b=16;79>=b;b++)l[b]=g(l[b-3]^l[b-8]^l[b-14]^l[b-16],1);e=s;D=q;C=y;w=u;x=G;for(b=0;19>=b;b++)B=g(e,5)+(D&C|~D&w)+x+l[b]+1518500249&4294967295,x=w,w=C,C=g(D,30),D=e,e=B;for(b=20;39>=b;b++)B=g(e,5)+(D^C^w)+x+l[b]+1859775393&4294967295,x=w,w=C,C=g(D,30),D=e,e=B;for(b=40;59>=b;b++)B=g(e,5)+(D&C|D&w|C&w)+x+l[b]+2400959708&4294967295,x=w,w=C,C=g(D,30),D=e,e=B;for(b=60;79>=b;b++)B=g(e,5)+(D^C^w)+x+l[b]+3395469782&4294967295,x=w,w=C,C=g(D,30),D=e,e=B;s=s+e&4294967295;q=q+D&4294967295;y=y+C&4294967295;
u=u+w&4294967295;G=G+x&4294967295}B=h(s)+h(q)+h(y)+h(u)+h(G);return B.toLowerCase()}b64_enc=base64.encode;b64_dec=base64.decode;function ub64_enc(a){return base64.encode(a).replace(/\+/g,"-").replace(/\//g,"_")}function ub64_dec(a){return base64.decode(a.replace(/\-/g,"+").replace(/\_/g,"/"))}function object_ub64_b64_enc(a){return _.object(_.map(_.pairs(a),function(a){return[ub64_enc(a[0]),b64_enc(a[1])]}))}
function object_ub64_b64_dec(a){return _.object(_.map(_.pairs(a),function(a){return[ub64_dec(a[0]),b64_dec(a[1])]}))}function json_ub64_b64_enc(a){return JSON.stringify(object_ub64_b64_enc(a))}function json_ub64_b64_dec(a){return object_ub64_b64_dec(JSON.parse(a))};window.googleLT_||(window.googleLT_=(new Date).getTime());window.google||(window.google={});
window.google.loader||(window.google.loader={},google.loader.ServiceBase="https://www.google.com/uds",google.loader.GoogleApisBase="https://ajax.googleapis.com/ajax",google.loader.ApiKey="notsupplied",google.loader.KeyVerified=!0,google.loader.LoadFailure=!1,google.loader.Secure=!0,google.loader.GoogleLocale="www.google.com",google.loader.ClientLocation=null,google.loader.AdditionalParams="",function(){function a(a){return a in Z?Z[a]:Z[a]=-1!=navigator.userAgent[W]()[t](a)}function g(a,b){var e=
function(){};e.prototype=b[M];a.U=b[M];a.prototype=new e}function h(a,b,e){var g=Array[M].slice.call(arguments,2)||[];return function(){var e=g.concat(Array[M].slice.call(arguments));return a.apply(b,e)}}function b(a){a=Error(a);a.toString=function(){return this.message};return a}function e(a,b){for(var e=a.split(/\./),g=L,h=0;h<e[K]-1;h++)g[e[h]]||(g[e[h]]={}),g=g[e[h]];g[e[e[K]-1]]=b}function l(a,b,e){a[b]=e}function s(a,b,e){if(a.addEventListener)a.addEventListener(b,e,I);else if(a.attachEvent)a.attachEvent("on"+
b,e);else{var g=a["on"+b];a["on"+b]=g!=B?q([e,g]):e}}function q(a){return function(){for(var b=0;b<a[K];b++)a[b]()}}function y(){r[Q.readyState]?u():0<Y[K]&&L[R](y,10)}function u(){for(var a=0;a<Y[K];a++)Y[a]();Y.length=0}function G(a){this.b=a;this.o=[];this.n={};this.e={};this.f={};this.j=x;this.c=-1}function D(a){this.F=a;this.q={};this.r=0}function C(a,b,e){this.name=a;this.D=b;this.p=e;this.u=this.h=I;this.k=[];google[E].v[this[P]]=h(this.l,this)}function w(a,b){this.b=a;this.i=b;this.h=I}var x=
!0,B=null,I=!1,H=encodeURIComponent,L=window,Q=document,O="push",t="indexOf",P="name",K="length",M="prototype",R="setTimeout",E="loader",W="toLowerCase",Z={};if(!T)var T=e;if(!V)var V=l;google[E].v={};T("google.loader.callbacks",google[E].v);var X={},A={};google[E].eval={};T("google.loader.eval",google[E].eval);google.load=function(a,e,g){function h(a){var e=a.split(".");if(2<e[K])throw b("Module: '"+a+"' not found!");"undefined"!=typeof e[1]&&(l=e[0],g.packages=g.packages||[],g.packages[O](e[1]))}
var l=a;g=g||{};if(a instanceof Array||a&&"object"==typeof a&&"function"==typeof a.join&&"function"==typeof a.reverse)for(var q=0;q<a[K];q++)h(a[q]);else h(a);if(a=X[":"+l]){g&&!g.language&&g.locale&&(g.language=g.locale);g&&"string"==typeof g.callback&&(q=g.callback,q.match(/^[[\]A-Za-z0-9._]+$/)&&(q=L.eval(q),g.callback=q));if((q=g&&g.callback!=B)&&!a.s(e))throw b("Module: '"+l+"' must be loaded before DOM onLoad!");q?a.m(e,g)?L[R](g.callback,0):a.load(e,g):a.m(e,g)||a.load(e,g)}else throw b("Module: '"+
l+"' not found!");};T("google.load",google.load);google.T=function(b,e){e?(0==Y[K]&&(s(L,"load",u),!a("msie")&&!a("safari")&&!a("konqueror")&&a("mozilla")||L.opera?L.addEventListener("DOMContentLoaded",u,I):a("msie")?Q.write("<script defer onreadystatechange='google.loader.domReady()' src=//:>\x3c/script>"):(a("safari")||a("konqueror"))&&L[R](y,10)),Y[O](b)):s(L,"load",b)};T("google.setOnLoadCallback",google.T);var Y=[];google[E].P=function(){var a=L.event.srcElement;"complete"==a.readyState&&(a.onreadystatechange=
B,a.parentNode.removeChild(a),u())};T("google.loader.domReady",google[E].P);var r={loaded:x,complete:x};google[E].d=function(a,b,e){if(e){var g;"script"==a?(g=Q.createElement("script"),g.type="text/javascript",g.src=b):"css"==a&&(g=Q.createElement("link"),g.type="text/css",g.href=b,g.rel="stylesheet");(a=Q.getElementsByTagName("head")[0])||(a=Q.body.parentNode.appendChild(Q.createElement("head")));a.appendChild(g)}else"script"==a?Q.write('<script src="'+b+'" type="text/javascript">\x3c/script>'):
"css"==a&&Q.write('<link href="'+b+'" type="text/css" rel="stylesheet"></link>')};T("google.loader.writeLoadTag",google[E].d);google[E].Q=function(a){A=a};T("google.loader.rfm",google[E].Q);google[E].S=function(a){for(var b in a)"string"==typeof b&&b&&(":"==b.charAt(0)&&!X[b])&&(X[b]=new w(b.substring(1),a[b]))};T("google.loader.rpl",google[E].S);google[E].R=function(a){if((a=a.specs)&&a[K])for(var b=0;b<a[K];++b){var e=a[b];"string"==typeof e?X[":"+e]=new G(e):(e=new C(e[P],e.baseSpec,e.customSpecs),
X[":"+e[P]]=e)}};T("google.loader.rm",google[E].R);google[E].loaded=function(a){X[":"+a.module].l(a)};T("google.loader.loaded",google[E].loaded);google[E].O=function(){return"qid="+((new Date).getTime().toString(16)+Math.floor(1E7*Math.random()).toString(16))};T("google.loader.createGuidArg_",google[E].O);e("google_exportSymbol",e);e("google_exportProperty",l);google[E].a={};T("google.loader.themes",google[E].a);google[E].a.I="//www.google.com/cse/style/look/bubblegum.css";V(google[E].a,"BUBBLEGUM",
google[E].a.I);google[E].a.K="//www.google.com/cse/style/look/greensky.css";V(google[E].a,"GREENSKY",google[E].a.K);google[E].a.J="//www.google.com/cse/style/look/espresso.css";V(google[E].a,"ESPRESSO",google[E].a.J);google[E].a.M="//www.google.com/cse/style/look/shiny.css";V(google[E].a,"SHINY",google[E].a.M);google[E].a.L="//www.google.com/cse/style/look/minimalist.css";V(google[E].a,"MINIMALIST",google[E].a.L);google[E].a.N="//www.google.com/cse/style/look/v2/default.css";V(google[E].a,"V2_DEFAULT",
google[E].a.N);G[M].g=function(a,b){var e="";void 0!=b&&(void 0!=b.language&&(e+="&hl="+H(b.language)),void 0!=b.nocss&&(e+="&output="+H("nocss="+b.nocss)),void 0!=b.nooldnames&&(e+="&nooldnames="+H(b.nooldnames)),void 0!=b.packages&&(e+="&packages="+H(b.packages)),b.callback!=B&&(e+="&async=2"),void 0!=b.style&&(e+="&style="+H(b.style)),void 0!=b.noexp&&(e+="&noexp=true"),void 0!=b.other_params&&(e+="&"+b.other_params));if(!this.j){google[this.b]&&google[this.b].JSHash&&(e+="&sig="+H(google[this.b].JSHash));
var g=[],h;for(h in this.n)":"==h.charAt(0)&&g[O](h.substring(1));for(h in this.e)":"==h.charAt(0)&&this.e[h]&&g[O](h.substring(1));e+="&have="+H(g.join(","))}return google[E].ServiceBase+"/?file="+this.b+"&v="+a+google[E].AdditionalParams+e};G[M].t=function(a){var b=B;a&&(b=a.packages);var e=B;if(b)if("string"==typeof b)e=[a.packages];else if(b[K]){e=[];for(a=0;a<b[K];a++)"string"==typeof b[a]&&e[O](b[a].replace(/^\s*|\s*$/,"")[W]())}e||(e=["default"]);b=[];for(a=0;a<e[K];a++)this.n[":"+e[a]]||b[O](e[a]);
return b};G[M].load=function(a,b){var e=this.t(b),g=b&&b.callback!=B;if(g)var h=new D(b.callback);for(var l=[],q=e[K]-1;0<=q;q--){var r=e[q];g&&h.B(r);if(this.e[":"+r])e.splice(q,1),g&&this.f[":"+r][O](h);else l[O](r)}if(e[K]){b&&b.packages&&(b.packages=e.sort().join(","));for(q=0;q<l[K];q++)r=l[q],this.f[":"+r]=[],g&&this.f[":"+r][O](h);if(!b&&A[":"+this.b]!=B&&A[":"+this.b].versions[":"+a]!=B&&!google[E].AdditionalParams&&this.j){e=A[":"+this.b];google[this.b]=google[this.b]||{};for(var s in e.properties)s&&
":"==s.charAt(0)&&(google[this.b][s.substring(1)]=e.properties[s]);google[E].d("script",google[E].ServiceBase+e.path+e.js,g);e.css&&google[E].d("css",google[E].ServiceBase+e.path+e.css,g)}else(!b||!b.autoloaded)&&google[E].d("script",this.g(a,b),g);this.j&&(this.j=I,this.c=(new Date).getTime(),1!=this.c%100&&(this.c=-1));for(q=0;q<l[K];q++)r=l[q],this.e[":"+r]=x}};G[M].l=function(a){-1!=this.c&&(ca("al_"+this.b,"jl."+((new Date).getTime()-this.c),x),this.c=-1);this.o=this.o.concat(a.components);google[E][this.b]||
(google[E][this.b]={});google[E][this.b].packages=this.o.slice(0);for(var b=0;b<a.components[K];b++){this.n[":"+a.components[b]]=x;this.e[":"+a.components[b]]=I;var e=this.f[":"+a.components[b]];if(e){for(var g=0;g<e[K];g++)e[g].C(a.components[b]);delete this.f[":"+a.components[b]]}}};G[M].m=function(a,b){return 0==this.t(b)[K]};G[M].s=function(){return x};D[M].B=function(a){this.r++;this.q[":"+a]=x};D[M].C=function(a){this.q[":"+a]&&(this.q[":"+a]=I,this.r--,0==this.r&&L[R](this.F,0))};g(C,G);C[M].load=
function(a,b){var e=b&&b.callback!=B;e?(this.k[O](b.callback),b.callback="google.loader.callbacks."+this[P]):this.h=x;(!b||!b.autoloaded)&&google[E].d("script",this.g(a,b),e)};C[M].m=function(a,b){return b&&b.callback!=B?this.u:this.h};C[M].l=function(){this.u=x;for(var a=0;a<this.k[K];a++)L[R](this.k[a],0);this.k=[]};var F=function(a,b){return a.string?H(a.string)+"="+H(b):a.regex?b.replace(/(^.*$)/,a.regex):""};C[M].g=function(a,b){return this.G(this.w(a),a,b)};C[M].G=function(a,b,e){var g="";a.key&&
(g+="&"+F(a.key,google[E].ApiKey));a.version&&(g+="&"+F(a.version,b));b=google[E].Secure&&a.ssl?a.ssl:a.uri;if(e!=B)for(var h in e)a.params[h]?g+="&"+F(a.params[h],e[h]):"other_params"==h?g+="&"+e[h]:"base_domain"==h&&(b="http://"+e[h]+a.uri.substring(a.uri[t]("/",7)));google[this[P]]={};-1==b[t]("?")&&g&&(g="?"+g.substring(1));return b+g};C[M].s=function(a){return this.w(a).deferred};C[M].w=function(a){if(this.p)for(var b=0;b<this.p[K];++b){var e=this.p[b];if(RegExp(e.pattern).test(a))return e}return this.D};
g(w,G);w[M].load=function(a,b){this.h=x;google[E].d("script",this.g(a,b),I)};w[M].m=function(){return this.h};w[M].l=function(){};w[M].g=function(a,e){if(!this.i.versions[":"+a]){if(this.i.aliases){var g=this.i.aliases[":"+a];g&&(a=g)}if(!this.i.versions[":"+a])throw b("Module: '"+this.b+"' with version '"+a+"' not found!");}return google[E].GoogleApisBase+"/libs/"+this.b+"/"+a+"/"+this.i.versions[":"+a][e&&e.uncompressed?"uncompressed":"compressed"]};w[M].s=function(){return I};var S=I,J=[],ra=(new Date).getTime(),
U=function(){S||(s(L,"unload",N),S=x)},ga=function(a,b){U();if(!google[E].Secure&&(!google[E].Options||google[E].Options.csi===I)){for(var e=0;e<a[K];e++)a[e]=H(a[e][W]().replace(/[^a-z0-9_.]+/g,"_"));for(e=0;e<b[K];e++)b[e]=H(b[e][W]().replace(/[^a-z0-9_.]+/g,"_"));L[R](h(ba,B,"//gg.google.com/csi?s=uds&v=2&action="+a.join(",")+"&it="+b.join(",")),1E4)}},ca=function(a,b,e){e?ga([a],[b]):(U(),J[O]("r"+J[K]+"="+H(a+(b?"|"+b:""))),L[R](N,5<J[K]?0:15E3))},N=function(){if(J[K]){var a=google[E].ServiceBase;
0==a[t]("http:")&&(a=a.replace(/^http:/,"https:"));ba(a+"/stats?"+J.join("&")+"&nc="+(new Date).getTime()+"_"+((new Date).getTime()-ra));J.length=0}},ba=function(a){var b=new Image,e=ba.H++;ba.A[e]=b;b.onload=b.onerror=function(){delete ba.A[e]};b.src=a;b=B};ba.A={};ba.H=0;e("google.loader.recordCsiStat",ga);e("google.loader.recordStat",ca);e("google.loader.createImageForLogging",ba)}(),google.loader.rm({specs:["feeds","spreadsheets","gdata","visualization",{name:"sharing",baseSpec:{uri:"http://www.google.com/s2/sharing/js",
ssl:null,key:{string:"key"},version:{string:"v"},deferred:!1,params:{language:{string:"hl"}}}},"search","orkut","ads","elements",{name:"books",baseSpec:{uri:"http://books.google.com/books/api.js",ssl:"https://encrypted.google.com/books/api.js",key:{string:"key"},version:{string:"v"},deferred:!0,params:{callback:{string:"callback"},language:{string:"hl"}}}},{name:"friendconnect",baseSpec:{uri:"http://www.google.com/friendconnect/script/friendconnect.js",ssl:null,key:{string:"key"},version:{string:"v"},
deferred:!1,params:{}}},"identitytoolkit","ima",{name:"maps",baseSpec:{uri:"http://maps.google.com/maps?file=googleapi",ssl:"https://maps-api-ssl.google.com/maps?file=googleapi",key:{string:"key"},version:{string:"v"},deferred:!0,params:{callback:{regex:"callback=$1&async=2"},language:{string:"hl"}}},customSpecs:[{uri:"http://maps.googleapis.com/maps/api/js",ssl:"https://maps.googleapis.com/maps/api/js",version:{string:"v"},deferred:!0,params:{callback:{string:"callback"},language:{string:"hl"}},
pattern:"^(3|3..*)$"}]},"payments","wave","annotations_v2","earth","language",{name:"annotations",baseSpec:{uri:"http://www.google.com/reviews/scripts/annotations_bootstrap.js",ssl:null,key:{string:"key"},version:{string:"v"},deferred:!0,params:{callback:{string:"callback"},language:{string:"hl"},country:{string:"gl"}}}},"picker"]}),google.loader.rfm({":search":{versions:{":1":"1",":1.0":"1"},path:"/api/search/1.0/dafe20cc2afc0dcfa10b802f251c72d0/",js:"default+en.I.js",css:"default+en.css",properties:{":JSHash":"dafe20cc2afc0dcfa10b802f251c72d0",
":NoOldNames":!1,":Version":"1.0"}},":language":{versions:{":1":"1",":1.0":"1"},path:"/api/language/1.0/f7a156df16b25154ba5d46841b009d9d/",js:"default+en.I.js",properties:{":JSHash":"f7a156df16b25154ba5d46841b009d9d",":Version":"1.0"}},":feeds":{versions:{":1":"1",":1.0":"1"},path:"/api/feeds/1.0/77f89919ef841f93359ce886504e4e3f/",js:"default+en.I.js",css:"default+en.css",properties:{":JSHash":"77f89919ef841f93359ce886504e4e3f",":Version":"1.0"}},":spreadsheets":{versions:{":0":"1",":0.4":"1"},path:"/api/spreadsheets/0.4/87ff7219e9f8a8164006cbf28d5e911a/",
js:"default.I.js",properties:{":JSHash":"87ff7219e9f8a8164006cbf28d5e911a",":Version":"0.4"}},":ima":{versions:{":3":"1",":3.0":"1"},path:"/api/ima/3.0/28a914332232c9a8ac0ae8da68b1006e/",js:"default.I.js",properties:{":JSHash":"28a914332232c9a8ac0ae8da68b1006e",":Version":"3.0"}},":wave":{versions:{":1":"1",":1.0":"1"},path:"/api/wave/1.0/3b6f7573ff78da6602dda5e09c9025bf/",js:"default.I.js",properties:{":JSHash":"3b6f7573ff78da6602dda5e09c9025bf",":Version":"1.0"}},":earth":{versions:{":1":"1",":1.0":"1"},
path:"/api/earth/1.0/109c7b2bae7fe6cc34ea875176165d81/",js:"default.I.js",properties:{":JSHash":"109c7b2bae7fe6cc34ea875176165d81",":Version":"1.0"}},":annotations":{versions:{":1":"1",":1.0":"1"},path:"/api/annotations/1.0/632d801f04d14d064b3a2e4290697a29/",js:"default+en.I.js",properties:{":JSHash":"632d801f04d14d064b3a2e4290697a29",":Version":"1.0"}},":picker":{versions:{":1":"1",":1.0":"1"},path:"/api/picker/1.0/8b07f3bbcff2f7432e52154f72066e3e/",js:"default.I.js",css:"default.css",properties:{":JSHash":"8b07f3bbcff2f7432e52154f72066e3e",
":Version":"1.0"}}}),google.loader.rpl({":scriptaculous":{versions:{":1.8.3":{uncompressed:"scriptaculous.js",compressed:"scriptaculous.js"},":1.9.0":{uncompressed:"scriptaculous.js",compressed:"scriptaculous.js"},":1.8.2":{uncompressed:"scriptaculous.js",compressed:"scriptaculous.js"},":1.8.1":{uncompressed:"scriptaculous.js",compressed:"scriptaculous.js"}},aliases:{":1.8":"1.8.3",":1":"1.9.0",":1.9":"1.9.0"}},":yui":{versions:{":2.6.0":{uncompressed:"build/yuiloader/yuiloader.js",compressed:"build/yuiloader/yuiloader-min.js"},
":2.9.0":{uncompressed:"build/yuiloader/yuiloader.js",compressed:"build/yuiloader/yuiloader-min.js"},":2.7.0":{uncompressed:"build/yuiloader/yuiloader.js",compressed:"build/yuiloader/yuiloader-min.js"},":2.8.0r4":{uncompressed:"build/yuiloader/yuiloader.js",compressed:"build/yuiloader/yuiloader-min.js"},":2.8.2r1":{uncompressed:"build/yuiloader/yuiloader.js",compressed:"build/yuiloader/yuiloader-min.js"},":2.8.1":{uncompressed:"build/yuiloader/yuiloader.js",compressed:"build/yuiloader/yuiloader-min.js"},
":3.3.0":{uncompressed:"build/yui/yui.js",compressed:"build/yui/yui-min.js"}},aliases:{":3":"3.3.0",":2":"2.9.0",":2.7":"2.7.0",":2.8.2":"2.8.2r1",":2.6":"2.6.0",":2.9":"2.9.0",":2.8":"2.8.2r1",":2.8.0":"2.8.0r4",":3.3":"3.3.0"}},":swfobject":{versions:{":2.1":{uncompressed:"swfobject_src.js",compressed:"swfobject.js"},":2.2":{uncompressed:"swfobject_src.js",compressed:"swfobject.js"}},aliases:{":2":"2.2"}},":ext-core":{versions:{":3.1.0":{uncompressed:"ext-core-debug.js",compressed:"ext-core.js"},
":3.0.0":{uncompressed:"ext-core-debug.js",compressed:"ext-core.js"}},aliases:{":3":"3.1.0",":3.0":"3.0.0",":3.1":"3.1.0"}},":webfont":{versions:{":1.0.28":{uncompressed:"webfont_debug.js",compressed:"webfont.js"},":1.0.27":{uncompressed:"webfont_debug.js",compressed:"webfont.js"},":1.0.29":{uncompressed:"webfont_debug.js",compressed:"webfont.js"},":1.0.12":{uncompressed:"webfont_debug.js",compressed:"webfont.js"},":1.0.13":{uncompressed:"webfont_debug.js",compressed:"webfont.js"},":1.0.14":{uncompressed:"webfont_debug.js",
compressed:"webfont.js"},":1.0.15":{uncompressed:"webfont_debug.js",compressed:"webfont.js"},":1.0.10":{uncompressed:"webfont_debug.js",compressed:"webfont.js"},":1.0.11":{uncompressed:"webfont_debug.js",compressed:"webfont.js"},":1.0.2":{uncompressed:"webfont_debug.js",compressed:"webfont.js"},":1.0.1":{uncompressed:"webfont_debug.js",compressed:"webfont.js"},":1.0.0":{uncompressed:"webfont_debug.js",compressed:"webfont.js"},":1.0.6":{uncompressed:"webfont_debug.js",compressed:"webfont.js"},":1.0.19":{uncompressed:"webfont_debug.js",
compressed:"webfont.js"},":1.0.5":{uncompressed:"webfont_debug.js",compressed:"webfont.js"},":1.0.18":{uncompressed:"webfont_debug.js",compressed:"webfont.js"},":1.0.4":{uncompressed:"webfont_debug.js",compressed:"webfont.js"},":1.0.17":{uncompressed:"webfont_debug.js",compressed:"webfont.js"},":1.0.3":{uncompressed:"webfont_debug.js",compressed:"webfont.js"},":1.0.16":{uncompressed:"webfont_debug.js",compressed:"webfont.js"},":1.0.9":{uncompressed:"webfont_debug.js",compressed:"webfont.js"},":1.0.21":{uncompressed:"webfont_debug.js",
compressed:"webfont.js"},":1.0.22":{uncompressed:"webfont_debug.js",compressed:"webfont.js"},":1.0.25":{uncompressed:"webfont_debug.js",compressed:"webfont.js"},":1.0.26":{uncompressed:"webfont_debug.js",compressed:"webfont.js"},":1.0.23":{uncompressed:"webfont_debug.js",compressed:"webfont.js"},":1.0.24":{uncompressed:"webfont_debug.js",compressed:"webfont.js"}},aliases:{":1":"1.0.29",":1.0":"1.0.29"}},":mootools":{versions:{":1.3.1":{uncompressed:"mootools.js",compressed:"mootools-yui-compressed.js"},
":1.1.1":{uncompressed:"mootools.js",compressed:"mootools-yui-compressed.js"},":1.3.0":{uncompressed:"mootools.js",compressed:"mootools-yui-compressed.js"},":1.3.2":{uncompressed:"mootools.js",compressed:"mootools-yui-compressed.js"},":1.1.2":{uncompressed:"mootools.js",compressed:"mootools-yui-compressed.js"},":1.2.3":{uncompressed:"mootools.js",compressed:"mootools-yui-compressed.js"},":1.2.4":{uncompressed:"mootools.js",compressed:"mootools-yui-compressed.js"},":1.2.1":{uncompressed:"mootools.js",
compressed:"mootools-yui-compressed.js"},":1.2.2":{uncompressed:"mootools.js",compressed:"mootools-yui-compressed.js"},":1.2.5":{uncompressed:"mootools.js",compressed:"mootools-yui-compressed.js"},":1.4.0":{uncompressed:"mootools.js",compressed:"mootools-yui-compressed.js"},":1.4.1":{uncompressed:"mootools.js",compressed:"mootools-yui-compressed.js"},":1.4.2":{uncompressed:"mootools.js",compressed:"mootools-yui-compressed.js"}},aliases:{":1":"1.1.2",":1.11":"1.1.1",":1.4":"1.4.2",":1.3":"1.3.2",":1.2":"1.2.5",
":1.1":"1.1.2"}},":jqueryui":{versions:{":1.8.0":{uncompressed:"jquery-ui.js",compressed:"jquery-ui.min.js"},":1.8.2":{uncompressed:"jquery-ui.js",compressed:"jquery-ui.min.js"},":1.8.1":{uncompressed:"jquery-ui.js",compressed:"jquery-ui.min.js"},":1.8.15":{uncompressed:"jquery-ui.js",compressed:"jquery-ui.min.js"},":1.8.14":{uncompressed:"jquery-ui.js",compressed:"jquery-ui.min.js"},":1.8.13":{uncompressed:"jquery-ui.js",compressed:"jquery-ui.min.js"},":1.8.12":{uncompressed:"jquery-ui.js",compressed:"jquery-ui.min.js"},
":1.8.11":{uncompressed:"jquery-ui.js",compressed:"jquery-ui.min.js"},":1.8.10":{uncompressed:"jquery-ui.js",compressed:"jquery-ui.min.js"},":1.8.17":{uncompressed:"jquery-ui.js",compressed:"jquery-ui.min.js"},":1.8.16":{uncompressed:"jquery-ui.js",compressed:"jquery-ui.min.js"},":1.6.0":{uncompressed:"jquery-ui.js",compressed:"jquery-ui.min.js"},":1.8.9":{uncompressed:"jquery-ui.js",compressed:"jquery-ui.min.js"},":1.8.7":{uncompressed:"jquery-ui.js",compressed:"jquery-ui.min.js"},":1.8.8":{uncompressed:"jquery-ui.js",
compressed:"jquery-ui.min.js"},":1.7.2":{uncompressed:"jquery-ui.js",compressed:"jquery-ui.min.js"},":1.8.5":{uncompressed:"jquery-ui.js",compressed:"jquery-ui.min.js"},":1.7.3":{uncompressed:"jquery-ui.js",compressed:"jquery-ui.min.js"},":1.8.6":{uncompressed:"jquery-ui.js",compressed:"jquery-ui.min.js"},":1.7.0":{uncompressed:"jquery-ui.js",compressed:"jquery-ui.min.js"},":1.7.1":{uncompressed:"jquery-ui.js",compressed:"jquery-ui.min.js"},":1.8.4":{uncompressed:"jquery-ui.js",compressed:"jquery-ui.min.js"},
":1.5.3":{uncompressed:"jquery-ui.js",compressed:"jquery-ui.min.js"},":1.5.2":{uncompressed:"jquery-ui.js",compressed:"jquery-ui.min.js"}},aliases:{":1.8":"1.8.17",":1.7":"1.7.3",":1.6":"1.6.0",":1":"1.8.17",":1.5":"1.5.3",":1.8.3":"1.8.4"}},":chrome-frame":{versions:{":1.0.2":{uncompressed:"CFInstall.js",compressed:"CFInstall.min.js"},":1.0.1":{uncompressed:"CFInstall.js",compressed:"CFInstall.min.js"},":1.0.0":{uncompressed:"CFInstall.js",compressed:"CFInstall.min.js"}},aliases:{":1":"1.0.2",":1.0":"1.0.2"}},
":prototype":{versions:{":1.7.0.0":{uncompressed:"prototype.js",compressed:"prototype.js"},":1.6.0.2":{uncompressed:"prototype.js",compressed:"prototype.js"},":1.6.1.0":{uncompressed:"prototype.js",compressed:"prototype.js"},":1.6.0.3":{uncompressed:"prototype.js",compressed:"prototype.js"}},aliases:{":1.7":"1.7.0.0",":1.6.1":"1.6.1.0",":1":"1.7.0.0",":1.6":"1.6.1.0",":1.7.0":"1.7.0.0",":1.6.0":"1.6.0.3"}},":dojo":{versions:{":1.3.1":{uncompressed:"dojo/dojo.xd.js.uncompressed.js",compressed:"dojo/dojo.xd.js"},
":1.3.0":{uncompressed:"dojo/dojo.xd.js.uncompressed.js",compressed:"dojo/dojo.xd.js"},":1.6.1":{uncompressed:"dojo/dojo.xd.js.uncompressed.js",compressed:"dojo/dojo.xd.js"},":1.1.1":{uncompressed:"dojo/dojo.xd.js.uncompressed.js",compressed:"dojo/dojo.xd.js"},":1.3.2":{uncompressed:"dojo/dojo.xd.js.uncompressed.js",compressed:"dojo/dojo.xd.js"},":1.6.0":{uncompressed:"dojo/dojo.xd.js.uncompressed.js",compressed:"dojo/dojo.xd.js"},":1.2.3":{uncompressed:"dojo/dojo.xd.js.uncompressed.js",compressed:"dojo/dojo.xd.js"},
":1.7.2":{uncompressed:"dojo/dojo.js.uncompressed.js",compressed:"dojo/dojo.js"},":1.7.0":{uncompressed:"dojo/dojo.js.uncompressed.js",compressed:"dojo/dojo.js"},":1.7.1":{uncompressed:"dojo/dojo.js.uncompressed.js",compressed:"dojo/dojo.js"},":1.4.3":{uncompressed:"dojo/dojo.xd.js.uncompressed.js",compressed:"dojo/dojo.xd.js"},":1.5.1":{uncompressed:"dojo/dojo.xd.js.uncompressed.js",compressed:"dojo/dojo.xd.js"},":1.5.0":{uncompressed:"dojo/dojo.xd.js.uncompressed.js",compressed:"dojo/dojo.xd.js"},
":1.2.0":{uncompressed:"dojo/dojo.xd.js.uncompressed.js",compressed:"dojo/dojo.xd.js"},":1.4.0":{uncompressed:"dojo/dojo.xd.js.uncompressed.js",compressed:"dojo/dojo.xd.js"},":1.4.1":{uncompressed:"dojo/dojo.xd.js.uncompressed.js",compressed:"dojo/dojo.xd.js"}},aliases:{":1.7":"1.7.2",":1":"1.6.1",":1.6":"1.6.1",":1.5":"1.5.1",":1.4":"1.4.3",":1.3":"1.3.2",":1.2":"1.2.3",":1.1":"1.1.1"}},":jquery":{versions:{":1.6.2":{uncompressed:"jquery.js",compressed:"jquery.min.js"},":1.3.1":{uncompressed:"jquery.js",
compressed:"jquery.min.js"},":1.6.1":{uncompressed:"jquery.js",compressed:"jquery.min.js"},":1.3.0":{uncompressed:"jquery.js",compressed:"jquery.min.js"},":1.6.4":{uncompressed:"jquery.js",compressed:"jquery.min.js"},":1.6.3":{uncompressed:"jquery.js",compressed:"jquery.min.js"},":1.3.2":{uncompressed:"jquery.js",compressed:"jquery.min.js"},":1.6.0":{uncompressed:"jquery.js",compressed:"jquery.min.js"},":1.2.3":{uncompressed:"jquery.js",compressed:"jquery.min.js"},":1.7.0":{uncompressed:"jquery.js",
compressed:"jquery.min.js"},":1.7.1":{uncompressed:"jquery.js",compressed:"jquery.min.js"},":1.2.6":{uncompressed:"jquery.js",compressed:"jquery.min.js"},":1.4.3":{uncompressed:"jquery.js",compressed:"jquery.min.js"},":1.4.4":{uncompressed:"jquery.js",compressed:"jquery.min.js"},":1.5.1":{uncompressed:"jquery.js",compressed:"jquery.min.js"},":1.5.0":{uncompressed:"jquery.js",compressed:"jquery.min.js"},":1.4.0":{uncompressed:"jquery.js",compressed:"jquery.min.js"},":1.5.2":{uncompressed:"jquery.js",
compressed:"jquery.min.js"},":1.4.1":{uncompressed:"jquery.js",compressed:"jquery.min.js"},":1.4.2":{uncompressed:"jquery.js",compressed:"jquery.min.js"}},aliases:{":1.7":"1.7.1",":1.6":"1.6.4",":1":"1.7.1",":1.5":"1.5.2",":1.4":"1.4.4",":1.3":"1.3.2",":1.2":"1.2.6"}}}));var saveAs=saveAs||navigator.msSaveBlob&&navigator.msSaveBlob.bind(navigator)||function(a){var g=a.document,h=a.URL||a.webkitURL||a,b=g.createElementNS("http://www.w3.org/1999/xhtml","a"),e="download"in b,l=function(b){var e=g.createEvent("MouseEvents");return e.initMouseEvent("click",!0,!1,a,0,0,0,0,0,!1,!1,!1,!1,0,null),b.dispatchEvent(e)},s=a.webkitRequestFileSystem,q=a.requestFileSystem||s||a.mozRequestFileSystem,y=function(b){(a.setImmediate||a.setTimeout)(function(){throw b;},0)},u=0,G=[],D=
function(a,b,e){b=[].concat(b);for(var g=b.length;g--;){var h=a["on"+b[g]];if("function"==typeof h)try{h.call(a,e||a)}catch(l){y(l)}}},C=function(g,h){var y,w,C,Q=this,O=g.type,t=!1,P=function(){var b=(a.URL||a.webkitURL||a).createObjectURL(g);return G.push(b),b},K=function(){D(Q,["writestart","progress","write","writeend"])},M=function(){(t||!y)&&(y=P(g));w&&(w.location.href=y);Q.readyState=Q.DONE;K()},R=function(a){return function(){return Q.readyState!==Q.DONE?a.apply(this,arguments):void 0}},
E={create:!0,exclusive:!1};return Q.readyState=Q.INIT,h||(h="download"),e&&(y=P(g),b.href=y,b.download=h,l(b))?(Q.readyState=Q.DONE,K(),void 0):(a.chrome&&O&&"application/octet-stream"!==O&&(C=g.slice||g.webkitSlice,g=C.call(g,0,g.size,"application/octet-stream"),t=!0),s&&"download"!==h&&(h+=".download"),w="application/octet-stream"===O||s?a:a.open(),q?(u+=g.size,q(a.TEMPORARY,u,R(function(a){a.root.getDirectory("saved",E,R(function(a){var b=function(){a.getFile(h,E,R(function(a){a.createWriter(R(function(b){b.onwriteend=
function(b){w.location.href=a.toURL();G.push(a);Q.readyState=Q.DONE;D(Q,"writeend",b)};b.onerror=function(){var a=b.error;a.code!==a.ABORT_ERR&&M()};["writestart","progress","write","abort"].forEach(function(a){b["on"+a]=Q["on"+a]});b.write(g);Q.abort=function(){b.abort();Q.readyState=Q.DONE};Q.readyState=Q.WRITING}),M)}),M)};a.getFile(h,{create:!1},R(function(a){a.remove();b()}),R(function(a){a.code===a.NOT_FOUND_ERR?b():M()}))}),M)}),M),void 0):(M(),void 0))},w=C.prototype;return w.abort=function(){this.readyState=
this.DONE;D(this,"abort")},w.readyState=w.INIT=0,w.WRITING=1,w.DONE=2,w.error=w.onwritestart=w.onprogress=w.onwrite=w.onabort=w.onerror=w.onwriteend=null,a.addEventListener("unload",function(){for(var a=G.length;a--;){var b=G[a];"string"==typeof b?h.revokeObjectURL(b):b.remove()}G.length=0},!1),function(a,b){return new C(a,b)}}(self);!function(a){function g(g,b){this.options=this.getOptions(b);this.$select=a(g);this.originalOptions=this.$select.clone()[0].options;this.query="";this.searchTimeout=null;this.options.multiple="multiple"==this.$select.attr("multiple");this.$container=a(this.options.buttonContainer).append('<ul class="multiselect-container dropdown-menu'+(this.options.dropRight?" pull-right":"")+'" style="position:absolute; list-style-type: none;margin:0;padding:0;"></ul>').append('<button type="button" class="multiselect dropdown-toggle '+
this.options.buttonClass+'" data-toggle="dropdown">'+this.options.buttonText(this.getSelected(),this.$select)+"</button>");this.options.buttonWidth&&a("button",this.$container).css({width:this.options.buttonWidth});this.options.maxHeight&&(a(".multiselect-container",this.$container).css({"max-height":this.options.maxHeight+"px","overflow-y":"auto","overflow-x":"hidden"}),a('input[type="text"]',this.$container).width("75%"));this.options.enableFiltering&&(a(".multiselect-container",this.$container).prepend('<div class="input-prepend" style="padding:3px;"><span class="add-on"><i class="icon-search"></i></span><input class="multiselect-search" type="text" placeholder="'+
this.options.filterPlaceholder+'"></div>'),a(".multiselect-search",this.$container).val(this.query).on("click",function(a){a.stopPropagation()}).on("keydown",a.proxy(function(b){clearTimeout(this.searchTimeout);this.searchTimeout=this.asyncFunction(a.proxy(function(){this.query!=b.target.value&&(this.query=b.target.value,a.each(a(".multiselect-container li",this.$container),a.proxy(function(b,e){var g=a("input",e).val();if(g!=this.options.selectAllValue){var h=a('option[value="'+g+'"]',this.$select);
h.attr("label")||h.text();-1===g.indexOf(this.query)?a(e).hide():a(e).show()}},this)))},this),300,this)},this)));this.buildDropdown();this.updateButtonText();this.$select.hide().after(this.$container)}"undefined"!=typeof ko&&(ko.bindingHandlers&&!ko.bindingHandlers.multiselect)&&(ko.bindingHandlers.multiselect={init:function(a,b,e,g,s){},update:function(g,b,e,l,s){(l=a(g).data("multiselect"))?e().options&&e().options().length!==l.originalOptions.length&&(l.updateOriginalOptions(),a(g).multiselect("rebuild")):
a(g).multiselect(ko.utils.unwrapObservable(b()))}});g.prototype={defaults:{buttonText:function(g,b){if(0==g.length)return'None selected <b class="caret"></b>';if(3<g.length)return g.length+' selected <b class="caret"></b>';var e="";g.each(function(){var b=void 0!==a(this).attr("label")?a(this).attr("label"):a(this).text();e+=b+", "});return e.substr(0,e.length-2)+' <b class="caret"></b>'},onChange:function(a,b){},buttonClass:"btn",dropRight:!1,selectedClass:"active",buttonWidth:"auto",buttonContainer:'<div class="btn-group" />',
maxHeight:!1,includeSelectAllOption:!1,selectAllText:" Select all",selectAllValue:"multiselect-all",enableFiltering:!1,filterPlaceholder:"Search"},constructor:g,createOptionValue:function(g){a(g).is(":selected")&&a(g).attr("selected","selected").prop("selected",!0);var b=a(g).attr("label")||a(g).text(),e=a(g).val(),l=a('<li><a href="javascript:void(0);" style="padding:0;"><label style="margin:0;padding:3px 20px 3px 20px;height:100%;cursor:pointer;"><input style="margin-bottom:5px;" type="'+(this.options.multiple?
"checkbox":"radio")+'" /></label></a></li>'),s=a(g).prop("selected")||!1,q=a("input",l);q.val(e);e==this.options.selectAllValue&&q.parent().parent().addClass("multiselect-all");a("label",l).append(" "+b);a(".multiselect-container",this.$container).append(l);a(g).is(":disabled")&&q.attr("disabled","disabled").prop("disabled",!0).parents("li").addClass("disabled");q.prop("checked",s);s&&this.options.selectedClass&&q.parents("li").addClass(this.options.selectedClass)},toggleActiveState:function(g){void 0==
this.$select.attr("disabled")?a("button.multiselect.dropdown-toggle",this.$container).removeClass("disabled"):a("button.multiselect.dropdown-toggle",this.$container).addClass("disabled")},buildDropdown:function(){var g=this.$select[0][0]?this.$select[0][0].value==this.options.selectAllValue:!1;this.options.includeSelectAllOption&&(this.options.multiple&&!g)&&this.$select.prepend('<option value="'+this.options.selectAllValue+'">'+this.options.selectAllText+"</option>");this.toggleActiveState();this.$select.children().each(a.proxy(function(b,
e){var g=a(e).prop("tagName").toLowerCase();if("optgroup"==g){var g=a(e).prop("label"),h=a('<li><label style="margin:0;padding:3px 20px 3px 20px;height:100%;" class="multiselect-group"></label></li>');a("label",h).text(g);a(".multiselect-container",this.$container).append(h);a("option",e).each(a.proxy(function(a,b){this.createOptionValue(b)},this))}else"option"==g&&this.createOptionValue(e)},this));a(".multiselect-container li input",this.$container).on("change",a.proxy(function(b){var e=a(b.target).prop("checked")||
!1,g=a(b.target).val()==this.options.selectAllValue;this.options.selectedClass&&(e?a(b.target).parents("li").addClass(this.options.selectedClass):a(b.target).parents("li").removeClass(this.options.selectedClass));var h=a("option",this.$select).filter(function(){return a(this).val()==a(b.target).val()}),q=a("option",this.$select).not(h),y=a("input",this.$container).not(a(b.target));g&&y.filter(function(){return a(this).is(":checked")!=e}).trigger("click");e?(h.prop("selected",!0),this.options.multiple?
h.attr("selected","selected"):(this.options.selectedClass&&a(y).parents("li").removeClass(this.options.selectedClass),a(y).prop("checked",!1),q.removeAttr("selected").prop("selected",!1),a(this.$container).find(".multiselect.dropdown-toggle").click()),"active"==this.options.selectedClass&&q.parents("a").css("outline","")):h.removeAttr("selected").prop("selected",!1);this.updateButtonText();this.options.onChange(h,e);this.$select.change()},this));a(".multiselect-container li a",this.$container).on("touchstart click",
function(a){a.stopPropagation()});this.$container.on("keydown",a.proxy(function(b){if(!a('input[type="text"]',this.$container).is(":focus"))if((9==b.keyCode||27==b.keyCode)&&this.$container.hasClass("open"))a(this.$container).find(".multiselect.dropdown-toggle").click();else{var e=a(this.$container).find("li:not(.divider):visible a");if(e.length){var g=e.index(e.filter(":focus"));38==b.keyCode&&0<g?g--:40==b.keyCode&&g<e.length-1?g++:~g||(g=0);g=e.eq(g);g.focus();"active"==this.options.selectedClass&&
(g.css("outline","thin dotted #333").css("outline","5px auto -webkit-focus-ring-color"),e.not(g).css("outline",""));if(32==b.keyCode||13==b.keyCode)e=g.find("input"),e.prop("checked",!e.prop("checked")),e.change();b.stopPropagation();b.preventDefault()}}},this))},destroy:function(){this.$container.remove();this.$select.show()},refresh:function(){a("option",this.$select).each(a.proxy(function(g,b){var e=a(".multiselect-container li input",this.$container).filter(function(){return a(this).val()==a(b).val()});
a(b).is(":selected")?(e.prop("checked",!0),this.options.selectedClass&&e.parents("li").addClass(this.options.selectedClass)):(e.prop("checked",!1),this.options.selectedClass&&e.parents("li").removeClass(this.options.selectedClass));a(b).is(":disabled")?e.attr("disabled","disabled").prop("disabled",!0).parents("li").addClass("disabled"):e.removeAttr("disabled").prop("disabled",!1).parents("li").removeClass("disabled")},this));this.updateButtonText()},select:function(g){var b=a("option",this.$select).filter(function(){return a(this).val()==
g}),e=a(".multiselect-container li input",this.$container).filter(function(){return a(this).val()==g});this.options.selectedClass&&e.parents("li").addClass(this.options.selectedClass);e.prop("checked",!0);b.attr("selected","selected").prop("selected",!0);this.updateButtonText()},deselect:function(g){var b=a("option",this.$select).filter(function(){return a(this).val()==g}),e=a(".multiselect-container li input",this.$container).filter(function(){return a(this).val()==g});this.options.selectedClass&&
e.parents("li").removeClass(this.options.selectedClass);e.prop("checked",!1);b.removeAttr("selected").prop("selected",!1);this.updateButtonText()},rebuild:function(){a(".multiselect-container",this.$container).html("");this.buildDropdown(this.$select,this.options);this.updateButtonText()},getOptions:function(g){return a.extend({},this.defaults,g)},updateButtonText:function(){var g=this.getSelected();a("button",this.$container).html(this.options.buttonText(g,this.$select))},getSelected:function(){return a('option:selected[value!="'+
this.options.selectAllValue+'"]',this.$select)},updateOriginalOptions:function(){this.originalOptions=this.$select.clone()[0].options},asyncFunction:function(a,b,e){var g=Array.prototype.slice.call(arguments,3);return setTimeout(function(){a.apply(e||window,g)},b)}};a.fn.multiselect=function(h,b){return this.each(function(){var e=a(this).data("multiselect"),l="object"==typeof h&&h;e||a(this).data("multiselect",e=new g(this,l));if("string"==typeof h)e[h](b)})};a.fn.multiselect.Constructor=g;a(function(){a("select[data-role=multiselect]").multiselect()})}(window.jQuery);(function(a,g,h,b){var e=g.createElement("canvas").getContext,l=a.fn.peity=function(b,g){e&&this.each(function(){var e=a(this),h=e.data("peity");if(h)b&&(h.type=b),a.extend(h.opts,g),h.draw();else{var D=l.defaults[b],C={};a.each(e.data(),function(a,b){a in D&&(C[a]=b)});var w=a.extend({},D,C,g),h=new s(e,b,w);h.draw();e.change(function(){h.draw()}).data("peity",h)}});return this},s=function(a,b,e){this.$el=a;this.type=b;this.opts=e};g=s.prototype;g.colours=function(){var b=this.opts.colours,e=b;a.isFunction(e)||
(e=function(a,e){return b[e%b.length]});return e};g.draw=function(){l.graphers[this.type].call(this,this.opts)};g.prepareCanvas=function(e,g){var h=this.canvas,l;h?(this.context.clearRect(0,0,h.width,h.height),l=a(h)):(l=a("<canvas>").css({height:g,width:e}).addClass("peity").data("peity",this),this.canvas=h=l[0],this.context=h.getContext("2d"),this.$el.hide().after(h));h.height=l.height()*b;h.width=l.width()*b;return h};g.values=function(){return a.map(this.$el.text().split(this.opts.delimiter),
function(a){return parseFloat(a)})};l.defaults={};l.graphers={};l.register=function(a,b,e){this.defaults[a]=b;this.graphers[a]=e};l.register("pie",{colours:["#ff9900","#fff4dd","#ffc66e"],delimiter:null,diameter:16},function(a){if(!a.delimiter){var b=this.$el.text().match(/[^0-9\.]/);a.delimiter=b?b[0]:","}b=this.values();if("/"==a.delimiter)var e=b[0],b=[e,b[1]-e];for(var g=0,e=b.length,l=0;g<e;g++)l+=b[g];var s=this.prepareCanvas(a.width||a.diameter,a.height||a.diameter);a=this.context;var g=s.width,
w=s.height,s=h.min(g,w)/2,x=h.PI,B=this.colours();a.save();a.translate(g/2,w/2);a.rotate(-x/2);for(g=0;g<e;g++){var w=b[g],I=2*w/l*x;a.beginPath();a.moveTo(0,0);a.arc(0,0,s,0,I,!1);a.fillStyle=B.call(this,w,g,b);a.fill();a.rotate(I)}a.restore()});l.register("line",{colour:"#c6d9fd",strokeColour:"#4d89f9",strokeWidth:1,delimiter:",",height:16,max:null,min:0,width:32},function(a){var e=this.values();1==e.length&&e.push(e[0]);var g=h.max.apply(h,e.concat([a.max])),l=h.min.apply(h,e.concat([a.min])),
s=this.prepareCanvas(a.width,a.height),C=this.context,w=s.width,s=s.height,x=w/(e.length-1),g=s/(g-l),B=[],I;C.beginPath();C.moveTo(0,s+l*g);for(I=0;I<e.length;I++){var H=I*x,L=s-g*(e[I]-l);B.push({x:H,y:L});C.lineTo(H,L)}C.lineTo(w,s+l*g);C.fillStyle=a.colour;C.fill();if(a.strokeWidth){C.beginPath();C.moveTo(0,B[0].y);for(I=0;I<B.length;I++)C.lineTo(B[I].x,B[I].y);C.lineWidth=a.strokeWidth*b;C.strokeStyle=a.strokeColour;C.stroke()}});l.register("bar",{colours:["#4D89F9"],delimiter:",",height:16,
max:null,min:0,spacing:b,width:32},function(a){var b=this.values(),e=h.max.apply(h,b.concat([a.max])),g=h.min.apply(h,b.concat([a.min])),l=this.prepareCanvas(a.width,a.height),s=this.context,w=l.height,x=w/(e-g);a=a.spacing;for(var l=(l.width+a)/b.length,B=this.colours(),I=0;I<b.length;I++){var H=b[I],L=w-x*(H-g),Q;if(0==H){if(0<=g||0<e)L-=1;Q=1}else Q=x*b[I];s.fillStyle=B.call(this,H,I,b);s.fillRect(I*l,L,l-a,Q)}})})(jQuery,document,Math,window.devicePixelRatio||1);function encode_id(a){return base64.encode(a).replace(/\+/g,"-").replace(/\//g,"_")}function decode_id(a){return base64.decode(a.replace(/\-/g,"+").replace(/\_/g,"/"))}
function PicarusClient(a){this.version="v0";this.setAuth=function(a,h){$.ajaxSetup({beforeSend:function(b){b.setRequestHeader("Authorization","Basic "+base64.encode(a+":"+h))}})};_.isUndefined(a)||_.isUndefined(a.server)?this.server="":this.server=a.server;!_.isUndefined(a)&&(!_.isUndefined(a.email)&&!_.isUndefined(a.apiKey))&&this.setAuth(a.email,a.apiKey);this.get=function(a,h,b,e){a=[this.server,this.version].concat(_.map(a,encodeURIComponent)).join("/");return $.ajax(a,{data:h,success:b}).fail(e)};
this._ajax=function(a,h,b,e,l){a=[this.server,this.version].concat(_.map(a,encodeURIComponent)).join("/");var s=new FormData;_.each(h,function(a,b){s.append(b,a)});return $.ajax(a,{type:l,data:s,success:b,contentType:!1,processData:!1}).fail(e)};this.post=function(a,h,b,e){return this._ajax(a,h,b,e,"POST")};this.patch=function(a,h,b,e){return this._ajax(a,h,b,e,"PATCH")};this.del=function(a,h,b,e){return this._ajax(a,h,b,e,"DELETE")};this.authEmailAPIKey=function(a){a=this._argsDefaults(a);return this.post(["auth",
"email"],{},this._wrapNull(a.success),a.fail)};this.authYubikey=function(a,h){h=this._argsDefaults(h);return this.post(["auth","yubikey"],{otp:a},this._wrapParseJSON(h.success),h.fail)};this.getTable=function(a,h){h=this._argsDefaults(h);_.has(h,"columns")&&(h.data.columns=_.map(h.columns,function(a){return base64.encode(a)}).join(","));return this.get(["data",a],h.data,this._wrapDecodeLod(h.success),h.fail)};this.postTable=function(a,h){h=this._argsDefaults(h);return this.post(["data",a],this.encdict(h.data),
this._wrapDecodeValues(h.success),h.fail)};this.postRow=function(a,h,b){b=this._argsDefaults(b);return this.post(["data",a,encode_id(h)],this.encvalues(b.data),this._wrapDecodeDict(b.success),b.fail)};this.deleteRow=function(a,h,b){b=this._argsDefaults(b);return this.del(["data",a,encode_id(h)],b.data,this._wrapNull(b.success),b.fail)};this.deleteColumn=function(a,h,b,e){e=this._argsDefaults(e);return this.del(["data",a,encode_id(h),encode_id(b)],e.data,this._wrapNull(e.success),e.fail)};this.postSlice=
function(a,h,b,e){e=this._argsDefaults(e);return this.post(["slice",a,encode_id(h),encode_id(b)],this.encvalues(e.data),this._wrapDecodeDict(e.success),e.fail)};this.patchRow=function(a,h,b){b=this._argsDefaults(b);return this.patch(["data",a,encode_id(h)],this.encdict(b.data),this._wrapDecodeValues(b.success),b.fail)};this.encdict=function(a){return _.object(_.map(a,function(a,b){_.isObject(a)||(a=base64.encode(a));return[base64.encode(b),a]}))};this.encvalues=function(a){return _.object(_.map(a,
function(a,b){_.isObject(a)||(a=base64.encode(a));return[b,a]}))};this.getRow=function(a,h,b){b=this._argsDefaults(b);_.has(b,"columns")&&(b.data.columns=_.map(b.columns,function(a){return base64.encode(a)}).join(","));return this.get(["data",a,encode_id(h)],b.data,this._wrapDecodeDict(b.success),b.fail)};this.getSlice=function(a,h,b,e){e=this._argsDefaults(e);_.has(e,"columns")&&(e.data.columns=_.map(e.columns,function(a){return base64.encode(a)}).join(","));return this.get(["slice",a,encode_id(h),
encode_id(b)],e.data,this._wrapDecodeLod(e.success),e.fail)};this.patchSlice=function(a,h,b,e){e=this._argsDefaults(e);return this.patch(["slice",a,encode_id(h),encode_id(b)],this.encdict(e.data),this._wrapNull(e.success),e.fail)};this.deleteSlice=function(a,h,b,e){e=this._argsDefaults(e);return this.del(["slice",a,encode_id(h),encode_id(b)],{},this._wrapNull(e.success),e.fail)};this.scanner=function(a,h,b,e){e=this._argsDefaults(e);_.isUndefined(e.maxRows)&&(e.maxRows=Infinity);_.isUndefined(e.maxRowsIter)&&
(e.maxRowsIter=Math.min(1E4,e.maxRows));_.isUndefined(e.maxBytes)&&(e.maxBytes=1048576);var l=void 0,s=0,q={data:{maxRows:e.maxRowsIter},success:_.bind(function(h){debug_data=h;var u=!0;e.maxRows-=h.length;0>e.maxRows&&(h=h.slice(0,e.maxRows));if(0==s&&h.length&&!_.isUndefined(e.first)){var G=_.first(h);e.first(G[0],G[1])}_.each(h,function(a){l=a[0];e.success(a[0],a[1])});s+=h.length;console.log(s);h.length&&0<e.maxRows&&(u=!1,console.log("Not Done"),G=_.bind(function(){q.data.excludeStart=1;this.getSlice(a,
_.last(h)[0],b,q)},this),_.isUndefined(e.resume)?G():e.resume(G));u&&!_.isUndefined(e.done)&&e.done({lastRow:l,numRows:s})},this),fail:e.fail};_.has(e,"filter")&&(q.data.filter=e.filter);_.has(e,"columns")&&(q.columns=e.columns);this.getSlice(a,h,b,q)};this._argsDefaults=function(a){_.isUndefined(a)&&(a={});a=_.clone(a);_.has(a,"success")||(a.success=function(){});_.has(a,"fail")||(a.fail=function(){});_.has(a,"data")||(a.data={});return a};this._wrapDecodeLod=function(a){return function(h,b,e){a(_.map(JSON.parse(e.responseText),
function(a){var b=base64.decode(a.row);a=_.object(_.map(_.omit(a,"row"),function(a,b){return[base64.decode(b),base64.decode(a)]}));return[b,a]}))}};this._wrapNull=function(a){return function(h,b,e){a()}};this._wrapDecodeDict=function(a){return function(h,b,e){a(_.object(_.map(JSON.parse(e.responseText),function(a,b){return[base64.decode(b),base64.decode(a)]})))}};this._wrapParseJSON=function(a){return function(h,b,e){a(JSON.parse(e.responseText))}};this._wrapDecodeValues=function(a){return function(h,
b,e){a(_.object(_.map(JSON.parse(e.responseText),function(a,b){return[b,base64.decode(a)]})))}};this.test=function(){function a(e){this.patchRow("images",e,{success:function(a){console.log("Set debug_f");debug_f=a;b(e)},data:{"meta:class_0":"test_data2"}})}function h(a){this.deleteRow("images",a,{success:function(a){console.log("Set debug_h");debug_h=a}})}function b(a){this.getRow("images",a,{success:function(b){console.log("Set debug_d");debug_d=b;h(a)},columns:["meta:"]})}this.getTable("parameters",
{success:function(a){console.log("Set debug_a");debug_a=a}});this.getTable("models",{success:function(a){console.log("Set debug_b");debug_b=a},columns:["meta:"]});this.getSlice("images","sun397:","sun397;",{success:function(a){console.log("Set debug_c");debug_c=a},columns:["meta:"]});this.scanner("images","sun397:","sun397;",{columns:["meta:"],maxRows:10,success:function(a){console.log("Set debug_i");debug_i=a}});this.postSlice("images","automated_tests:","automated_tests;",{data:{action:"io/thumbnail"},
success:function(a){console.log("Set debug_g");debug_g=a}});b=_.bind(b,this);h=_.bind(h,this);a=_.bind(a,this);this.postTable("images",{success:function(b){console.log("Set debug_e");debug_e=b;a(b.row)},data:{"meta:class":"test_data"}});this.postRow("images",base64.decode("c3VuMzk3OnRlc3QAC2nfc3VuX2F4dndzZHd5cW1waG5hcGIuanBn"),{data:{action:"i/chain",model:base64.decode("ZmVhdDpRhhxwtznn3dTyAfPRMSdO")},success:function(a){console.log("Set debug_g");debug_g=a}})}}
function prefix_to_stop_row(a){return a.slice(0,-1)+String.fromCharCode(a.slice(-1).charCodeAt(0)+1)}function picarus_api_delete_rows(a,g){picarus_api_row_action(a,function(a,b){PICARUS.deleteRow("images",a,{success:b})},g)}function picarus_api_modify_rows(a,g,h,b){var e={};e[g]=h;picarus_api_row_action(a,function(a,b){PICARUS.patchRow("images",a,{success:b,data:e})},b)}
function picarus_api_row_action(a,g,h){function b(b){if(a.length){var e=a.pop();_.isUndefined(e)||g(e,b)}}function e(){s-=1;h.update(1-s/q);s||h.done();b(e)}var l=20,s=a.length,q=a.length;_.isUndefined(h)&&(h={});_.isUndefined(h.maxRowsIter)||(l=h.maxRowsIter);_.isUndefined(h.update)&&(h.update=function(){});_.isUndefined(h.done)&&(h.done=function(){});s||h.done();_.each(_.range(l),function(){b(e)})};function login_get(a){var g=$("#otp"),h=$("#apiKey"),b=$("#authModal"),e=$("#emailKeys");e.click(function(){var a=$("#email").val(),b=$("#loginKey").val();PICARUS.setAuth(a,b);PICARUS.authEmailAPIKey()});if("undefined"===typeof EMAIL_AUTH){var l=function(){var a=g.val(),b=$("#email").val(),e=$("#loginKey").val();PICARUS.setAuth(b,e);PICARUS.authYubikey(a,{success:function(a){PICARUS.setAuth(b,a.apiKey);q(a.apiKey)},fail:function(){$("#secondFactorAuth").addClass("error")}})},s=function(){var a=$("#email").val(),
b=$("#apiKey").val();$("#secondFactorAuth").addClass("info");$("#secondFactorAuth").removeClass("error");PICARUS.setAuth(a,b);PICARUS.getTable("prefixes",{success:function(){q(b)},fail:function(){$("#secondFactorAuth").addClass("error")}})},q=function(e){var g=$("#email").val(),h=$("#loginKey").val();$("#secondFactorAuth").removeClass("error");$.cookie("email",g);$.cookie("loginKey",h);EMAIL_AUTH={auth:e,email:g};$("#otp").unbind();$("#apiKey").unbind("keypress");a(EMAIL_AUTH);b.modal("hide")},y=
function(){var a=$("#email").val(),b=$("#loginKey").val();a.length&&b.length&&(g.removeAttr("disabled"),h.removeAttr("disabled"),e.removeAttr("disabled"))};$("#email").val($.cookie("email"));$("#loginKey").val($.cookie("loginKey"));y();$("#email").keypress(y);$("#email").on("paste",function(){_.defer(y)});$("#loginKey").keypress(y);$("#loginKey").on("paste",function(){_.defer(y)});g.keypress(_.debounce(l,100));g.on("paste",function(){_.defer(l)});h.keypress(_.debounce(s,100));h.on("paste",function(){_.defer(s)});
b.modal("show");b.off("shown");b.on("shown",function(){g.focus()})}else a(EMAIL_AUTH)}function google_visualization_load(a){google.load("visualization","1",{packages:["corechart"],callback:a})}function add_hint(a,g){a.wrap($("<span>").attr("class","hint hint--bottom").attr("data-hint",g))}function random_bytes(a){return _.map(_.range(10),function(){return String.fromCharCode(_.random(255))}).join("")}
function imageThumbnail(a,g){PICARUS.getRow("images",a,{success:function(h){var b=$("#"+g).attr("title");_.isUndefined(b)&&(b="");b=b+" | "+base64.encode(a);$("#"+g).attr("src","data:image/jpeg;base64,"+base64.encode(h["thum:image_150sq"])).attr("title",b)},data:{columns:["thum:image_150sq"]}})}function button_confirm_click(a,g){a.unbind();a.click(function(a){a=$(a.target);a.unbind();a.addClass("btn-danger");a.click(g)})}
function button_confirm_click_reset(a){a.removeClass("btn-danger");a.unbind()}function progressModal(){$("#progressModal").modal("show");return{done:function(){$("#progressModal").modal("hide")},update:function(a){$("#progress").css("width",100*a+"%")}}}function alert_running(){$("#results").html('<div class="alert alert-info"><strong>Running!</strong> Job is running, please wait...</div>')}
function alert_done(){$("#results").html('<div class="alert alert-success"><strong>Done!</strong> Job is done.</div>')}function alert_running_wrap(a){return function(){a.html('<div class="alert alert-info"><strong>Running!</strong> Job is running, please wait...</div>')}}function alert_success_wrap(a){return function(){a.html('<div class="alert alert-success"><strong>Done!</strong> Job is done.</div>')}}
function alert_fail_wrap(a){return function(){a.html('<div class="alert alert-error"><strong>Error!</strong> Job failed!</div>')}}function wrap_hints(){$("[hint]").each(function(a){$(this).wrap($("<span>").attr("class","hint hint--bottom").attr("data-hint",$(this).attr("hint")))})}function button_running(){$("#runButton").button("loading")}
function updateJobStatus(a,g,h){if($.contains(document.documentElement,a[0])){var b=0,e=0,l="";_.has(h,"goodRows")&&(b=Number(h.goodRows));_.has(h,"badRows")&&(e=Number(h.badRows));_.has(h,"status")&&(l=h.status);a.html("");if(l||b+e)h=$("<span>",{"data-diameter":"60","class":"pie","data-colours":'["green", "red"]'}).text(b+","+e),a.append(h),h.peity("pie"),a.append("Good["+b+"] Bad["+e+"] Status["+_.escape(l)+"] Row["+_.escape(g.row)+"]")}}
function watchJob(a,g){function h(){PICARUS.getRow(g.table,g.row,{success:function(b){JOBS.add(_.extend(b,{row:g.row}),{merge:!0});_.isUndefined(a.success)||a.success(g,b);"completed"!=b.status&&"failed"!=b.status&&_.delay(h,1E3);"completed"==b.status&&!_.isUndefined(a.done)&&a.done(b)},fail:function(){console.log("Poll Failed")}})}h()}function button_reset(){$("#runButton").button("reset")}function button_error(){$("#runButton").button("error")}
function decode_projects(a){a=a.get("meta:projects-"+EMAIL_AUTH.email);return _.isUndefined(a)?[]:_.map(a.split(","),function(a){return base64.decode(a)})}
function model_dropdown(a){"undefined"===typeof a.change&&(a.change=function(){});av=new (Backbone.View.extend({el:$("#container"),initialize:function(){_.bindAll(this,"render");this.$projects=$("#globalProjectDrop");this.$projects.change(this.render);this.collection.bind("sync",this.render);this.render()},renderDrop:a.change,modelFilter:function(g){var h=$("#globalProjectDrop").val(),b=decode_projects(g);return""===h||_.contains(b,h)?a.modelFilter(g):!1},events:{change:"renderDrop"},render:function(){n=
this.$el;this.$el.empty();var a=_.map(MODELS.filter(this.modelFilter),function(a){return{row:encode_id(a.get("row")),text:a.escape("meta:tags")+" "+a.escape("meta:name")}});a.sort(function(a,b){return Number(a.text>b.text)-Number(a.text<b.text)});this.$el.append(Mustache.render("{{#models}}<option value='{{row}}'>{{{text}}}</option>{{/models}};",{models:a}));this.renderDrop()}}))({collection:MODELS,el:a.el});return MODELS}
function rows_dropdown(a,g){_.isUndefined(g.change)&&(g.change=function(){});_.isUndefined(g.filter)&&(g.filter=function(){return!0});_.isUndefined(g.text)&&(g.text=function(a){return a.escape("row")});av=new (Backbone.View.extend({el:$("#container"),initialize:function(){_.bindAll(this,"render");this.collection.bind("sync",this.render);this.render()},events:{change:"renderDrop"},renderDrop:g.change,render:function(){n=this.$el;this.$el.empty();var h=_.map(a.filter(g.filter),function(a){return{row:encode_id(a.get("row")),
text:g.text(a)}});h.sort(function(a,e){return Number(a.text>e.text)-Number(a.text<e.text)});this.$el.append(Mustache.render("{{#models}}<option value='{{row}}'>{{text}}</option>{{/models}};",{models:h}));this.renderDrop()}}))({collection:a,el:g.el})}
function project_selector(){new (Backbone.View.extend({initialize:function(){_.bindAll(this,"render");this.$projects=$("#globalProjectDrop");this.collection.bind("sync",this.render);this.render()},events:{change:"renderDrop"},renderDrop:function(){this.$projects.empty();var a=this.collection.get(this.$el.val());_.isUndefined(a)||(a=[""].concat(_.keys(_.omit(a.attributes,"row"))),this.$projects.append(Mustache.render("{{#projects}}<option value='{{.}}'>{{.}}</option>{{/projects}};",{projects:a})),
this.$projects.trigger("change"))},render:function(){this.$el.empty();var a=this.collection.pluck("row");a.length&&(this.$el.append(Mustache.render("{{#tables}}<option value='{{.}}'>{{.}}</option>{{/tables}};",{tables:a})),this.$el.trigger("change"),this.renderDrop())}}))({collection:PROJECTS,el:$("#globalDataTableDrop")})}
function row_selector(a,g){_.isUndefined(g)&&(g={});new (Backbone.View.extend({initialize:function(){_.bindAll(this,"render");this.collection.bind("sync",this.render);this.$tables=$("#globalDataTableDrop");this.$projects=$("#globalProjectDrop");this.$tables.change(this.render);this.$projects.change(this.render);this.postRender=function(){};_.isUndefined(g.postRender)||(this.postRender=g.postRender);this.render()},events:{change:"renderDrop"},renderDrop:function(){var h=a.children().filter("option:selected").val();
_.isUndefined(h)||(h=h.split(","),"undefined"!==typeof g.startRow&&g.startRow.val(base64.decode(h[0])),"undefined"!==typeof g.stopRow&&g.stopRow.val(base64.decode(h[1])))},render:function(){this.$el.empty();var a=this.$projects.val(),b=this.collection.get(this.$tables.val());projects=PROJECTS.get(this.$tables.val());if(!_.isUndefined(b)){var b=_.keys(_.omit(b.attributes,"row")),e=[];!_.isUndefined(a)&&""!==a?(a=PROJECTS.get(this.$tables.val()).get(a),a=_.map(a.split(";"),function(a){return _.map(a.split(","),
function(a){return base64.decode(a)})}),e=_.filter(a,function(a){return _.some(b,function(b){return a[0]>=b&&a[1]<=prefix_to_stop_row(b)})})):e=_.map(b,function(a){return[a,prefix_to_stop_row(a)]});e.sort(function(a,b){return Number(a[0]>b[0])-Number(a[0]<b[0])});a=_.map(e,function(a){return{text:a[0]+"/"+a[1],value:base64.encode(a[0])+","+base64.encode(a[1])}});this.$el.append(Mustache.render("{{#data}}<option value='{{value}}'>{{text}}</option>{{/data}};",{data:a}));this.postRender();this.renderDrop()}}}))({collection:PREFIXES,
el:a})}
function slices_selector(){function a(){s.html("")}var g=$("#slicesSelectorPrefixDrop"),h=$("#slicesSelectorStartRow"),b=$("#slicesSelectorStopRow"),e=$("#slicesSelectorAddButton"),l=$("#slicesSelectorClearButton"),s=$("#slicesSelectorSlices");g.size()&&(row_selector(g,{startRow:h,stopRow:b,postRender:a}),e.click(function(){s.append($("<option>").text(_.escape(h.val())+"/"+_.escape(b.val())).attr("value",base64.encode(unescape(h.val()))+","+base64.encode(unescape(b.val()))))}),l.click(a))}
function model_create_selector(a,g,h,b,e){function l(a,b,e){a.change(function(){var g=a.val(),h=$(this).parent().parent(),l=function(){h.removeClass("success");h.addClass("error")};if(!$.isNumeric(g))return l();g=Number(g);if(g<b||g>=e)return l();h.addClass("success");h.removeClass("error")});return" ["+b+","+e+")"}function s(a,b){_.each(a,function(a,e){var h,q="";if("enum"==a.type){var s="{{#models}}<option value='{{.}}'>{{.}}</option>{{/models}};";h=$("<select>").attr("name",b+e).html(Mustache.render(s,
{models:a.values}))}else"int"==a.type?h=$("<input>").attr("name",b+e).attr("type","text").addClass("input-medium"):"float"==a.type?h=$("<input>").attr("name",b+e).attr("type","text").addClass("input-medium"):"bool"==a.type?(s="{{#models}}<option value='{{.}}'>{{.}}</option>{{/models}};",h=$("<select>").attr("name",b+e).html(Mustache.render(s,{models:["0","1"]}))):"int_list"==a.type||"float_list"==a.type?(h=$("<input>").attr("type","text").addClass("input-medium").val(a.min_size),a.max_size==a.min_size+
1&&h.css("display","none"),q=l(h,a.min_size,a.max_size),s=function(){$("[name^="+b+e+"]").remove();_.each(_.range(Number(h.val())),function(h){var q=$("<input>").attr("name",b+e+":"+h).attr("type","text").addClass("input-mini"),s=l(q,a.min,a.max);g.append(q);q.wrap($('<div class="control-group"><div class="controls"></div></div>'));add_hint(q.parent().parent(),e+":"+h+s)})},s(),h.change(s)):"str"==a.type&&(h=$("<input>").attr("name",b+e).attr("type","text").addClass("input-medium"));if("int"==a.type||
"float"==a.type)q=l(h,a.min,a.max);"undefined"!==typeof h&&(g.append(h),h.wrap($('<div class="control-group"><div class="controls"></div></div>')),add_hint(h.parent().parent(),e+q))})}model=PARAMETERS.filter(function(a){if(a.escape("kind")==h&&a.escape("name")==b)return!0})[0];_.isUndefined(model)||(s(JSON.parse(model.get("params")),"param-"),"slices"===model.escape("data")&&!e&&(a.append(document.getElementById("bpl_slices_select").innerHTML),slices_selector()),e||(a="model"==model.escape("type")?
[model.escape("input_type")]:JSON.parse(model.get("input_types")),_.each(a,function(a){var b=_.uniqueId("model_select_");"raw_image"===a?g.append($("<input>").attr("name","input-"+a).attr("type","hidden").val("data:image")):"meta"===a?(b=_.uniqueId("model_select_"),b=$("<input>").attr("id",b).attr("name","input-"+a).attr("type","text").addClass("input-medium"),g.append(b),add_hint(b,"Metadata column (e.g., meta:class)")):(g.append($("<select>").attr("id",b).attr("name","input-"+a).addClass("input-medium")),
model_dropdown({modelFilter:function(b){return b.escape("meta:output_type")===a},change:function(){},el:$("#"+b)}))})))}function model_create_selector_get(a){return _.object(a.find(":input[name]").map(function(){var a=$(this).attr("name"),h=$(this).val();if(!_.isUndefined(a))return"input"===a.slice(0,5)&&"input-meta"!=a&&"input-raw_image"!=a?[[a,decode_id(h)]]:[[a,h]]}))}
function prefixes_selector(){function a(){e.html("")}var g=$("#slicesSelectorPrefixDrop"),h=$("#slicesSelectorAddButton"),b=$("#slicesSelectorClearButton"),e=$("#slicesSelectorSlices");g.size()&&(row_selector(g,{postRender:a}),h.click(function(){e.append($("<option>").text(g.children().filter("option:selected").val()).attr("value",base64.encode(g.children().filter("option:selected").val())))}),b.click(a))}
function slices_selector_get(a){var g=_.map($("#slicesSelectorSlices").children(),function(a){return $(a).attr("value")});return a?_.map(g,function(a){return a.split(",")}):g}function prefixes_selector_get(){return _.map($("#slicesSelectorSlices").children(),function(a){return $(a).attr("value")})}
function app_main(){function a(a,b){return"row"==b?"":Mustache.render('<a class="value_delete" style="padding-left: 5px" row="{{row}}" column="{{column}}">Delete</a>',{row:encode_id(a),column:encode_id(b)})}PICARUS=new PicarusClient;PicarusRow=Backbone.Model.extend({idAttribute:"row",initialize:function(a,b){_.isUndefined(b)||(_.has(b,"table")&&(this.table=b.table),_.isArray(b.columns)&&(this.columns=b.columns))},sync:function(a,b,g){opt=g;console.log("row:"+a);mod=b;var h=b.get_table(),y,u={success:g.success};
u.data=b.attributes;_.has(g,"attrs")&&(u.data=g.attrs);"read"==a?(_.has(this,"columns")&&(u.columns=this.columns),y=PICARUS.getRow(h,b.id,u)):"delete"==a?y=PICARUS.deleteRow(h,b.id,u):"patch"==a?y=PICARUS.patchRow(h,b.id,u):"create"==a&&(y=PICARUS.postTable(h,u));debug_out=y;b.trigger("request",b,y,g);return y},get_table:function(){var a=this.table;_.isUndefined(a)&&(a=this.collection.table);return a},unset:function(a,b){function g(){return this.set(a,void 0,_.extend({},b,{unset:!0}))}g=_.bind(g,
this);return PICARUS.deleteColumn(this.get_table(),this.id,a,{success:g})}});PicarusRows=Backbone.Collection.extend({model:PicarusRow,initialize:function(a,b){this.table=b.table;_.isArray(b.columns)&&(this.columns=b.columns)},sync:function(a,b,g){opt=g;console.log("rows:"+a);mod=b;var h,y={};_.has(g,"attrs")&&(y.data=g.attrs);"read"==a&&(_.has(this,"columns")&&(y.columns=this.columns),y.success=function(a){g.success(_.map(a,function(a){a[1].row=a[0];return a[1]}))},h=PICARUS.getTable(this.table,y));
b.trigger("request",b,h,g);return h}});RowsView=Backbone.View.extend({initialize:function(a){_.bindAll(this,"render","renderWait");this.collection.bind("add",this.renderWait);this.collection.bind("sync",this.render);this.collection.bind("reset",this.render);this.collection.bind("change",this.renderWait);this.collection.bind("remove",this.renderWait);this.collection.bind("destroy",this.renderWait);this.$projects=$("#globalProjectDrop");this.$projects.change(this.render);this.extraColumns=[];this.postRender=
function(){};this.filter=function(a){return!0};this.deleteRows=this.deleteValues=!1;_.isUndefined(a.postRender)||(this.postRender=a.postRender);_.isUndefined(a.filter)||(this.filter=a.filter);_.isUndefined(a.extraColumns)||(this.extraColumns=a.extraColumns);if(a.deleteRows){this.deleteRows=!0;var b=function(a){a=decode_id(a.target.getAttribute("row"));this.collection.get(a).destroy({wait:!0})},b=_.bind(b,this);this.postRender=_.compose(this.postRender,function(){button_confirm_click($(".row_delete"),
b)});this.extraColumns.push({header:"Delete",getFormatted:function(){var a=this.get("row");return Mustache.render('<button class="btn row_delete" type="submit" row="{{row}}"">Delete</button>',{row:encode_id(a)})}})}if(a.deleteValues){this.deleteValues=!0;var g=function(a){var b=decode_id(a.target.getAttribute("row"));a=decode_id(a.target.getAttribute("column"));this.collection.get(b).unset(a)},g=_.bind(g,this);this.postRender=_.compose(this.postRender,function(){button_confirm_click($(".value_delete"),
g)})}a.columns&&(this.columns=a.columns);this.renderWait()},renderWait:_.debounce(function(){this.render()},5),render:function(){console.log("Rendering!");var b=this.columns;_.isUndefined(b)&&(b=_.uniq(_.flatten(_.map(this.collection.models,function(a){return _.keys(a.attributes)}))));var g=function(){return""};this.deleteValues&&(g=a);b=_.map(b,function(a){if("row"===a)return{header:"row",getFormatted:function(){return _.escape(this.get(a))}};outExtra="";return{header:a,getFormatted:function(){var b=
this.get(a);return _.isUndefined(b)?"":_.escape(b)+g(this.get("row"),a)}}}).concat(this.extraColumns);picarus_table=new Backbone.Table({collection:new PicarusRows(this.collection.filter(this.filter),{table:"models",columns:["meta:"]}),columns:b});this.collection.length?(this.$el.html(picarus_table.render().el),this.postRender()):this.$el.html('<div class="alert alert-info">Table Empty</div>')}});var g=_.map($("#tpls [id*=tpl]"),function(a){return a.id.slice(4).split("_").join("/")}),h=Backbone.View.extend({initialize:function(a){Backbone.history.on("route",
function(a,b){this.render(b)},this)},content:_.object(_.map(g,function(a){var b;b=""===a?"data_user":a.split("/").join("_");return[a,_.template(document.getElementById("tpl_"+b).innerHTML,{baseLogin:document.getElementById("bpl_login").innerHTML,rowSelect:document.getElementById("bpl_row_select").innerHTML,slicesSelect:document.getElementById("bpl_slices_select").innerHTML,prefixesSelect:document.getElementById("bpl_prefixes_select").innerHTML,filter:document.getElementById("bpl_filter").innerHTML,
prefixSelect:document.getElementById("bpl_prefix_select").innerHTML,runButton:document.getElementById("bpl_run_button").innerHTML})]})),render:function(a){this.$el.html(this.content[a]);wrap_hints();""===a&&(a="models/list");a="render_"+a.split("/").join("_");window.hasOwnProperty(a)&&login_get(window[a])}}),b=Backbone.View.extend({initialize:function(a){Backbone.history.on("route",function(a,b){this.render(b)},this)},titles:_.object(_.map(g,function(a){var b;b=""===a?"user":_.last(a.split("/",2));
return[a,b.charAt(0).toUpperCase()+b.slice(1)]})),events:{"click a":function(a){a=a.target.getAttribute("href");Backbone.history.navigate(a,{trigger:!0});return!1}},render:function(a){function b(a){a.append(h({prev_key:u.charAt(0).toUpperCase()+u.slice(1),vals:y,active:G===u?"class='active'":""}))}this.$el.empty();var g=_.template("<li class='<%=active%>'><a href='<%=url%>'><%=visible%></a></li>"),h=_.template("<li class='dropdown' <%=active%>><a href='#' class='dropdown-toggle' data-toggle='dropdown'><%=prev_key%></a><ul class='dropdown-menu'><% _.each(vals, function(data) { %> <li class='<%=data[2]%>'><a href='#<%=data[0]%>'><%=data[1]%></a></li> <% }); %></ul></li>"),
y=[],u=void 0,G=a.split("/",2)[0],D;for(D in this.titles){var C=a===D?"active":"",w=D.split("/",2),x=this.titles[D];if("undefined"!=typeof u&&(u!=w[0]||2>w.length))b(this.$el),u=void 0,y=[];2<=w.length?(u=w[0],y.push([D,x,C])):this.$el.append(g({url:"#"+D,visible:this.titles[D],active:C}))}"undefined"!=typeof u&&b(this.$el);$(".dropdown-toggle").dropdown()}});new (Backbone.Router.extend({routes:_.object(_.map(g,function(a){return[a,a]}).concat([["*path","models/list"]]))}));new b({el:document.getElementById("nav-item-container")});
new h({el:document.getElementById("container")});login_get(app_main_postauth)}function refresh_models(){_.each([PROJECTS,PREFIXES,JOBS,PARAMETERS,MODELS,USAGE],function(a){a.fetch()})}
function app_main_postauth(a){PROJECTS=new PicarusRows([],{table:"projects"});PREFIXES=new PicarusRows([],{table:"prefixes"});JOBS=new PicarusRows([],{table:"jobs"});PARAMETERS=new PicarusRows([],{table:"parameters"});USAGE=new PicarusRows([],{table:"usage"});MODELS=new PicarusRows([],{table:"models",columns:["meta:"]});refresh_models();project_selector();Backbone.history.start();$("#refreshButton").click(refresh_models);window.onbeforeunload=function(){return"Leaving Picarus..."}}$(document).ready(app_main);
