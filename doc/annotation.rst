Annotation
==========

+--------------+------------------------------------------------------------------------------------------------------+
| Redis DB     | Description                                                                                          |
+--------------+------------------------------------------------------------------------------------------------------+
| users        |                                                                                                      |
+--------------+------------------------------------------------------------------------------------------------------+
| response     |                                                                                                      |
+--------------+------------------------------------------------------------------------------------------------------+
| state        |                                                                                                      |
+--------------+------------------------------------------------------------------------------------------------------+
| key_to_path  | Maps from a random key to a b64(row) + ' ' + b64(column)                                             |
+--------------+------------------------------------------------------------------------------------------------------+
| path_to_key  | Maps from b64(row) + ' ' + b64(column) to a random key                                               |
+--------------+------------------------------------------------------------------------------------------------------+



+--------------+------------------------------------------------------------------------------------------------------+
| State Row    | Description                                                                                          |
+--------------+------------------------------------------------------------------------------------------------------+
| rows         | PQ of rows, user view reduces priority.  Determines which row to show next.                          |
+--------------+------------------------------------------------------------------------------------------------------+
| seen:<user>  | Set of rows user has seen.                                                                           |
+--------------+------------------------------------------------------------------------------------------------------+
| data_lock    | Lock needed to mutate state/key_to_path/path_to_key                                                  |
+--------------+------------------------------------------------------------------------------------------------------+
