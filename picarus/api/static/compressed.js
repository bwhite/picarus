(function(a,f,g){function b(a){var b={},e=/^jQuery\d+$/;g.each(a.attributes,function(a,q){q.specified&&!e.test(q.name)&&(b[q.name]=q.value)});return b}function e(a,b){var e=g(this);if(this.value==e.attr("placeholder")&&e.hasClass("placeholder"))if(e.data("placeholder-password")){e=e.hide().next().show().attr("id",e.removeAttr("id").data("placeholder-id"));if(!0===a)return e[0].value=b;e.focus()}else this.value="",e.removeClass("placeholder"),this==f.activeElement&&this.select()}function q(){var a,
q=g(this),l=this.id;if(""==this.value){if("password"==this.type){if(!q.data("placeholder-textinput")){try{a=q.clone().attr({type:"text"})}catch(h){a=g("<input>").attr(g.extend(b(this),{type:"text"}))}a.removeAttr("name").data({"placeholder-password":!0,"placeholder-id":l}).bind("focus.placeholder",e);q.data({"placeholder-textinput":a,"placeholder-id":l}).before(a)}q=q.removeAttr("id").hide().prev().attr("id",l).show()}q.addClass("placeholder");q[0].value=q.attr("placeholder")}else q.removeClass("placeholder")}
var h="placeholder"in f.createElement("input"),l="placeholder"in f.createElement("textarea"),x=g.fn,w=g.valHooks;h&&l?(x=x.placeholder=function(){return this},x.input=x.textarea=!0):(x=x.placeholder=function(){this.filter((h?"textarea":":input")+"[placeholder]").not(".placeholder").bind({"focus.placeholder":e,"blur.placeholder":q}).data("placeholder-enabled",!0).trigger("blur.placeholder");return this},x.input=h,x.textarea=l,x={get:function(a){var b=g(a);return b.data("placeholder-enabled")&&b.hasClass("placeholder")?
"":a.value},set:function(a,b){var l=g(a);if(!l.data("placeholder-enabled"))return a.value=b;""==b?(a.value=b,a!=f.activeElement&&q.call(a)):l.hasClass("placeholder")?e.call(a,!0,b)||(a.value=b):a.value=b;return l}},h||(w.input=x),l||(w.textarea=x),g(function(){g(f).delegate("form","submit.placeholder",function(){var a=g(".placeholder",this).each(e);setTimeout(function(){a.each(q)},10)})}),g(a).bind("beforeunload.placeholder",function(){g(".placeholder").each(function(){this.value=""})}))})(this,document,
jQuery);function login_get(a){var f=$("#otp"),g=$("#apiKey"),b=$("#authModal"),e=$("#emailKeys");e.click(function(){var a=$("#email").val(),b=$("#loginKey").val();picarus_api("/a1/auth/email","POST",{email:a,auth:b})});if("undefined"===typeof EMAIL_AUTH){var q=function(){var a=f.val(),b=$("#email").val(),e=$("#loginKey").val();picarus_api("/a1/auth/yubikey","POST",{data:{otp:a},success:function(a){l(JSON.parse(a.responseText).apiKey)},email:b,auth:e,fail:function(){$("#secondFactorAuth").addClass("error")}})},
h=function(){var a=$("#email").val(),b=$("#apiKey").val();$("#secondFactorAuth").addClass("info");$("#secondFactorAuth").removeClass("error");picarus_api("/a1/data/users/"+encode_id(a),"GET",{success:function(a){l(b)},email:a,auth:b,fail:function(){$("#secondFactorAuth").addClass("error")}})},l=function(e){var q=$("#email").val(),l=$("#loginKey").val();$("#secondFactorAuth").removeClass("error");$.cookie("email",q,{secure:!0});$.cookie("loginKey",l,{secure:!0});EMAIL_AUTH={auth:e,email:q};$("#otp").unbind();
$("#apiKey").unbind("keypress");a(EMAIL_AUTH);b.modal("hide")},x=function(){var a=$("#email").val(),b=$("#loginKey").val();a.length&&b.length&&(f.removeAttr("disabled"),g.removeAttr("disabled"),e.removeAttr("disabled"))};$("#email").val($.cookie("email"));$("#loginKey").val($.cookie("loginKey"));x();$("#email").keypress(x);$("#email").on("paste",function(){_.defer(x)});$("#loginKey").keypress(x);$("#loginKey").on("paste",function(){_.defer(x)});f.keypress(_.debounce(q,100));f.on("paste",function(){_.defer(q)});
g.keypress(_.debounce(h,100));g.on("paste",function(){_.defer(h)});b.modal("show");b.off("shown");b.on("shown",function(){f.focus()})}else a(EMAIL_AUTH)}function add_hint(a,f){a.wrap($("<span>").attr("class","hint hint--bottom").attr("data-hint",f))}function random_bytes(a){return _.map(_.range(10),function(){return String.fromCharCode(_.random(255))}).join("")}
function imageThumbnail(a,f){var g=encode_id("thum:image_150sq");picarus_api("/a1/data/images/"+a,"GET",{success:function(b){b=JSON.parse(b.responseText);$("#"+f).attr("src","data:image/jpeg;base64,"+b[g]).attr("title",a)},data:{columns:g}})}function button_confirm_click(a,f){a.unbind();a.click(function(a){a=$(a.target);a.unbind();a.addClass("btn-danger");a.click(f)})}function button_confirm_click_reset(a){a.removeClass("btn-danger");a.unbind()}
function progressModal(){$("#progressModal").modal("show");return{done:function(){$("#progressModal").modal("hide")},update:function(a){$("#progress").css("width",100*a+"%")}}}function alert_running(){$("#results").html('<div class="alert alert-info"><strong>Running!</strong> Job is running, please wait...</div>')}function alert_done(){$("#results").html('<div class="alert alert-success"><strong>Done!</strong> Job is done.</div>')}
function alert_running_wrap(a){return function(){a.html('<div class="alert alert-info"><strong>Running!</strong> Job is running, please wait...</div>')}}function alert_success_wrap(a){return function(){a.html('<div class="alert alert-success"><strong>Done!</strong> Job is done.</div>')}}function alert_fail_wrap(a){return function(){a.html('<div class="alert alert-error"><strong>Error!</strong> Job failed!</div>')}}
function wrap_hints(){$("[hint]").each(function(a){$(this).wrap($("<span>").attr("class","hint hint--bottom").attr("data-hint",$(this).attr("hint")))})}function button_running(){$("#runButton").button("loading")}function button_reset(){$("#runButton").button("reset")}function button_error(){$("#runButton").button("error")}
function model_dropdown(a){var f=new PicarusRows([],{table:"models",columns:["meta:"]});"undefined"===typeof a.change&&(a.change=function(){});av=new (Backbone.View.extend({el:$("#container"),initialize:function(){_.bindAll(this,"render");_.bindAll(this,"renderDrop");this.$el.bind("reset",this.renderDrop);this.$el.bind("change",this.renderDrop);this.collection.bind("reset",this.render);this.collection.bind("change",this.render)},renderDrop:a.change,modelFilter:a.modelFilter,render:function(){n=this.$el;
this.$el.empty();var a=_.map(f.filter(this.modelFilter),function(a){return{row:a.escape("row"),text:a.pescape("meta:tags")+" "+a.pescape("meta:name")}});a.sort(function(a,e){return Number(a.text>e.text)-Number(a.text<e.text)});this.$el.append(Mustache.render("{{#models}}<option value='{{row}}'>{{{text}}}</option>{{/models}};",{models:a}));this.renderDrop()}}))({collection:f,el:a.el});f.fetch();return f}
function rows_dropdown(a,f){_.isUndefined(f.change)&&(f.change=function(){});_.isUndefined(f.filter)&&(f.filter=function(){return!0});_.isUndefined(f.text)&&(f.text=function(a){return a.escape("row")});av=new (Backbone.View.extend({el:$("#container"),initialize:function(){_.bindAll(this,"render");_.bindAll(this,"renderDrop");this.$el.bind("reset",this.renderDrop);this.$el.bind("change",this.renderDrop);this.collection.bind("reset",this.render);this.collection.bind("change",this.render)},renderDrop:f.change,
render:function(){n=this.$el;this.$el.empty();var g=_.map(a.filter(f.filter),function(a){return{row:a.escape("row"),text:f.text(a)}});g.sort(function(a,e){return Number(a.text>e.text)-Number(a.text<e.text)});this.$el.append(Mustache.render("{{#models}}<option value='{{row}}'>{{text}}</option>{{/models}};",{models:g}));this.renderDrop()}}))({collection:a,el:f.el});a.fetch()}
function project_selector(a){var f=Backbone.View.extend({initialize:function(){_.bindAll(this,"render");this.model.bind("reset",this.render);this.model.bind("change",this.render)},render:function(){this.$el.empty();var a=_.keys(this.model.pescapejs("image_projects"));a.sort(function(a,e){return Number(a>e)-Number(a<e)});this.$el.append(Mustache.render("{{#projects}}<option value='{{.}}'>{{.}}</option>{{/projects}};",{projects:a}));this.renderDrop()}});login_get(function(g){user=new PicarusUser({row:encode_id(g.email)});
new f({model:user,el:a});user.fetch()})}
function row_selector(a,f,g){var b=Backbone.View.extend({initialize:function(){_.bindAll(this,"render");this.model.bind("reset",this.render);this.model.bind("change",this.render)},events:{change:"renderDrop"},renderDrop:function(){var b=a.children().filter("option:selected").val();"undefined"!==typeof f&&f.val(b);"undefined"!==typeof g&&g.val(prefix_to_stop_row(b))},render:function(){this.$el.empty();var a=_.keys(this.model.pescapejs("image_prefixes"));a.sort(function(a,b){return Number(a>b)-Number(a<
b)});this.$el.append(Mustache.render("{{#prefixes}}<option value='{{.}}'>{{.}}</option>{{/prefixes}};",{prefixes:a}));this.renderDrop()}});login_get(function(e){user=new PicarusUser({row:encode_id(e.email)});new b({model:user,el:a});user.fetch()})}
function slices_selector(){var a=$("#slicesSelectorPrefixDrop"),f=$("#slicesSelectorStartRow"),g=$("#slicesSelectorStopRow"),b=$("#slicesSelectorAddButton"),e=$("#slicesSelectorClearButton"),q=$("#slicesSelectorSlices");if(a.size()){var h=Backbone.View.extend({initialize:function(){_.bindAll(this,"render");this.model.bind("reset",this.render);this.model.bind("change",this.render)},events:{change:"renderDrop"},renderDrop:function(){var b=a.children().filter("option:selected").val();"undefined"!==typeof f&&
f.val(b);"undefined"!==typeof g&&g.val(prefix_to_stop_row(b))},render:function(){this.$el.empty();var a=_.keys(this.model.pescapejs("image_prefixes"));a.sort(function(a,b){return Number(a>b)-Number(a<b)});this.$el.append(Mustache.render("{{#prefixes}}<option value='{{.}}'>{{.}}</option>{{/prefixes}};",{prefixes:a}));this.renderDrop()}});b.click(function(){q.append($("<option>").text(f.val()+"/"+g.val()).attr("value",encode_id(unescape(f.val()))+"/"+encode_id(unescape(g.val()))))});e.click(function(){q.html("")});
login_get(function(b){user=new PicarusUser({row:encode_id(b.email)});new h({model:user,el:a});user.fetch()})}}function slices_selector_get(a){var f=_.map($("#slicesSelectorSlices").children(),function(a){return $(a).attr("value")});return a?_.map(f,function(a){return a.split("/")}):f}
function app_main(){function a(a,b){return"row"==b?"":Mustache.render('<a class="value_delete" style="padding-left: 5px" row="{{row}}" column="{{column}}">Delete</a>',{row:a,column:b})}PicarusRow=Backbone.Model.extend({idAttribute:"row",initialize:function(a,b){this.table=b.table;_.isArray(b.columns)?this.params="?columns="+_.map(b.columns,function(a){return encode_id(a)}).join(","):this.params=""},pescape:function(a){return _.escape(base64.decode(this.escape(encode_id(a))))},pescaperow:function(){return _.escape(base64.decode(this.escape("row")))},
pescapejs:function(a){a=this.get(encode_id(a));if(!_.isUndefined(a))return JSON.parse(base64.decode(a))},psave:function(a,b){return this.save(object_ub64_b64_enc(a),b)},get_table:function(){var a=this.table;_.isUndefined(a)&&(a=this.collection.table);return a},punset:function(a){function b(){this.unset(a)}b=_.bind(b,this);picarus_api("/a1/data/"+this.get_table()+"/"+this.id+"/"+a,"DELETE",{success:b})},url:function(){return"/a1/data/"+this.get_table()+"/"+this.id}});PicarusRows=Backbone.Collection.extend({model:PicarusRow,
initialize:function(a,b){this.table=b.table;_.isArray(b.columns)?this.params="?columns="+_.map(b.columns,function(a){return encode_id(a)}).join(","):this.params=""},pget:function(a){return this.get(encode_id(a))},url:function(){return this.id?"/a1/data/"+this.table+"/"+this.id:"/a1/data/"+this.table+this.params}});RowsView=Backbone.View.extend({initialize:function(a){_.bindAll(this,"render");this.collection.bind("reset",this.render);this.collection.bind("change",this.render);this.collection.bind("remove",
this.render);this.collection.bind("destroy",this.render);this.extraColumns=[];this.postRender=function(){};this.deleteRows=this.deleteValues=!1;_.isUndefined(a.postRender)||(this.postRender=a.postRender);_.isUndefined(a.extraColumns)||(this.extraColumns=a.extraColumns);if(a.deleteRows){this.deleteRows=!0;var b=function(a){a=a.target.getAttribute("row");this.collection.get(a).destroy({wait:!0})},b=_.bind(b,this);this.postRender=_.compose(this.postRender,function(){button_confirm_click($(".row_delete"),
b)});this.extraColumns.push({header:"Delete",getFormatted:function(){var a=this.escape("row");return Mustache.render('<button class="btn row_delete" type="submit" row="{{row}}"">Delete</button>',{row:a})}})}if(a.deleteValues){this.deleteValues=!0;var h=function(a){var b=a.target.getAttribute("row");a=a.target.getAttribute("column");this.collection.get(b).punset(a)},h=_.bind(h,this);this.postRender=_.compose(this.postRender,function(){button_confirm_click($(".value_delete"),h)})}a.columns&&(this.columns=
_.map(a.columns,function(a){return"row"==a?a:encode_id(a)}))},render:function(){var b=this.columns;_.isUndefined(b)&&(b=_.uniq(_.flatten(_.map(this.collection.models,function(a){return _.keys(a.attributes)}))));var q=function(){return""};this.deleteValues&&(q=a);b=_.map(b,function(a){if("row"===a)return{header:"row",getFormatted:function(){return _.escape(this.get(a))}};outExtra="";return{header:decode_id(a),getFormatted:function(){var b=this.get(a);return _.isUndefined(b)?"":_.escape(base64.decode(b))+
q(this.get("row"),a)}}}).concat(this.extraColumns);picarus_table=new Backbone.Table({collection:this.collection,columns:b});this.collection.length?(this.$el.html(picarus_table.render().el),this.postRender()):this.$el.html('<div class="alert alert-info">Table Empty</div>')}});PicarusUser=Backbone.Model.extend({idAttribute:"row",defaults:{},url:function(){return this.id?"/a1/data/users/"+this.id:"/a1/data/users"},pescape:function(a){return _.escape(base64.decode(this.escape(encode_id(a))))},pescapejs:function(a){return JSON.parse(base64.decode(this.escape(encode_id(a))))}});
PicarusUsers=Backbone.Collection.extend({model:PicarusUser,url:"/a1/data/users"});PicarusImage=Backbone.Model.extend({idAttribute:"row",defaults:{}});PicarusImages=Backbone.Collection.extend({model:PicarusImage,url:"/a1/users/images"});$.ajaxSetup({beforeSend:function(a){login_get(function(b){a.setRequestHeader("Authorization","Basic "+base64.encode(b.email+":"+b.auth))})}});var f=_.map($("#tpls [id*=tpl]"),function(a){return a.id.slice(4).split("_").join("/")}),g=Backbone.View.extend({initialize:function(a){Backbone.history.on("route",
function(a,b){this.render(b)},this)},content:_.object(_.map(f,function(a){var b;b=""===a?"data_user":a.split("/").join("_");return[a,_.template(document.getElementById("tpl_"+b).innerHTML,{baseLogin:document.getElementById("bpl_login").innerHTML,rowSelect:document.getElementById("bpl_row_select").innerHTML,slicesSelect:document.getElementById("bpl_slices_select").innerHTML,filter:document.getElementById("bpl_filter").innerHTML,prefixSelect:document.getElementById("bpl_prefix_select").innerHTML,runButton:document.getElementById("bpl_run_button").innerHTML})]})),
render:function(a){this.$el.html(this.content[a]);wrap_hints();custom_checkbox_and_radio();""===a&&(a="data/user");a="render_"+a.split("/").join("_");window.hasOwnProperty(a)&&login_get(window[a])}}),b=Backbone.View.extend({initialize:function(a){Backbone.history.on("route",function(a,b){this.render(b)},this)},titles:_.object(_.map(f,function(a){var b;b=""===a?"user":_.last(a.split("/",2));return[a,b.charAt(0).toUpperCase()+b.slice(1)]})),events:{"click a":function(a){a=a.target.getAttribute("href");
Backbone.history.navigate(a,{trigger:!0});return!1}},render:function(a){function b(a){a.append(l({prev_key:w.charAt(0).toUpperCase()+w.slice(1),vals:g,active:z===w?"class='active'":""}))}this.$el.empty();var f=_.template("<li class='<%=active%>'><a href='<%=url%>'><%=visible%></a></li>"),l=_.template("<li <%=active%>><a href='#'><%=prev_key%></a><ul><% _.each(vals, function(data) { %> <li class='<%=data[2]%>'><a href='#<%=data[0]%>'><%=data[1]%></a></li> <% }); %></ul></li>"),g=[],w=void 0,z=a.split("/",
2)[0],y;for(y in this.titles){var C=a===y?"active":"",r=y.split("/",2),D=this.titles[y];if("undefined"!=typeof w&&(w!=r[0]||2>r.length))b(this.$el),w=void 0,g=[];2<=r.length?(w=r[0],g.push([y,D,C])):this.$el.append(f({url:"#"+y,visible:this.titles[y],active:C}))}"undefined"!=typeof w&&b(this.$el)}});new (Backbone.Router.extend({routes:_.object(_.map(f,function(a){return[a,a]}).concat([["*path","data/user"]]))}));new b({el:document.getElementById("nav-item-container")});new g({el:document.getElementById("container")});
Backbone.history.start();window.onbeforeunload=function(){return"Leaving Picarus..."}};(function(){var a=this,f=a.Backbone,g=[],b=g.push,e=g.slice,q=g.splice,h;h="undefined"!==typeof exports?exports:a.Backbone={};h.VERSION="0.9.10";var l=a._;!l&&"undefined"!==typeof require&&(l=require("underscore"));h.$=a.jQuery||a.Zepto||a.ender;h.noConflict=function(){a.Backbone=f;return this};h.emulateHTTP=!1;h.emulateJSON=!1;var x=/\s+/,w=function(a,b,e,f){if(!e)return!0;if("object"===typeof e)for(var l in e)a[b].apply(a,[l,e[l]].concat(f));else if(x.test(e)){e=e.split(x);l=0;for(var q=e.length;l<
q;l++)a[b].apply(a,[e[l]].concat(f))}else return!0},z=function(a,b){var e,f=-1,l=a.length;switch(b.length){case 0:for(;++f<l;)(e=a[f]).callback.call(e.ctx);break;case 1:for(;++f<l;)(e=a[f]).callback.call(e.ctx,b[0]);break;case 2:for(;++f<l;)(e=a[f]).callback.call(e.ctx,b[0],b[1]);break;case 3:for(;++f<l;)(e=a[f]).callback.call(e.ctx,b[0],b[1],b[2]);break;default:for(;++f<l;)(e=a[f]).callback.apply(e.ctx,b)}},g=h.Events={on:function(a,b,e){if(!w(this,"on",a,[b,e])||!b)return this;this._events||(this._events=
{});(this._events[a]||(this._events[a]=[])).push({callback:b,context:e,ctx:e||this});return this},once:function(a,b,e){if(!w(this,"once",a,[b,e])||!b)return this;var f=this,q=l.once(function(){f.off(a,q);b.apply(this,arguments)});q._callback=b;this.on(a,q,e);return this},off:function(a,b,e){var f,q,h,u,s,g,r,t;if(!this._events||!w(this,"off",a,[b,e]))return this;if(!a&&!b&&!e)return this._events={},this;u=a?[a]:l.keys(this._events);s=0;for(g=u.length;s<g;s++)if(a=u[s],f=this._events[a]){h=[];if(b||
e){r=0;for(t=f.length;r<t;r++)q=f[r],(b&&b!==q.callback&&b!==q.callback._callback||e&&e!==q.context)&&h.push(q)}this._events[a]=h}return this},trigger:function(a){if(!this._events)return this;var b=e.call(arguments,1);if(!w(this,"trigger",a,b))return this;var f=this._events[a],l=this._events.all;f&&z(f,b);l&&z(l,arguments);return this},listenTo:function(a,b,e){var f=this._listeners||(this._listeners={}),q=a._listenerId||(a._listenerId=l.uniqueId("l"));f[q]=a;a.on(b,"object"===typeof b?this:e,this);
return this},stopListening:function(a,b,e){var f=this._listeners;if(f){if(a)a.off(b,"object"===typeof b?this:e,this),!b&&!e&&delete f[a._listenerId];else{"object"===typeof b&&(e=this);for(var l in f)f[l].off(b,e,this);this._listeners={}}return this}}};g.bind=g.on;g.unbind=g.off;l.extend(h,g);var y=h.Model=function(a,b){var e,f=a||{};this.cid=l.uniqueId("c");this.attributes={};b&&b.collection&&(this.collection=b.collection);b&&b.parse&&(f=this.parse(f,b)||{});if(e=l.result(this,"defaults"))f=l.defaults({},
f,e);this.set(f,b);this.changed={};this.initialize.apply(this,arguments)};l.extend(y.prototype,g,{changed:null,idAttribute:"id",initialize:function(){},toJSON:function(){return l.clone(this.attributes)},sync:function(){return h.sync.apply(this,arguments)},get:function(a){return this.attributes[a]},escape:function(a){return l.escape(this.get(a))},has:function(a){return null!=this.get(a)},set:function(a,b,e){var f,q,s,h,g,r,t;if(null==a)return this;"object"===typeof a?(q=a,e=b):(q={})[a]=b;e||(e={});
if(!this._validate(q,e))return!1;s=e.unset;h=e.silent;a=[];g=this._changing;this._changing=!0;g||(this._previousAttributes=l.clone(this.attributes),this.changed={});t=this.attributes;r=this._previousAttributes;this.idAttribute in q&&(this.id=q[this.idAttribute]);for(f in q)b=q[f],l.isEqual(t[f],b)||a.push(f),l.isEqual(r[f],b)?delete this.changed[f]:this.changed[f]=b,s?delete t[f]:t[f]=b;if(!h){a.length&&(this._pending=!0);b=0;for(f=a.length;b<f;b++)this.trigger("change:"+a[b],this,t[a[b]],e)}if(g)return this;
if(!h)for(;this._pending;)this._pending=!1,this.trigger("change",this,e);this._changing=this._pending=!1;return this},unset:function(a,b){return this.set(a,void 0,l.extend({},b,{unset:!0}))},clear:function(a){var b={},e;for(e in this.attributes)b[e]=void 0;return this.set(b,l.extend({},a,{unset:!0}))},hasChanged:function(a){return null==a?!l.isEmpty(this.changed):l.has(this.changed,a)},changedAttributes:function(a){if(!a)return this.hasChanged()?l.clone(this.changed):!1;var b,e=!1,f=this._changing?
this._previousAttributes:this.attributes,q;for(q in a)if(!l.isEqual(f[q],b=a[q]))(e||(e={}))[q]=b;return e},previous:function(a){return null==a||!this._previousAttributes?null:this._previousAttributes[a]},previousAttributes:function(){return l.clone(this._previousAttributes)},fetch:function(a){a=a?l.clone(a):{};void 0===a.parse&&(a.parse=!0);var b=a.success;a.success=function(a,e,f){if(!a.set(a.parse(e,f),f))return!1;b&&b(a,e,f)};return this.sync("read",this,a)},save:function(a,b,e){var f,q,h=this.attributes;
null==a||"object"===typeof a?(f=a,e=b):(f={})[a]=b;if(f&&(!e||!e.wait)&&!this.set(f,e))return!1;e=l.extend({validate:!0},e);if(!this._validate(f,e))return!1;f&&e.wait&&(this.attributes=l.extend({},h,f));void 0===e.parse&&(e.parse=!0);q=e.success;e.success=function(a,b,e){a.attributes=h;var s=a.parse(b,e);e.wait&&(s=l.extend(f||{},s));if(l.isObject(s)&&!a.set(s,e))return!1;q&&q(a,b,e)};a=this.isNew()?"create":e.patch?"patch":"update";"patch"===a&&(e.attrs=f);a=this.sync(a,this,e);f&&e.wait&&(this.attributes=
h);return a},destroy:function(a){a=a?l.clone(a):{};var b=this,e=a.success,f=function(){b.trigger("destroy",b,b.collection,a)};a.success=function(a,b,q){(q.wait||a.isNew())&&f();e&&e(a,b,q)};if(this.isNew())return a.success(this,null,a),!1;var q=this.sync("delete",this,a);a.wait||f();return q},url:function(){var a=l.result(this,"urlRoot")||l.result(this.collection,"url")||O();return this.isNew()?a:a+("/"===a.charAt(a.length-1)?"":"/")+encodeURIComponent(this.id)},parse:function(a){return a},clone:function(){return new this.constructor(this.attributes)},
isNew:function(){return null==this.id},isValid:function(a){return!this.validate||!this.validate(this.attributes,a)},_validate:function(a,b){if(!b.validate||!this.validate)return!0;a=l.extend({},this.attributes,a);var e=this.validationError=this.validate(a,b)||null;if(!e)return!0;this.trigger("invalid",this,e,b||{});return!1}});var C=h.Collection=function(a,b){b||(b={});b.model&&(this.model=b.model);void 0!==b.comparator&&(this.comparator=b.comparator);this.models=[];this._reset();this.initialize.apply(this,
arguments);a&&this.reset(a,l.extend({silent:!0},b))};l.extend(C.prototype,g,{model:y,initialize:function(){},toJSON:function(a){return this.map(function(b){return b.toJSON(a)})},sync:function(){return h.sync.apply(this,arguments)},add:function(a,e){a=l.isArray(a)?a.slice():[a];e||(e={});var f,s,h,g,u,r,B,t,x,D;B=[];t=e.at;x=this.comparator&&null==t&&!1!=e.sort;D=l.isString(this.comparator)?this.comparator:null;f=0;for(s=a.length;f<s;f++)(h=this._prepareModel(g=a[f],e))?(u=this.get(h))?e.merge&&(u.set(g===
h?h.attributes:g,e),x&&!r&&u.hasChanged(D)&&(r=!0)):(B.push(h),h.on("all",this._onModelEvent,this),this._byId[h.cid]=h,null!=h.id&&(this._byId[h.id]=h)):this.trigger("invalid",this,g,e);B.length&&(x&&(r=!0),this.length+=B.length,null!=t?q.apply(this.models,[t,0].concat(B)):b.apply(this.models,B));r&&this.sort({silent:!0});if(e.silent)return this;f=0;for(s=B.length;f<s;f++)(h=B[f]).trigger("add",h,this,e);r&&this.trigger("sort",this,e);return this},remove:function(a,b){a=l.isArray(a)?a.slice():[a];
b||(b={});var e,f,q,h;e=0;for(f=a.length;e<f;e++)if(h=this.get(a[e]))delete this._byId[h.id],delete this._byId[h.cid],q=this.indexOf(h),this.models.splice(q,1),this.length--,b.silent||(b.index=q,h.trigger("remove",h,this,b)),this._removeReference(h);return this},push:function(a,b){a=this._prepareModel(a,b);this.add(a,l.extend({at:this.length},b));return a},pop:function(a){var b=this.at(this.length-1);this.remove(b,a);return b},unshift:function(a,b){a=this._prepareModel(a,b);this.add(a,l.extend({at:0},
b));return a},shift:function(a){var b=this.at(0);this.remove(b,a);return b},slice:function(a,b){return this.models.slice(a,b)},get:function(a){if(null!=a)return this._idAttr||(this._idAttr=this.model.prototype.idAttribute),this._byId[a.id||a.cid||a[this._idAttr]||a]},at:function(a){return this.models[a]},where:function(a){return l.isEmpty(a)?[]:this.filter(function(b){for(var e in a)if(a[e]!==b.get(e))return!1;return!0})},sort:function(a){if(!this.comparator)throw Error("Cannot sort a set without a comparator");
a||(a={});l.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(l.bind(this.comparator,this));a.silent||this.trigger("sort",this,a);return this},pluck:function(a){return l.invoke(this.models,"get",a)},update:function(a,b){b=l.extend({add:!0,merge:!0,remove:!0},b);b.parse&&(a=this.parse(a,b));var e,f,q,h,s=[],g=[],r={};l.isArray(a)||(a=a?[a]:[]);if(b.add&&!b.remove)return this.add(a,b);f=0;for(q=a.length;f<q;f++)e=a[f],h=this.get(e),
b.remove&&h&&(r[h.cid]=!0),(b.add&&!h||b.merge&&h)&&s.push(e);if(b.remove){f=0;for(q=this.models.length;f<q;f++)e=this.models[f],r[e.cid]||g.push(e)}g.length&&this.remove(g,b);s.length&&this.add(s,b);return this},reset:function(a,b){b||(b={});b.parse&&(a=this.parse(a,b));for(var e=0,f=this.models.length;e<f;e++)this._removeReference(this.models[e]);b.previousModels=this.models.slice();this._reset();a&&this.add(a,l.extend({silent:!0},b));b.silent||this.trigger("reset",this,b);return this},fetch:function(a){a=
a?l.clone(a):{};void 0===a.parse&&(a.parse=!0);var b=a.success;a.success=function(a,e,f){a[f.update?"update":"reset"](e,f);b&&b(a,e,f)};return this.sync("read",this,a)},create:function(a,b){b=b?l.clone(b):{};if(!(a=this._prepareModel(a,b)))return!1;b.wait||this.add(a,b);var e=this,f=b.success;b.success=function(a,b,q){q.wait&&e.add(a,q);f&&f(a,b,q)};a.save(null,b);return a},parse:function(a){return a},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0;this.models.length=
0;this._byId={}},_prepareModel:function(a,b){if(a instanceof y)return a.collection||(a.collection=this),a;b||(b={});b.collection=this;var e=new this.model(a,b);return!e._validate(a,b)?!1:e},_removeReference:function(a){this===a.collection&&delete a.collection;a.off("all",this._onModelEvent,this)},_onModelEvent:function(a,b,e,f){("add"===a||"remove"===a)&&e!==this||("destroy"===a&&this.remove(b,f),b&&a==="change:"+b.idAttribute&&(delete this._byId[b.previous(b.idAttribute)],null!=b.id&&(this._byId[b.id]=
b)),this.trigger.apply(this,arguments))},sortedIndex:function(a,b,e){b||(b=this.comparator);var f=l.isFunction(b)?b:function(a){return a.get(b)};return l.sortedIndex(this.models,a,f,e)}});l.each("forEach each map collect reduce foldl inject reduceRight foldr find detect filter select reject every all some any include contains invoke max min toArray size first head take initial rest tail drop last without indexOf shuffle lastIndexOf isEmpty chain".split(" "),function(a){C.prototype[a]=function(){var b=
e.call(arguments);b.unshift(this.models);return l[a].apply(l,b)}});l.each(["groupBy","countBy","sortBy"],function(a){C.prototype[a]=function(b,e){var f=l.isFunction(b)?b:function(a){return a.get(b)};return l[a](this.models,f,e)}});var r=h.Router=function(a){a||(a={});a.routes&&(this.routes=a.routes);this._bindRoutes();this.initialize.apply(this,arguments)},D=/\((.*?)\)/g,t=/(\(\?)?:\w+/g,E=/\*\w+/g,I=/[\-{}\[\]+?.,\\\^$|#\s]/g;l.extend(r.prototype,g,{initialize:function(){},route:function(a,b,e){l.isRegExp(a)||
(a=this._routeToRegExp(a));e||(e=this[b]);h.history.route(a,l.bind(function(f){f=this._extractParameters(a,f);e&&e.apply(this,f);this.trigger.apply(this,["route:"+b].concat(f));this.trigger("route",b,f);h.history.trigger("route",this,b,f)},this));return this},navigate:function(a,b){h.history.navigate(a,b);return this},_bindRoutes:function(){if(this.routes)for(var a,b=l.keys(this.routes);null!=(a=b.pop());)this.route(a,this.routes[a])},_routeToRegExp:function(a){a=a.replace(I,"\\$&").replace(D,"(?:$1)?").replace(t,
function(a,b){return b?a:"([^/]+)"}).replace(E,"(.*?)");return RegExp("^"+a+"$")},_extractParameters:function(a,b){return a.exec(b).slice(1)}});var H=h.History=function(){this.handlers=[];l.bindAll(this,"checkUrl");"undefined"!==typeof window&&(this.location=window.location,this.history=window.history)},J=/^[#\/]|\s+$/g,R=/^\/+|\/+$/g,s=/msie [\w.]+/,L=/\/$/;H.started=!1;l.extend(H.prototype,g,{interval:50,getHash:function(a){return(a=(a||this).location.href.match(/#(.*)$/))?a[1]:""},getFragment:function(a,
b){if(null==a)if(this._hasPushState||!this._wantsHashChange||b){a=this.location.pathname;var e=this.root.replace(L,"");a.indexOf(e)||(a=a.substr(e.length))}else a=this.getHash();return a.replace(J,"")},start:function(a){if(H.started)throw Error("Backbone.history has already been started");H.started=!0;this.options=l.extend({},{root:"/"},this.options,a);this.root=this.options.root;this._wantsHashChange=!1!==this.options.hashChange;this._wantsPushState=!!this.options.pushState;this._hasPushState=!(!this.options.pushState||
!this.history||!this.history.pushState);a=this.getFragment();var b=document.documentMode,b=s.exec(navigator.userAgent.toLowerCase())&&(!b||7>=b);this.root=("/"+this.root+"/").replace(R,"/");b&&this._wantsHashChange&&(this.iframe=h.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(a));if(this._hasPushState)h.$(window).on("popstate",this.checkUrl);else if(this._wantsHashChange&&"onhashchange"in window&&!b)h.$(window).on("hashchange",this.checkUrl);
else this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval));this.fragment=a;a=this.location;b=a.pathname.replace(/[^\/]$/,"$&/")===this.root;if(this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!b)return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+this.location.search+"#"+this.fragment),!0;this._wantsPushState&&this._hasPushState&&(b&&a.hash)&&(this.fragment=this.getHash().replace(J,""),this.history.replaceState({},document.title,
this.root+this.fragment+a.search));if(!this.options.silent)return this.loadUrl()},stop:function(){h.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl);clearInterval(this._checkUrlInterval);H.started=!1},route:function(a,b){this.handlers.unshift({route:a,callback:b})},checkUrl:function(){var a=this.getFragment();a===this.fragment&&this.iframe&&(a=this.getFragment(this.getHash(this.iframe)));if(a===this.fragment)return!1;this.iframe&&this.navigate(a);this.loadUrl()||this.loadUrl(this.getHash())},
loadUrl:function(a){var b=this.fragment=this.getFragment(a);return l.any(this.handlers,function(a){if(a.route.test(b))return a.callback(b),!0})},navigate:function(a,b){if(!H.started)return!1;if(!b||!0===b)b={trigger:b};a=this.getFragment(a||"");if(this.fragment!==a){this.fragment=a;var e=this.root+a;if(this._hasPushState)this.history[b.replace?"replaceState":"pushState"]({},document.title,e);else if(this._wantsHashChange)this._updateHash(this.location,a,b.replace),this.iframe&&a!==this.getFragment(this.getHash(this.iframe))&&
(b.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,a,b.replace));else return this.location.assign(e);b.trigger&&this.loadUrl(a)}},_updateHash:function(a,b,e){e?(e=a.href.replace(/(javascript:|#).*$/,""),a.replace(e+"#"+b)):a.hash="#"+b}});h.history=new H;var T=h.View=function(a){this.cid=l.uniqueId("view");this._configure(a||{});this._ensureElement();this.initialize.apply(this,arguments);this.delegateEvents()},P=/^(\S+)\s*(.*)$/,W="model collection el id attributes className tagName events".split(" ");
l.extend(T.prototype,g,{tagName:"div",$:function(a){return this.$el.find(a)},initialize:function(){},render:function(){return this},remove:function(){this.$el.remove();this.stopListening();return this},setElement:function(a,b){this.$el&&this.undelegateEvents();this.$el=a instanceof h.$?a:h.$(a);this.el=this.$el[0];!1!==b&&this.delegateEvents();return this},delegateEvents:function(a){if(a||(a=l.result(this,"events"))){this.undelegateEvents();for(var b in a){var e=a[b];l.isFunction(e)||(e=this[a[b]]);
if(!e)throw Error('Method "'+a[b]+'" does not exist');var f=b.match(P),q=f[1],f=f[2],e=l.bind(e,this),q=q+(".delegateEvents"+this.cid);if(""===f)this.$el.on(q,e);else this.$el.on(q,f,e)}}},undelegateEvents:function(){this.$el.off(".delegateEvents"+this.cid)},_configure:function(a){this.options&&(a=l.extend({},l.result(this,"options"),a));l.extend(this,l.pick(a,W));this.options=a},_ensureElement:function(){if(this.el)this.setElement(l.result(this,"el"),!1);else{var a=l.extend({},l.result(this,"attributes"));
this.id&&(a.id=l.result(this,"id"));this.className&&(a["class"]=l.result(this,"className"));a=h.$("<"+l.result(this,"tagName")+">").attr(a);this.setElement(a,!1)}}});var N={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};h.sync=function(a,b,e){var f=N[a];l.defaults(e||(e={}),{emulateHTTP:h.emulateHTTP,emulateJSON:h.emulateJSON});var q={type:f,dataType:"json"};e.url||(q.url=l.result(b,"url")||O());if(null==e.data&&b&&("create"===a||"update"===a||"patch"===a))q.contentType="application/json",
q.data=JSON.stringify(e.attrs||b.toJSON(e));e.emulateJSON&&(q.contentType="application/x-www-form-urlencoded",q.data=q.data?{model:q.data}:{});if(e.emulateHTTP&&("PUT"===f||"DELETE"===f||"PATCH"===f)){q.type="POST";e.emulateJSON&&(q.data._method=f);var s=e.beforeSend;e.beforeSend=function(a){a.setRequestHeader("X-HTTP-Method-Override",f);if(s)return s.apply(this,arguments)}}"GET"!==q.type&&!e.emulateJSON&&(q.processData=!1);var u=e.success;e.success=function(a){u&&u(b,a,e);b.trigger("sync",b,a,e)};
var g=e.error;e.error=function(a){g&&g(b,a,e);b.trigger("error",b,a,e)};a=e.xhr=h.ajax(l.extend(q,e));b.trigger("request",b,a,e);return a};h.ajax=function(){return h.$.ajax.apply(h.$,arguments)};y.extend=C.extend=r.extend=T.extend=H.extend=function(a,b){var e=this,f;f=a&&l.has(a,"constructor")?a.constructor:function(){return e.apply(this,arguments)};l.extend(f,e,b);var q=function(){this.constructor=f};q.prototype=e.prototype;f.prototype=new q;a&&l.extend(f.prototype,a);f.__super__=e.prototype;return f};
var O=function(){throw Error('A "url" property or function must be specified');}}).call(this);!function(a){a(function(){var f=a.support,g;a:{g=document.createElement("bootstrap");var b={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},e;for(e in b)if(void 0!==g.style[e]){g=b[e];break a}g=void 0}f.transition=g&&{end:g}})}(window.jQuery);
!function(a){var f=function(b,e){this.options=e;this.$element=a(b).delegate('[data-dismiss="modal"]',"click.dismiss.modal",a.proxy(this.hide,this));this.options.remote&&this.$element.find(".modal-body").load(this.options.remote)};f.prototype={constructor:f,toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var b=this,e=a.Event("show");this.$element.trigger(e);!this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!0,this.escape(),this.backdrop(function(){var e=a.support.transition&&
b.$element.hasClass("fade");b.$element.parent().length||b.$element.appendTo(document.body);b.$element.show();e&&b.$element[0].offsetWidth;b.$element.addClass("in").attr("aria-hidden",!1);b.enforceFocus();e?b.$element.one(a.support.transition.end,function(){b.$element.focus().trigger("shown")}):b.$element.focus().trigger("shown")}))},hide:function(b){b&&b.preventDefault();b=a.Event("hide");this.$element.trigger(b);this.isShown&&!b.isDefaultPrevented()&&(this.isShown=!1,this.escape(),a(document).off("focusin.modal"),
this.$element.removeClass("in").attr("aria-hidden",!0),a.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal())},enforceFocus:function(){var b=this;a(document).on("focusin.modal",function(a){b.$element[0]!==a.target&&!b.$element.has(a.target).length&&b.$element.focus()})},escape:function(){var a=this;this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.modal",function(e){27==e.which&&a.hide()}):this.isShown||this.$element.off("keyup.dismiss.modal")},
hideWithTransition:function(){var b=this,e=setTimeout(function(){b.$element.off(a.support.transition.end);b.hideModal()},500);this.$element.one(a.support.transition.end,function(){clearTimeout(e);b.hideModal()})},hideModal:function(){var a=this;this.$element.hide();this.backdrop(function(){a.removeBackdrop();a.$element.trigger("hidden")})},removeBackdrop:function(){this.$backdrop.remove();this.$backdrop=null},backdrop:function(b){var e=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var f=
a.support.transition&&e;this.$backdrop=a('<div class="modal-backdrop '+e+'" />').appendTo(document.body);this.$backdrop.click("static"==this.options.backdrop?a.proxy(this.$element[0].focus,this.$element[0]):a.proxy(this.hide,this));f&&this.$backdrop[0].offsetWidth;this.$backdrop.addClass("in");b&&(f?this.$backdrop.one(a.support.transition.end,b):b())}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),a.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(a.support.transition.end,
b):b()):b&&b()}};var g=a.fn.modal;a.fn.modal=function(b){return this.each(function(){var e=a(this),q=e.data("modal"),h=a.extend({},a.fn.modal.defaults,e.data(),"object"==typeof b&&b);q||e.data("modal",q=new f(this,h));"string"==typeof b?q[b]():h.show&&q.show()})};a.fn.modal.defaults={backdrop:!0,keyboard:!0,show:!0};a.fn.modal.Constructor=f;a.fn.modal.noConflict=function(){return a.fn.modal=g,this};a(document).on("click.modal.data-api",'[data-toggle="modal"]',function(b){var e=a(this),f=e.attr("href"),
h=a(e.attr("data-target")||f&&f.replace(/.*(?=#[^\s]+$)/,"")),f=h.data("modal")?"toggle":a.extend({remote:!/#/.test(f)&&f},h.data(),e.data());b.preventDefault();h.modal(f).one("hide",function(){e.focus()})})}(window.jQuery);
!function(a){function f(){a(b).each(function(){g(a(this)).removeClass("open")})}function g(b){var e=b.attr("data-target");e||(e=b.attr("href"),e=e&&/#/.test(e)&&e.replace(/.*(?=#[^\s]*$)/,""));e=e&&a(e);if(!e||!e.length)e=b.parent();return e}var b="[data-toggle=dropdown]",e=function(b){var e=a(b).on("click.dropdown.data-api",this.toggle);a("html").on("click.dropdown.data-api",function(){e.parent().removeClass("open")})};e.prototype={constructor:e,toggle:function(b){b=a(this);var e,q;if(!b.is(".disabled, :disabled"))return e=
g(b),q=e.hasClass("open"),f(),q||e.toggleClass("open"),b.focus(),!1},keydown:function(e){var f,q,w;if(/(38|40|27)/.test(e.keyCode)&&(f=a(this),e.preventDefault(),e.stopPropagation(),!f.is(".disabled, :disabled"))){q=g(f);w=q.hasClass("open");if(!w||w&&27==e.keyCode)return 27==e.which&&q.find(b).focus(),f.click();f=a("[role=menu] li:not(.divider):visible a",q);f.length&&(q=f.index(f.filter(":focus")),38==e.keyCode&&0<q&&q--,40==e.keyCode&&q<f.length-1&&q++,~q||(q=0),f.eq(q).focus())}}};var q=a.fn.dropdown;
a.fn.dropdown=function(b){return this.each(function(){var f=a(this),q=f.data("dropdown");q||f.data("dropdown",q=new e(this));"string"==typeof b&&q[b].call(f)})};a.fn.dropdown.Constructor=e;a.fn.dropdown.noConflict=function(){return a.fn.dropdown=q,this};a(document).on("click.dropdown.data-api",f).on("click.dropdown.data-api",".dropdown form",function(a){a.stopPropagation()}).on(".dropdown-menu",function(a){a.stopPropagation()}).on("click.dropdown.data-api",b,e.prototype.toggle).on("keydown.dropdown.data-api",
b+", [role=menu]",e.prototype.keydown)}(window.jQuery);
!function(a){function f(b,e){var f=a.proxy(this.process,this),h=a(b).is("body")?a(window):a(b),l;this.options=a.extend({},a.fn.scrollspy.defaults,e);this.$scrollElement=h.on("scroll.scroll-spy.data-api",f);this.selector=(this.options.target||(l=a(b).attr("href"))&&l.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a";this.$body=a("body");this.refresh();this.process()}f.prototype={constructor:f,refresh:function(){var b=this;this.offsets=a([]);this.targets=a([]);this.$body.find(this.selector).map(function(){var e=
a(this),e=e.data("target")||e.attr("href"),f=/^#\w/.test(e)&&a(e);return f&&f.length&&[[f.position().top+(!a.isWindow(b.$scrollElement.get(0))&&b.$scrollElement.scrollTop()),e]]||null}).sort(function(a,b){return a[0]-b[0]}).each(function(){b.offsets.push(this[0]);b.targets.push(this[1])})},process:function(){var a=this.$scrollElement.scrollTop()+this.options.offset,e=(this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight)-this.$scrollElement.height(),f=this.offsets,h=this.targets,l=this.activeTarget,
g;if(a>=e)return l!=(g=h.last()[0])&&this.activate(g);for(g=f.length;g--;)l!=h[g]&&a>=f[g]&&(!f[g+1]||a<=f[g+1])&&this.activate(h[g])},activate:function(b){this.activeTarget=b;a(this.selector).parent(".active").removeClass("active");b=a(this.selector+'[data-target="'+b+'"],'+this.selector+'[href="'+b+'"]').parent("li").addClass("active");b.parent(".dropdown-menu").length&&(b=b.closest("li.dropdown").addClass("active"));b.trigger("activate")}};var g=a.fn.scrollspy;a.fn.scrollspy=function(b){return this.each(function(){var e=
a(this),q=e.data("scrollspy"),h="object"==typeof b&&b;q||e.data("scrollspy",q=new f(this,h));"string"==typeof b&&q[b]()})};a.fn.scrollspy.Constructor=f;a.fn.scrollspy.defaults={offset:10};a.fn.scrollspy.noConflict=function(){return a.fn.scrollspy=g,this};a(window).on("load",function(){a('[data-spy="scroll"]').each(function(){var b=a(this);b.scrollspy(b.data())})})}(window.jQuery);
!function(a){var f=function(b){this.element=a(b)};f.prototype={constructor:f,show:function(){var b=this.element,e=b.closest("ul:not(.dropdown-menu)"),f=b.attr("data-target"),h,l;f||(f=b.attr("href"),f=f&&f.replace(/.*(?=#[^\s]*$)/,""));b.parent("li").hasClass("active")||(h=e.find(".active:last a")[0],l=a.Event("show",{relatedTarget:h}),b.trigger(l),l.isDefaultPrevented()||(f=a(f),this.activate(b.parent("li"),e),this.activate(f,f.parent(),function(){b.trigger({type:"shown",relatedTarget:h})})))},activate:function(b,
e,f){function h(){l.removeClass("active").find("> .dropdown-menu > .active").removeClass("active");b.addClass("active");g?(b[0].offsetWidth,b.addClass("in")):b.removeClass("fade");b.parent(".dropdown-menu")&&b.closest("li.dropdown").addClass("active");f&&f()}var l=e.find("> .active"),g=f&&a.support.transition&&l.hasClass("fade");g?l.one(a.support.transition.end,h):h();l.removeClass("in")}};var g=a.fn.tab;a.fn.tab=function(b){return this.each(function(){var e=a(this),q=e.data("tab");q||e.data("tab",
q=new f(this));"string"==typeof b&&q[b]()})};a.fn.tab.Constructor=f;a.fn.tab.noConflict=function(){return a.fn.tab=g,this};a(document).on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(b){b.preventDefault();a(this).tab("show")})}(window.jQuery);
!function(a){var f=function(a,e){this.init("tooltip",a,e)};f.prototype={constructor:f,init:function(b,e,f){var h,l;this.type=b;this.$element=a(e);this.options=this.getOptions(f);this.enabled=!0;b=this.options.trigger.split(" ");for(f=b.length;f--;)e=b[f],"click"==e?this.$element.on("click."+this.type,this.options.selector,a.proxy(this.toggle,this)):"manual"!=e&&(h="hover"==e?"mouseenter":"focus",l="hover"==e?"mouseleave":"blur",this.$element.on(h+"."+this.type,this.options.selector,a.proxy(this.enter,
this)),this.$element.on(l+"."+this.type,this.options.selector,a.proxy(this.leave,this)));this.options.selector?this._options=a.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(b){return b=a.extend({},a.fn[this.type].defaults,this.$element.data(),b),b.delay&&"number"==typeof b.delay&&(b.delay={show:b.delay,hide:b.delay}),b},enter:function(b){var e=a(b.currentTarget)[this.type](this._options).data(this.type);if(!e.options.delay||!e.options.delay.show)return e.show();
clearTimeout(this.timeout);e.hoverState="in";this.timeout=setTimeout(function(){"in"==e.hoverState&&e.show()},e.options.delay.show)},leave:function(b){var e=a(b.currentTarget)[this.type](this._options).data(this.type);this.timeout&&clearTimeout(this.timeout);if(!e.options.delay||!e.options.delay.hide)return e.hide();e.hoverState="out";this.timeout=setTimeout(function(){"out"==e.hoverState&&e.hide()},e.options.delay.hide)},show:function(){var b,e,f,h,l;e=a.Event("show");if(this.hasContent()&&this.enabled&&
(this.$element.trigger(e),!e.isDefaultPrevented())){b=this.tip();this.setContent();this.options.animation&&b.addClass("fade");h="function"==typeof this.options.placement?this.options.placement.call(this,b[0],this.$element[0]):this.options.placement;b.detach().css({top:0,left:0,display:"block"});this.options.container?b.appendTo(this.options.container):b.insertAfter(this.$element);e=this.getPosition();f=b[0].offsetWidth;b=b[0].offsetHeight;switch(h){case "bottom":l={top:e.top+e.height,left:e.left+
e.width/2-f/2};break;case "top":l={top:e.top-b,left:e.left+e.width/2-f/2};break;case "left":l={top:e.top+e.height/2-b/2,left:e.left-f};break;case "right":l={top:e.top+e.height/2-b/2,left:e.left+e.width}}this.applyPlacement(l,h);this.$element.trigger("shown")}},applyPlacement:function(a,e){var f=this.tip(),h=f[0].offsetWidth,l=f[0].offsetHeight,g,w,z,y;f.offset(a).addClass(e).addClass("in");g=f[0].offsetWidth;w=f[0].offsetHeight;"top"==e&&w!=l&&(a.top=a.top+l-w,y=!0);"bottom"==e||"top"==e?(z=0,0>a.left&&
(z=-2*a.left,a.left=0,f.offset(a),g=f[0].offsetWidth),this.replaceArrow(z-h+g,g,"left")):this.replaceArrow(w-l,w,"top");y&&f.offset(a)},replaceArrow:function(a,e,f){this.arrow().css(f,a?50*(1-a/e)+"%":"")},setContent:function(){var a=this.tip(),e=this.getTitle();a.find(".tooltip-inner")[this.options.html?"html":"text"](e);a.removeClass("fade in top bottom left right")},hide:function(){function b(){var b=setTimeout(function(){e.off(a.support.transition.end).detach()},500);e.one(a.support.transition.end,
function(){clearTimeout(b);e.detach()})}var e=this.tip(),f=a.Event("hide");this.$element.trigger(f);if(!f.isDefaultPrevented())return e.removeClass("in"),a.support.transition&&this.$tip.hasClass("fade")?b():e.detach(),this.$element.trigger("hidden"),this},fixTitle:function(){var a=this.$element;(a.attr("title")||"string"!=typeof a.attr("data-original-title"))&&a.attr("data-original-title",a.attr("title")||"").attr("title","")},hasContent:function(){return this.getTitle()},getPosition:function(){var b=
this.$element[0];return a.extend({},"function"==typeof b.getBoundingClientRect?b.getBoundingClientRect():{width:b.offsetWidth,height:b.offsetHeight},this.$element.offset())},getTitle:function(){var a,e=this.$element,f=this.options;return a=e.attr("data-original-title")||("function"==typeof f.title?f.title.call(e[0]):f.title),a},tip:function(){return this.$tip=this.$tip||a(this.options.template)},arrow:function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},validate:function(){this.$element[0].parentNode||
(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(b){b=b?a(b.currentTarget)[this.type](this._options).data(this.type):this;b.tip().hasClass("in")?b.hide():b.show()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}};var g=a.fn.tooltip;a.fn.tooltip=function(b){return this.each(function(){var e=a(this),q=e.data("tooltip"),h="object"==
typeof b&&b;q||e.data("tooltip",q=new f(this,h));"string"==typeof b&&q[b]()})};a.fn.tooltip.Constructor=f;a.fn.tooltip.defaults={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1};a.fn.tooltip.noConflict=function(){return a.fn.tooltip=g,this}}(window.jQuery);
!function(a){var f=function(a,e){this.init("popover",a,e)};f.prototype=a.extend({},a.fn.tooltip.Constructor.prototype,{constructor:f,setContent:function(){var a=this.tip(),e=this.getTitle(),f=this.getContent();a.find(".popover-title")[this.options.html?"html":"text"](e);a.find(".popover-content")[this.options.html?"html":"text"](f);a.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var a,e=this.$element,f=this.options;
return a=("function"==typeof f.content?f.content.call(e[0]):f.content)||e.attr("data-content"),a},tip:function(){return this.$tip||(this.$tip=a(this.options.template)),this.$tip},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}});var g=a.fn.popover;a.fn.popover=function(b){return this.each(function(){var e=a(this),q=e.data("popover"),h="object"==typeof b&&b;q||e.data("popover",q=new f(this,h));"string"==typeof b&&q[b]()})};a.fn.popover.Constructor=f;a.fn.popover.defaults=
a.extend({},a.fn.tooltip.defaults,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'});a.fn.popover.noConflict=function(){return a.fn.popover=g,this}}(window.jQuery);
!function(a){var f=function(b,e){this.options=a.extend({},a.fn.affix.defaults,e);this.$window=a(window).on("scroll.affix.data-api",a.proxy(this.checkPosition,this)).on("click.affix.data-api",a.proxy(function(){setTimeout(a.proxy(this.checkPosition,this),1)},this));this.$element=a(b);this.checkPosition()};f.prototype.checkPosition=function(){if(this.$element.is(":visible")){var b=a(document).height(),e=this.$window.scrollTop(),f=this.$element.offset(),h=this.options.offset,l=h.bottom,g=h.top;"object"!=
typeof h&&(l=g=h);"function"==typeof g&&(g=h.top());"function"==typeof l&&(l=h.bottom());b=null!=this.unpin&&e+this.unpin<=f.top?!1:null!=l&&f.top+this.$element.height()>=b-l?"bottom":null!=g&&e<=g?"top":!1;this.affixed!==b&&(this.affixed=b,this.unpin="bottom"==b?f.top-e:null,this.$element.removeClass("affix affix-top affix-bottom").addClass("affix"+(b?"-"+b:"")))}};var g=a.fn.affix;a.fn.affix=function(b){return this.each(function(){var e=a(this),q=e.data("affix"),h="object"==typeof b&&b;q||e.data("affix",
q=new f(this,h));"string"==typeof b&&q[b]()})};a.fn.affix.Constructor=f;a.fn.affix.defaults={offset:0};a.fn.affix.noConflict=function(){return a.fn.affix=g,this};a(window).on("load",function(){a('[data-spy="affix"]').each(function(){var b=a(this),e=b.data();e.offset=e.offset||{};e.offsetBottom&&(e.offset.bottom=e.offsetBottom);e.offsetTop&&(e.offset.top=e.offsetTop);b.affix(e)})})}(window.jQuery);
!function(a){var f=function(b){a(b).on("click",'[data-dismiss="alert"]',this.close)};f.prototype.close=function(b){function e(){g.trigger("closed").remove()}var f=a(this),h=f.attr("data-target"),g;h||(h=f.attr("href"),h=h&&h.replace(/.*(?=#[^\s]*$)/,""));g=a(h);b&&b.preventDefault();g.length||(g=f.hasClass("alert")?f:f.parent());g.trigger(b=a.Event("close"));b.isDefaultPrevented()||(g.removeClass("in"),a.support.transition&&g.hasClass("fade")?g.on(a.support.transition.end,e):e())};var g=a.fn.alert;
a.fn.alert=function(b){return this.each(function(){var e=a(this),q=e.data("alert");q||e.data("alert",q=new f(this));"string"==typeof b&&q[b].call(e)})};a.fn.alert.Constructor=f;a.fn.alert.noConflict=function(){return a.fn.alert=g,this};a(document).on("click.alert.data-api",'[data-dismiss="alert"]',f.prototype.close)}(window.jQuery);
!function(a){var f=function(b,e){this.$element=a(b);this.options=a.extend({},a.fn.button.defaults,e)};f.prototype.setState=function(a){var e=this.$element,f=e.data(),h=e.is("input")?"val":"html";a+="Text";f.resetText||e.data("resetText",e[h]());e[h](f[a]||this.options[a]);setTimeout(function(){"loadingText"==a?e.addClass("disabled").attr("disabled","disabled"):e.removeClass("disabled").removeAttr("disabled")},0)};f.prototype.toggle=function(){var a=this.$element.closest('[data-toggle="buttons-radio"]');
a&&a.find(".active").removeClass("active");this.$element.toggleClass("active")};var g=a.fn.button;a.fn.button=function(b){return this.each(function(){var e=a(this),q=e.data("button"),h="object"==typeof b&&b;q||e.data("button",q=new f(this,h));"toggle"==b?q.toggle():b&&q.setState(b)})};a.fn.button.defaults={loadingText:"loading..."};a.fn.button.Constructor=f;a.fn.button.noConflict=function(){return a.fn.button=g,this};a(document).on("click.button.data-api","[data-toggle^=button]",function(b){b=a(b.target);
b.hasClass("btn")||(b=b.closest(".btn"));b.button("toggle")})}(window.jQuery);
!function(a){var f=function(b,e){this.$element=a(b);this.options=a.extend({},a.fn.collapse.defaults,e);this.options.parent&&(this.$parent=a(this.options.parent));this.options.toggle&&this.toggle()};f.prototype={constructor:f,dimension:function(){return this.$element.hasClass("width")?"width":"height"},show:function(){var b,e,f,h;if(!this.transitioning&&!this.$element.hasClass("in")){b=this.dimension();e=a.camelCase(["scroll",b].join("-"));if((f=this.$parent&&this.$parent.find("> .accordion-group > .in"))&&
f.length){if((h=f.data("collapse"))&&h.transitioning)return;f.collapse("hide");h||f.data("collapse",null)}this.$element[b](0);this.transition("addClass",a.Event("show"),"shown");a.support.transition&&this.$element[b](this.$element[0][e])}},hide:function(){var b;!this.transitioning&&this.$element.hasClass("in")&&(b=this.dimension(),this.reset(this.$element[b]()),this.transition("removeClass",a.Event("hide"),"hidden"),this.$element[b](0))},reset:function(a){var e=this.dimension();return this.$element.removeClass("collapse")[e](a||
"auto")[0].offsetWidth,this.$element[null!==a?"addClass":"removeClass"]("collapse"),this},transition:function(b,e,f){var h=this,g=function(){"show"==e.type&&h.reset();h.transitioning=0;h.$element.trigger(f)};this.$element.trigger(e);e.isDefaultPrevented()||(this.transitioning=1,this.$element[b]("in"),a.support.transition&&this.$element.hasClass("collapse")?this.$element.one(a.support.transition.end,g):g())},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}};var g=a.fn.collapse;
a.fn.collapse=function(b){return this.each(function(){var e=a(this),g=e.data("collapse"),h=a.extend({},a.fn.collapse.defaults,e.data(),"object"==typeof b&&b);g||e.data("collapse",g=new f(this,h));"string"==typeof b&&g[b]()})};a.fn.collapse.defaults={toggle:!0};a.fn.collapse.Constructor=f;a.fn.collapse.noConflict=function(){return a.fn.collapse=g,this};a(document).on("click.collapse.data-api","[data-toggle=collapse]",function(b){var e=a(this),f;b=e.attr("data-target")||b.preventDefault()||(f=e.attr("href"))&&
f.replace(/.*(?=#[^\s]+$)/,"");f=a(b).data("collapse")?"toggle":e.data();e[a(b).hasClass("in")?"addClass":"removeClass"]("collapsed");a(b).collapse(f)})}(window.jQuery);
!function(a){var f=function(b,e){this.$element=a(b);this.$indicators=this.$element.find(".carousel-indicators");this.options=e;"hover"==this.options.pause&&this.$element.on("mouseenter",a.proxy(this.pause,this)).on("mouseleave",a.proxy(this.cycle,this))};f.prototype={cycle:function(b){return b||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(a.proxy(this.next,this),this.options.interval)),this},getActiveIndex:function(){return this.$active=
this.$element.find(".item.active"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)},to:function(b){var e=this.getActiveIndex(),f=this;if(!(b>this.$items.length-1||0>b))return this.sliding?this.$element.one("slid",function(){f.to(b)}):e==b?this.pause().cycle():this.slide(b>e?"next":"prev",a(this.$items[b]))},pause:function(b){return b||(this.paused=!0),this.$element.find(".next, .prev").length&&a.support.transition.end&&(this.$element.trigger(a.support.transition.end),
this.cycle()),clearInterval(this.interval),this.interval=null,this},next:function(){if(!this.sliding)return this.slide("next")},prev:function(){if(!this.sliding)return this.slide("prev")},slide:function(b,e){var f=this.$element.find(".item.active"),h=e||f[b](),g=this.interval,x="next"==b?"left":"right",w="next"==b?"first":"last",z=this;this.sliding=!0;g&&this.pause();h=h.length?h:this.$element.find(".item")[w]();w=a.Event("slide",{relatedTarget:h[0],direction:x});if(!h.hasClass("active")){this.$indicators.length&&
(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid",function(){var b=a(z.$indicators.children()[z.getActiveIndex()]);b&&b.addClass("active")}));if(a.support.transition&&this.$element.hasClass("slide")){this.$element.trigger(w);if(w.isDefaultPrevented())return;h.addClass(b);h[0].offsetWidth;f.addClass(x);h.addClass(x);this.$element.one(a.support.transition.end,function(){h.removeClass([b,x].join(" ")).addClass("active");f.removeClass(["active",x].join(" "));z.sliding=!1;
setTimeout(function(){z.$element.trigger("slid")},0)})}else{this.$element.trigger(w);if(w.isDefaultPrevented())return;f.removeClass("active");h.addClass("active");this.sliding=!1;this.$element.trigger("slid")}return g&&this.cycle(),this}}};var g=a.fn.carousel;a.fn.carousel=function(b){return this.each(function(){var e=a(this),g=e.data("carousel"),h=a.extend({},a.fn.carousel.defaults,"object"==typeof b&&b),l="string"==typeof b?b:h.slide;g||e.data("carousel",g=new f(this,h));"number"==typeof b?g.to(b):
l?g[l]():h.interval&&g.pause().cycle()})};a.fn.carousel.defaults={interval:5E3,pause:"hover"};a.fn.carousel.Constructor=f;a.fn.carousel.noConflict=function(){return a.fn.carousel=g,this};a(document).on("click.carousel.data-api","[data-slide], [data-slide-to]",function(b){var e=a(this),f,g=a(e.attr("data-target")||(f=e.attr("href"))&&f.replace(/.*(?=#[^\s]+$)/,""));f=a.extend({},g.data(),e.data());var l;g.carousel(f);(l=e.attr("data-slide-to"))&&g.data("carousel").pause().to(l).cycle();b.preventDefault()})}(window.jQuery);
!function(a){var f=function(b,e){this.$element=a(b);this.options=a.extend({},a.fn.typeahead.defaults,e);this.matcher=this.options.matcher||this.matcher;this.sorter=this.options.sorter||this.sorter;this.highlighter=this.options.highlighter||this.highlighter;this.updater=this.options.updater||this.updater;this.source=this.options.source;this.$menu=a(this.options.menu);this.shown=!1;this.listen()};f.prototype={constructor:f,select:function(){var a=this.$menu.find(".active").attr("data-value");return this.$element.val(this.updater(a)).change(),
this.hide()},updater:function(a){return a},show:function(){var b=a.extend({},this.$element.position(),{height:this.$element[0].offsetHeight});return this.$menu.insertAfter(this.$element).css({top:b.top+b.height,left:b.left}).show(),this.shown=!0,this},hide:function(){return this.$menu.hide(),this.shown=!1,this},lookup:function(b){var e;return this.query=this.$element.val(),!this.query||this.query.length<this.options.minLength?this.shown?this.hide():this:(e=a.isFunction(this.source)?this.source(this.query,
a.proxy(this.process,this)):this.source,e?this.process(e):this)},process:function(b){var e=this;return b=a.grep(b,function(a){return e.matcher(a)}),b=this.sorter(b),b.length?this.render(b.slice(0,this.options.items)).show():this.shown?this.hide():this},matcher:function(a){return~a.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(a){for(var e=[],f=[],g=[],l;l=a.shift();)l.toLowerCase().indexOf(this.query.toLowerCase())?~l.indexOf(this.query)?f.push(l):g.push(l):e.push(l);return e.concat(f,
g)},highlighter:function(a){var e=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return a.replace(RegExp("("+e+")","ig"),function(a,b){return"<strong>"+b+"</strong>"})},render:function(b){var e=this;return b=a(b).map(function(b,f){return b=a(e.options.item).attr("data-value",f),b.find("a").html(e.highlighter(f)),b[0]}),b.first().addClass("active"),this.$menu.html(b),this},next:function(b){b=this.$menu.find(".active").removeClass("active").next();b.length||(b=a(this.$menu.find("li")[0]));
b.addClass("active")},prev:function(a){a=this.$menu.find(".active").removeClass("active").prev();a.length||(a=this.$menu.find("li").last());a.addClass("active")},listen:function(){this.$element.on("focus",a.proxy(this.focus,this)).on("blur",a.proxy(this.blur,this)).on("keypress",a.proxy(this.keypress,this)).on("keyup",a.proxy(this.keyup,this));this.eventSupported("keydown")&&this.$element.on("keydown",a.proxy(this.keydown,this));this.$menu.on("click",a.proxy(this.click,this)).on("mouseenter","li",
a.proxy(this.mouseenter,this)).on("mouseleave","li",a.proxy(this.mouseleave,this))},eventSupported:function(a){var e=a in this.$element;return e||(this.$element.setAttribute(a,"return;"),e="function"==typeof this.$element[a]),e},move:function(a){if(this.shown){switch(a.keyCode){case 9:case 13:case 27:a.preventDefault();break;case 38:a.preventDefault();this.prev();break;case 40:a.preventDefault(),this.next()}a.stopPropagation()}},keydown:function(b){this.suppressKeyPressRepeat=~a.inArray(b.keyCode,
[40,38,9,13,27]);this.move(b)},keypress:function(a){this.suppressKeyPressRepeat||this.move(a)},keyup:function(a){switch(a.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.lookup()}a.stopPropagation();a.preventDefault()},focus:function(a){this.focused=!0},blur:function(a){this.focused=!1;!this.mousedover&&this.shown&&this.hide()},click:function(a){a.stopPropagation();a.preventDefault();
this.select();this.$element.focus()},mouseenter:function(b){this.mousedover=!0;this.$menu.find(".active").removeClass("active");a(b.currentTarget).addClass("active")},mouseleave:function(a){this.mousedover=!1;!this.focused&&this.shown&&this.hide()}};var g=a.fn.typeahead;a.fn.typeahead=function(b){return this.each(function(){var e=a(this),g=e.data("typeahead"),h="object"==typeof b&&b;g||e.data("typeahead",g=new f(this,h));"string"==typeof b&&g[b]()})};a.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',
item:'<li><a href="#"></a></li>',minLength:1};a.fn.typeahead.Constructor=f;a.fn.typeahead.noConflict=function(){return a.fn.typeahead=g,this};a(document).on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(b){b=a(this);b.data("typeahead")||b.typeahead(b.data())})}(window.jQuery);var saveAs=saveAs||navigator.msSaveBlob&&navigator.msSaveBlob.bind(navigator)||function(a){var f=a.document,g=a.URL||a.webkitURL||a,b=f.createElementNS("http://www.w3.org/1999/xhtml","a"),e="download"in b,q=function(b){var e=f.createEvent("MouseEvents");return e.initMouseEvent("click",!0,!1,a,0,0,0,0,0,!1,!1,!1,!1,0,null),b.dispatchEvent(e)},h=a.webkitRequestFileSystem,l=a.requestFileSystem||h||a.mozRequestFileSystem,x=function(b){(a.setImmediate||a.setTimeout)(function(){throw b;},0)},w=0,z=[],y=
function(a,b,e){b=[].concat(b);for(var f=b.length;f--;){var g=a["on"+b[f]];if("function"==typeof g)try{g.call(a,e||a)}catch(h){x(h)}}},C=function(f,g){var r,I,x,J=this,R=f.type,s=!1,L=function(){var b=(a.URL||a.webkitURL||a).createObjectURL(f);return z.push(b),b},T=function(){y(J,["writestart","progress","write","writeend"])},P=function(){(s||!r)&&(r=L(f));I&&(I.location.href=r);J.readyState=J.DONE;T()},C=function(a){return function(){return J.readyState!==J.DONE?a.apply(this,arguments):void 0}},
N={create:!0,exclusive:!1};return J.readyState=J.INIT,g||(g="download"),e&&(r=L(f),b.href=r,b.download=g,q(b))?(J.readyState=J.DONE,T(),void 0):(a.chrome&&R&&"application/octet-stream"!==R&&(x=f.slice||f.webkitSlice,f=x.call(f,0,f.size,"application/octet-stream"),s=!0),h&&"download"!==g&&(g+=".download"),I="application/octet-stream"===R||h?a:a.open(),l?(w+=f.size,l(a.TEMPORARY,w,C(function(a){a.root.getDirectory("saved",N,C(function(a){var b=function(){a.getFile(g,N,C(function(a){a.createWriter(C(function(b){b.onwriteend=
function(b){I.location.href=a.toURL();z.push(a);J.readyState=J.DONE;y(J,"writeend",b)};b.onerror=function(){var a=b.error;a.code!==a.ABORT_ERR&&P()};["writestart","progress","write","abort"].forEach(function(a){b["on"+a]=J["on"+a]});b.write(f);J.abort=function(){b.abort();J.readyState=J.DONE};J.readyState=J.WRITING}),P)}),P)};a.getFile(g,{create:!1},C(function(a){a.remove();b()}),C(function(a){a.code===a.NOT_FOUND_ERR?b():P()}))}),P)}),P),void 0):(P(),void 0))},r=C.prototype;return r.abort=function(){this.readyState=
this.DONE;y(this,"abort")},r.readyState=r.INIT=0,r.WRITING=1,r.DONE=2,r.error=r.onwritestart=r.onprogress=r.onwrite=r.onabort=r.onerror=r.onwriteend=null,a.addEventListener("unload",function(){for(var a=z.length;a--;){var b=z[a];"string"==typeof b?g.revokeObjectURL(b):b.remove()}z.length=0},!1),function(a,b){return new C(a,b)}}(self);function prefix_to_stop_row(a){return a.slice(0,-1)+String.fromCharCode(a.slice(-1).charCodeAt(0)+1)}
function picarus_api(a,f,g){function b(a){return _.map(a,function(a,b){return b+"="+a}).join("&")}"undefined"==typeof g&&(g={});var e;g.hasOwnProperty("success")&&(e=function(a,b,e){g.success(e)});var q=new FormData;"GET"===f?(q=void 0,g.hasOwnProperty("data")&&(a+="?"+b(g.data))):g.hasOwnProperty("data")&&jQuery.each(g.data,function(a,b){q.append(a,b)});a={type:f,url:a,contentType:!1,processData:!1,data:q,success:e};g.hasOwnProperty("email")&&g.hasOwnProperty("auth")&&(a.beforeSend=function(a){a.setRequestHeader("Authorization",
"Basic "+base64.encode(g.email+":"+g.auth))});a=$.ajax(a);g.hasOwnProperty("fail")&&a.fail(function(a,b){g.fail(a)})}function encode_id(a){return base64.encode(a).replace(/\+/g,"-").replace(/\//g,"_")}function decode_id(a){return base64.decode(a.replace(/\-/g,"+").replace(/\_/g,"/"))}function picarus_api_row(a,f,g,b){picarus_api("/a1/data/"+a+"/"+f,g,b)}function picarus_api_upload(a,f){picarus_api("/a1/data/"+a,"POST",f)}
function picarus_api_test(a,f,g){function b(a,b){g.hasOwnProperty("div")&&g.div.html('<span class="label '+b+'">'+a.status+"</span><p><pre>"+g.data+"</pre></p><p><pre>"+a.getAllResponseHeaders()+"</pre></p><p><pre>"+a.responseText+"</pre></p>")}"undefined"==typeof g&&(g={});picarus_api(a,f,_.extend({},g,{success:function(a){b(a,"label-success");g.hasOwnProperty("success")&&g.success(a)},fail:function(a){b(a,"label-important");g.hasOwnProperty("fail")&&g.fail(a)},before_send:function(a){g.hasOwnProperty("div")&&
g.div.html('<span class="label warning">Running</span>')}}))}function class_key(a,f){f.html("");cur_classes=a;a=_.map(a,function(a,b){a.name=b;return a});a=_.sortBy(a,"mask_num");_.each(a,function(a){f.append($("<span>",{style:"color:rgb("+a.color[0]+","+a.color[1]+","+a.color[2]+")"}).html("&#x25A0;"));f.append(" ("+a.mask_num+") "+a.name);f.append("<br>")})}
function picarus_api_data_scanner(a,f,g,b,e){function q(a){return _.map(a,function(a){return a.join("=")}).join("&")}function h(b){var f=JSON.parse(b.responseText);b=!0;e.maxRows-=f.length;0>e.maxRows&&(f=f.slice(0,e.maxRows));if(0==w&&f.length&&"undefined"!=typeof e.first){var C=_.first(f);e.first(C.row,_.omit(C,"row"))}"undefined"!=typeof e.success&&_.each(f,function(a){x=a.row;e.success(a.row,_.omit(a,"row"))});w+=f.length;console.log(w);f.length&&0<e.maxRows&&(b=!1,C=function(){var b=_.pairs({maxRows:String(e.maxRowsIter),
excludeStart:"1"}).concat(l),b="/a1/slice/"+a+"/"+_.last(f).row+"/"+g+"?"+q(b);picarus_api(b,"GET",{success:h})},"undefined"==typeof e.resume?C():e.resume(C));b&&"undefined"!=typeof e.done&&e.done({lastRow:x,numRows:w})}"undefined"==typeof e.maxRows&&(e.maxRows=Infinity);"undefined"==typeof e.maxRowsIter&&(e.maxRowsIter=Math.min(1E4,e.maxRows));"undefined"==typeof e.maxBytes&&(e.maxBytes=1048576);var l=[["columns",_.map(b,function(a){return encode_id(a)}).join(",")]],x=void 0,w=0;"undefined"!=typeof e.filter&&
(l=l.concat([["filter",escape(e.filter)]]));b=_.pairs({maxRows:String(e.maxRowsIter)}).concat(l);picarus_api("/a1/slice/"+a+"/"+f+"/"+g+"?"+q(b),"GET",{success:h})}function picarus_api_delete_rows(a,f){picarus_api_row_action(a,function(a,b){picarus_api_row("images",a,"DELETE",{success:b})},f)}function picarus_api_modify_rows(a,f,g,b){picarus_api_row_action(a,function(a,b){var h={};h[encode_id(f)]=base64.encode(g);picarus_api_row("images",a,"PATCH",{success:b,data:h})},b)}
function picarus_api_row_action(a,f,g){function b(){h-=1;g.update(1-h/l);h||g.done()}function e(b){var e=a.pop();_.isUndefined(e)||f(e,b)}var q=20,h=a.length,l=a.length;_.isUndefined(g)&&(g={});_.isUndefined(g.maxRowsIter)||(q=g.maxRowsIter);_.isUndefined(g.update)&&(g.update=function(){});_.isUndefined(g.done)&&(g.done=function(){});h||g.done();_.each(_.range(q),function(){e(function(){for(b();a.length;)e(b)})})};this.msgpack||function(a){function f(a,e){E=0;var f=b([],a,0);return E?!1:e?q(f):f}function g(a){D="string"===typeof a?l(a):a;t=-1;return e()}function b(a,e,f){var g,h,l;if(null==e)a.push(192);else if(!1===e)a.push(194);else if(!0===e)a.push(195);else switch(typeof e){case "number":e!==e?a.push(203,255,255,255,255,255,255,255,255):Infinity===e?a.push(203,127,240,0,0,0,0,0,0):Math.floor(e)===e?0>e?-32<=e?a.push(224+e+32):-128<e?a.push(208,e+256):-32768<e?(e+=65536,a.push(209,e>>8,e&255)):-2147483648<
e?(e+=4294967296,a.push(210,e>>>24,e>>16&255,e>>8&255,e&255)):(h=Math.floor(e/4294967296),e&=4294967295,a.push(211,h>>24&255,h>>16&255,h>>8&255,h&255,e>>24&255,e>>16&255,e>>8&255,e&255)):128>e?a.push(e):256>e?a.push(204,e):65536>e?a.push(205,e>>8,e&255):4294967296>e?a.push(206,e>>>24,e>>16&255,e>>8&255,e&255):(h=Math.floor(e/4294967296),e&=4294967295,a.push(207,h>>24&255,h>>16&255,h>>8&255,h&255,e>>24&255,e>>16&255,e>>8&255,e&255)):((h=0>e)&&(e*=-1),l=Math.log(e)/0.6931471805599453+1023|0,f=e*Math.pow(2,
1075-l),e=f&4294967295,h&&(l|=2048),h=f/4294967296&1048575|l<<20,a.push(203,h>>24&255,h>>16&255,h>>8&255,h&255,e>>24&255,e>>16&255,e>>8&255,e&255));break;case "string":f=e.length;l=a.length;a.push(0);for(h=0;h<f;++h)g=e.charCodeAt(h),128>g?a.push(g&127):2048>g?a.push(g>>>6&31|192,g&63|128):65536>g&&a.push(g>>>12&15|224,g>>>6&63|128,g&63|128);g=a.length-l-1;32>g?a[l]=160+g:65536>g?a.splice(l,1,218,g>>8,g&255):4294967296>g&&a.splice(l,1,219,g>>>24,g>>16&255,g>>8&255,g&255);break;default:if(++f>=J)return E=
1,[];if(I(e)){g=e.length;16>g?a.push(144+g):65536>g?a.push(220,g>>8,g&255):4294967296>g&&a.push(221,g>>>24,g>>16&255,g>>8&255,g&255);for(h=0;h<g;++h)b(a,e[h],f)}else{l=a.length;a.push(0);g=0;for(h in e)++g,b(a,h,f),b(a,e[h],f);16>g?a[l]=128+g:65536>g?a.splice(l,1,222,g>>8,g&255):4294967296>g&&a.splice(l,1,223,g>>>24,g>>16&255,g>>8&255,g&255)}}return a}function e(){var a,b,f,g=0,h,l,r=D;b=r[++t];if(224<=b)return b-256;if(192>b){if(128>b)return b;144>b?(g=b-128,b=128):160>b?(g=b-144,b=144):(g=b-160,
b=160)}switch(b){case 192:return null;case 194:return!1;case 195:return!0;case 202:return g=16777216*r[++t]+(r[++t]<<16)+(r[++t]<<8)+r[++t],h=g>>23&255,l=g&8388607,!g||2147483648===g?0:255===h?l?NaN:Infinity:(g&2147483648?-1:1)*(l|8388608)*Math.pow(2,h-127-23);case 203:g=16777216*r[++t]+(r[++t]<<16)+(r[++t]<<8)+r[++t];b=g&2147483648;h=g>>20&2047;l=g&1048575;if(!g||2147483648===g)return t+=4,0;if(2047===h)return t+=4,l?NaN:Infinity;g=16777216*r[++t]+(r[++t]<<16)+(r[++t]<<8)+r[++t];return(b?-1:1)*((l|
1048576)*Math.pow(2,h-1023-20)+g*Math.pow(2,h-1023-52));case 207:return g=16777216*r[++t]+(r[++t]<<16)+(r[++t]<<8)+r[++t],4294967296*g+16777216*r[++t]+(r[++t]<<16)+(r[++t]<<8)+r[++t];case 206:g+=16777216*r[++t]+(r[++t]<<16);case 205:g+=r[++t]<<8;case 204:return g+r[++t];case 211:return g=r[++t],g&128?-1*(72057594037927936*(g^255)+281474976710656*(r[++t]^255)+1099511627776*(r[++t]^255)+4294967296*(r[++t]^255)+16777216*(r[++t]^255)+65536*(r[++t]^255)+256*(r[++t]^255)+(r[++t]^255)+1):72057594037927936*
g+281474976710656*r[++t]+1099511627776*r[++t]+4294967296*r[++t]+16777216*r[++t]+65536*r[++t]+256*r[++t]+r[++t];case 210:return g=16777216*r[++t]+(r[++t]<<16)+(r[++t]<<8)+r[++t],2147483648>g?g:g-4294967296;case 209:return g=(r[++t]<<8)+r[++t],32768>g?g:g-65536;case 208:return g=r[++t],128>g?g:g-256;case 219:g+=16777216*r[++t]+(r[++t]<<16);case 218:g+=(r[++t]<<8)+r[++t];case 160:h=[];b=t;for(a=b+g;b<a;)f=r[++b],h.push(f);t=b;return 10240>h.length?H.apply(null,h):q(h);case 223:g+=16777216*r[++t]+(r[++t]<<
16);case 222:g+=(r[++t]<<8)+r[++t];case 128:for(l={};g--;){a=r[++t]-160;h=[];b=t;for(a=b+a;b<a;)f=r[++b],h.push(128>f?f:224>f?(f&31)<<6|r[++b]&63:(f&15)<<12|(r[++b]&63)<<6|r[++b]&63);t=b;l[H.apply(null,h)]=e()}return l;case 221:g+=16777216*r[++t]+(r[++t]<<16);case 220:g+=(r[++t]<<8)+r[++t];case 144:for(h=[];g--;)h.push(e());return h}}function q(a){try{return H.apply(this,a)}catch(b){}for(var e=[],f=0,g=a.length,h=C;f<g;++f)e[f]=h[a[f]];return e.join("")}function h(b,e,f){function h(){if(4===H.readyState){var b,
u=H.status,r={status:u,ok:200<=u&&300>u};if(!J++){if("PUT"===w)b=r.ok?H.responseText:"";else if(r.ok){if(e.worker&&a.Worker){b=new Worker(msgpack.worker);b.onmessage=function(a){f(a.data,e,r)};b.postMessage({method:"unpack",data:H.responseText});q();return}b=z?x(H):l(H.responseText);b=g(b)}y&&y(H,e,r);f(b,e,r);q()}}}function r(a,b){if(!J++){var g={status:b||400,ok:!1};y&&y(H,e,g);f(null,e,g);q(a)}}function q(b){b&&H&&H.abort&&H.abort();t&&(clearTimeout(t),t=0);H=null;a.addEventListener&&a.removeEventListener("beforeunload",
r,!1)}var t=0,w=e.method||"GET",D=e.header||{},I=e.before,y=e.after,E=e.data||null,H=a.XMLHttpRequest?new XMLHttpRequest:a.ActiveXObject?new ActiveXObject("Microsoft.XMLHTTP"):null,J=0,u,A="GET"===w&&e.binary;try{H.onreadystatechange=h;H.open(w,b,!0);I&&I(H,e);A&&H.overrideMimeType&&H.overrideMimeType("text/plain; charset=x-user-defined");E&&H.setRequestHeader("Content-Type","application/x-www-form-urlencoded");for(u in D)H.setRequestHeader(u,D[u]);a.addEventListener&&a.addEventListener("beforeunload",
r,!1);H.send(E);t=setTimeout(function(){r(1,408)},1E3*(e.timeout||10))}catch(B){r(0,400)}}function l(a){var b=[],e=y,f=a.split(""),g=-1,h;h=f.length;for(a=h%8;a--;)++g,b[g]=e[f[g]];for(a=h>>3;a--;)b.push(e[f[++g]],e[f[++g]],e[f[++g]],e[f[++g]],e[f[++g]],e[f[++g]],e[f[++g]],e[f[++g]]);return b}function x(a){var b=[],e,f,g,h,l,r,q,t,w,D=-1,I;I=vblen(a);a=vbstr(a);f=Math.ceil(I/2);for(e=f%8;e--;)g=a.charCodeAt(++D),b.push(g&255,g>>8);for(e=f>>3;e--;)g=a.charCodeAt(++D),f=a.charCodeAt(++D),h=a.charCodeAt(++D),
l=a.charCodeAt(++D),r=a.charCodeAt(++D),q=a.charCodeAt(++D),t=a.charCodeAt(++D),w=a.charCodeAt(++D),b.push(g&255,g>>8,f&255,f>>8,h&255,h>>8,l&255,l>>8,r&255,r>>8,q&255,q>>8,t&255,t>>8,w&255,w>>8);I%2&&b.pop();return b}function w(b){var e=[],f=0,g=-1,h=b.length,l=[0,2,1][b.length%3],f=C,q=r;if(a.btoa){for(;g<h;)e.push(f[b[++g]]);return btoa(e.join(""))}for(--h;g<h;)f=b[++g]<<16|b[++g]<<8|b[++g],e.push(q[f>>18&63],q[f>>12&63],q[f>>6&63],q[f&63]);1<l&&(e[e.length-2]="=");0<l&&(e[e.length-1]="=");return e.join("")}
a.msgpack={pack:f,unpack:g,worker:"msgpack.js",upload:function(b,e,g){e.method="PUT";e.binary=!0;if(e.worker&&a.Worker){var l=new Worker(msgpack.worker);l.onmessage=function(a){e.data=a.data;h(b,e,g)};l.postMessage({method:"pack",data:e.data})}else e.data=w(f(e.data)),h(b,e,g)},download:function(a,b,e){b.method="GET";b.binary=!0;h(a,b,e)}};var z=/MSIE/.test(navigator.userAgent),y={},C={},r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),D=[],t=0,E=0,I=Array.isArray||function(a){return"[object Array]"===
Object.prototype.toString.call(a)},H=String.fromCharCode,J=512;self.importScripts&&(onmessage=function(a){"pack"===a.data.method?postMessage(w(f(a.data.data))):postMessage(g(a.data.data))});(function(){for(var a=0,b;256>a;++a)b=H(a),y[b]=a,C[a]=b;for(a=128;256>a;++a)y[H(63232+a)]=a})();z&&document.write('<script type="text/vbscript">Function vblen(b)vblen=LenB(b.responseBody)End Function\nFunction vbstr(b)vbstr=CStr(b.responseBody)+chr(0)End Function\x3c/script>')}(this);base64={PADCHAR:"=",ALPHA:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",getbyte64:function(a,f){var g=base64.ALPHA.indexOf(a.charAt(f));if(-1==g)throw"Cannot decode base64";return g},decode:function(a){a=""+a;var f=base64.getbyte64,g,b,e,q=a.length;if(0==q)return a;if(0!=q%4)throw"Cannot decode base64";g=0;a.charAt(q-1)==base64.PADCHAR&&(g=1,a.charAt(q-2)==base64.PADCHAR&&(g=2),q-=4);var h=[];for(b=0;b<q;b+=4)e=f(a,b)<<18|f(a,b+1)<<12|f(a,b+2)<<6|f(a,b+3),h.push(String.fromCharCode(e>>
16,e>>8&255,e&255));switch(g){case 1:e=f(a,b)<<18|f(a,b+1)<<12|f(a,b+2)<<6;h.push(String.fromCharCode(e>>16,e>>8&255));break;case 2:e=f(a,b)<<18|f(a,b+1)<<12,h.push(String.fromCharCode(e>>16))}return h.join("")},getbyte:function(a,f){var g=a.charCodeAt(f);if(255<g)throw"INVALID_CHARACTER_ERR: DOM Exception 5";return g},encode:function(a){if(1!=arguments.length)throw"SyntaxError: Not enough arguments";var f=base64.PADCHAR,g=base64.ALPHA,b=base64.getbyte,e,q,h=[];a=""+a;var l=a.length-a.length%3;if(0==
a.length)return a;for(e=0;e<l;e+=3)q=b(a,e)<<16|b(a,e+1)<<8|b(a,e+2),h.push(g.charAt(q>>18)),h.push(g.charAt(q>>12&63)),h.push(g.charAt(q>>6&63)),h.push(g.charAt(q&63));switch(a.length-l){case 1:q=b(a,e)<<16;h.push(g.charAt(q>>18)+g.charAt(q>>12&63)+f+f);break;case 2:q=b(a,e)<<16|b(a,e+1)<<8,h.push(g.charAt(q>>18)+g.charAt(q>>12&63)+g.charAt(q>>6&63)+f)}return h.join("")}};(function(a,f){function g(a){var b=a.length,e=k.type(a);return k.isWindow(a)?!1:1===a.nodeType&&b?!0:"array"===e||"function"!==e&&(0===b||"number"==typeof b&&0<b&&b-1 in a)}function b(a){var b=Za[a]={};return k.each(a.match(ia)||[],function(a,F){b[F]=!0}),b}function e(a,b,e,g){if(k.acceptData(a)){var U,h,l=k.expando,u="string"==typeof b,r=a.nodeType,q=r?k.cache:a,s=r?a[l]:a[l]&&l;if(s&&q[s]&&(g||q[s].data)||!u||e!==f)return s||(r?a[l]=s=ra.pop()||k.guid++:s=l),q[s]||(q[s]={},r||(q[s].toJSON=k.noop)),
("object"==typeof b||"function"==typeof b)&&(g?q[s]=k.extend(q[s],b):q[s].data=k.extend(q[s].data,b)),U=q[s],g||(U.data||(U.data={}),U=U.data),e!==f&&(U[k.camelCase(b)]=e),u?(h=U[b],null==h&&(h=U[k.camelCase(b)])):h=U,h}}function q(a,b,e){if(k.acceptData(a)){var f,g,h,u=a.nodeType,r=u?k.cache:a,q=u?a[k.expando]:k.expando;if(r[q]){if(b&&(h=e?r[q]:r[q].data)){k.isArray(b)?b=b.concat(k.map(b,k.camelCase)):b in h?b=[b]:(b=k.camelCase(b),b=b in h?[b]:b.split(" "));f=0;for(g=b.length;g>f;f++)delete h[b[f]];
if(!(e?l:k.isEmptyObject)(h))return}(e||(delete r[q].data,l(r[q])))&&(u?k.cleanData([a],!0):k.support.deleteExpando||r!=r.window?delete r[q]:r[q]=null)}}}function h(a,b,e){if(e===f&&1===a.nodeType){var g="data-"+b.replace(zb,"-$1").toLowerCase();if(e=a.getAttribute(g),"string"==typeof e){try{e="true"===e?!0:"false"===e?!1:"null"===e?null:+e+""===e?+e:Ab.test(e)?k.parseJSON(e):e}catch(U){}k.data(a,b,e)}else e=f}return e}function l(a){for(var b in a)if(("data"!==b||!k.isEmptyObject(a[b]))&&"toJSON"!==
b)return!1;return!0}function x(){return!0}function w(){return!1}function z(a,b){do a=a[b];while(a&&1!==a.nodeType);return a}function y(a,b,e){if(b=b||0,k.isFunction(b))return k.grep(a,function(a,F){return!!b.call(a,F,a)===e});if(b.nodeType)return k.grep(a,function(a){return a===b===e});if("string"==typeof b){var f=k.grep(a,function(a){return 1===a.nodeType});if(Bb.test(b))return k.filter(b,f,!e);b=k.filter(b,f)}return k.grep(a,function(a){return 0<=k.inArray(a,b)===e})}function C(a){var b=$a.split("|");
a=a.createDocumentFragment();if(a.createElement)for(;b.length;)a.createElement(b.pop());return a}function r(a){var b=a.getAttributeNode("type");return a.type=(b&&b.specified)+"/"+a.type,a}function D(a){var b=Cb.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function t(a,b){for(var e,f=0;null!=(e=a[f]);f++)k._data(e,"globalEval",!b||k._data(b[f],"globalEval"))}function E(a,b){if(1===b.nodeType&&k.hasData(a)){var e,f,g;f=k._data(a);var h=k._data(b,f),l=f.events;if(l)for(e in delete h.handle,
h.events={},l){f=0;for(g=l[e].length;g>f;f++)k.event.add(b,e,l[e][f])}h.data&&(h.data=k.extend({},h.data))}}function I(a,b){var e,g,U=0,h=typeof a.getElementsByTagName!==Z?a.getElementsByTagName(b||"*"):typeof a.querySelectorAll!==Z?a.querySelectorAll(b||"*"):f;if(!h){h=[];for(e=a.childNodes||a;null!=(g=e[U]);U++)!b||k.nodeName(g,b)?h.push(g):k.merge(h,I(g,b))}return b===f||b&&k.nodeName(a,b)?k.merge([a],h):h}function H(a){Ka.test(a.type)&&(a.defaultChecked=a.checked)}function J(a,b){if(b in a)return b;
for(var e=b.charAt(0).toUpperCase()+b.slice(1),f=b,k=ab.length;k--;)if(b=ab[k]+e,b in a)return b;return f}function R(a,b){return a=b||a,"none"===k.css(a,"display")||!k.contains(a.ownerDocument,a)}function s(a,b){for(var e,f,g,h=[],l=0,r=a.length;r>l;l++)f=a[l],f.style&&(h[l]=k._data(f,"olddisplay"),e=f.style.display,b?(h[l]||"none"!==e||(f.style.display=""),""===f.style.display&&R(f)&&(h[l]=k._data(f,"olddisplay",W(f.nodeName)))):h[l]||(g=R(f),(e&&"none"!==e||!g)&&k._data(f,"olddisplay",g?e:k.css(f,
"display"))));for(l=0;r>l;l++)f=a[l],f.style&&(b&&"none"!==f.style.display&&""!==f.style.display||(f.style.display=b?h[l]||"":"none"));return a}function L(a,b,e){return(a=Db.exec(b))?Math.max(0,a[1]-(e||0))+(a[2]||"px"):b}function T(a,b,e,f,g){b=e===(f?"border":"content")?4:"width"===b?1:0;for(var h=0;4>b;b+=2)"margin"===e&&(h+=k.css(a,e+fa[b],!0,g)),f?("content"===e&&(h-=k.css(a,"padding"+fa[b],!0,g)),"margin"!==e&&(h-=k.css(a,"border"+fa[b]+"Width",!0,g))):(h+=k.css(a,"padding"+fa[b],!0,g),"padding"!==
e&&(h+=k.css(a,"border"+fa[b]+"Width",!0,g)));return h}function P(a,b,e){var f=!0,g="width"===b?a.offsetWidth:a.offsetHeight,h=ga(a),l=k.support.boxSizing&&"border-box"===k.css(a,"boxSizing",!1,h);if(0>=g||null==g){if(g=ka(a,b,h),(0>g||null==g)&&(g=a.style[b]),Fa.test(g))return g;f=l&&(k.support.boxSizingReliable||g===a.style[b]);g=parseFloat(g)||0}return g+T(a,b,e||(l?"border":"content"),f,h)+"px"}function W(a){var b=G,e=bb[a];return e||(e=N(a,b),"none"!==e&&e||(ya=(ya||k("<iframe frameborder='0' width='0' height='0'/>").css("cssText",
"display:block !important")).appendTo(b.documentElement),b=(ya[0].contentWindow||ya[0].contentDocument).document,b.write("<!doctype html><html><body>"),b.close(),e=N(a,b),ya.detach()),bb[a]=e),e}function N(a,b){var e=k(b.createElement(a)).appendTo(b.body),f=k.css(e[0],"display");return e.remove(),f}function O(a,b,e,f){var g;if(k.isArray(b))k.each(b,function(b,K){e||Eb.test(a)?f(a,K):O(a+"["+("object"==typeof K?b:"")+"]",K,e,f)});else if(e||"object"!==k.type(b))f(a,b);else for(g in b)O(a+"["+g+"]",
b[g],e,f)}function ba(a){return function(b,e){"string"!=typeof b&&(e=b,b="*");var f,g=0,h=b.toLowerCase().match(ia)||[];if(k.isFunction(e))for(;f=h[g++];)"+"===f[0]?(f=f.slice(1)||"*",(a[f]=a[f]||[]).unshift(e)):(a[f]=a[f]||[]).push(e)}}function ta(a,b,e,g){function h(u){var q;return l[u]=!0,k.each(a[u]||[],function(a,F){var k=F(b,e,g);return"string"!=typeof k||r||l[k]?r?!(q=k):f:(b.dataTypes.unshift(k),h(k),!1)}),q}var l={},r=a===La;return h(b.dataTypes[0])||!l["*"]&&h("*")}function Y(a,b){var e,
g,h=k.ajaxSettings.flatOptions||{};for(g in b)b[g]!==f&&((h[g]?a:e||(e={}))[g]=b[g]);return e&&k.extend(!0,a,e),a}function ua(){try{return new a.XMLHttpRequest}catch(F){}}function Ea(){return setTimeout(function(){va=f}),va=k.now()}function Ja(a,b){k.each(b,function(b,e){for(var f=(za[b]||[]).concat(za["*"]),K=0,k=f.length;k>K&&!f[K].call(a,b,e);K++);})}function u(a,b,e){var f,g=0,h=Ga.length,l=k.Deferred().always(function(){delete r.elem}),r=function(){if(f)return!1;for(var b=va||Ea(),b=Math.max(0,
u.startTime+u.duration-b),e=1-(b/u.duration||0),K=0,k=u.tweens.length;k>K;K++)u.tweens[K].run(e);return l.notifyWith(a,[u,e,b]),1>e&&k?b:(l.resolveWith(a,[u]),!1)},u=l.promise({elem:a,props:k.extend({},b),opts:k.extend(!0,{specialEasing:{}},e),originalProperties:b,originalOptions:e,startTime:va||Ea(),duration:e.duration,tweens:[],createTween:function(b,e){var f=k.Tween(a,u.opts,b,e,u.opts.specialEasing[b]||u.opts.easing);return u.tweens.push(f),f},stop:function(b){var e=0,K=b?u.tweens.length:0;if(f)return this;
for(f=!0;K>e;e++)u.tweens[e].run(1);return b?l.resolveWith(a,[u,b]):l.rejectWith(a,[u,b]),this}});e=u.props;for(A(e,u.opts.specialEasing);h>g;g++)if(b=Ga[g].call(u,a,e,u.opts))return b;return Ja(u,e),k.isFunction(u.opts.start)&&u.opts.start.call(a,u),k.fx.timer(k.extend(r,{elem:a,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function A(a,b){var e,f,g,h,l;for(g in a)if(f=k.camelCase(g),h=b[f],e=a[g],k.isArray(e)&&
(h=e[1],e=a[g]=e[0]),g!==f&&(a[f]=e,delete a[g]),l=k.cssHooks[f],l&&"expand"in l)for(g in e=l.expand(e),delete a[f],e)g in a||(a[g]=e[g],b[g]=h);else b[f]=h}function B(a,b,e,f,k){return new B.prototype.init(a,b,e,f,k)}function Q(a,b){var e,f={height:a},k=0;for(b=b?1:0;4>k;k+=2-b)e=fa[k],f["margin"+e]=f["padding"+e]=a;return b&&(f.opacity=f.width=a),f}function ea(a){return k.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:!1}var S,ca,Z=typeof f,G=a.document,la=a.location,Fb=a.jQuery,Gb=
a.$,Aa={},ra=[],cb=ra.concat,Ma=ra.push,ma=ra.slice,db=ra.indexOf,Hb=Aa.toString,Ba=Aa.hasOwnProperty,Na="1.9.1".trim,k=function(a,b){return new k.fn.init(a,b,ca)},Ha=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ia=/\S+/g,Ib=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,Jb=/^(?:(<[\w\W]+>)[^>]*|#([\w-]*))$/,eb=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,Kb=/^[\],:{}\s]*$/,Lb=/(?:^|:|,)(?:\s*\[)+/g,Mb=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,Nb=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,Ob=/^-ms-/,Pb=/-([\da-z])/gi,
Qb=function(a,b){return b.toUpperCase()},aa=function(a){(G.addEventListener||"load"===a.type||"complete"===G.readyState)&&(fb(),k.ready())},fb=function(){G.addEventListener?(G.removeEventListener("DOMContentLoaded",aa,!1),a.removeEventListener("load",aa,!1)):(G.detachEvent("onreadystatechange",aa),a.detachEvent("onload",aa))};k.fn=k.prototype={jquery:"1.9.1",constructor:k,init:function(a,b,e){var g,h;if(!a)return this;if("string"==typeof a){if(g="<"===a.charAt(0)&&">"===a.charAt(a.length-1)&&3<=a.length?
[null,a,null]:Jb.exec(a),!g||!g[1]&&b)return!b||b.jquery?(b||e).find(a):this.constructor(b).find(a);if(g[1]){if(b=b instanceof k?b[0]:b,k.merge(this,k.parseHTML(g[1],b&&b.nodeType?b.ownerDocument||b:G,!0)),eb.test(g[1])&&k.isPlainObject(b))for(g in b)k.isFunction(this[g])?this[g](b[g]):this.attr(g,b[g]);return this}if(h=G.getElementById(g[2]),h&&h.parentNode){if(h.id!==g[2])return e.find(a);this.length=1;this[0]=h}return this.context=G,this.selector=a,this}return a.nodeType?(this.context=this[0]=
a,this.length=1,this):k.isFunction(a)?e.ready(a):(a.selector!==f&&(this.selector=a.selector,this.context=a.context),k.makeArray(a,this))},selector:"",length:0,size:function(){return this.length},toArray:function(){return ma.call(this)},get:function(a){return null==a?this.toArray():0>a?this[this.length+a]:this[a]},pushStack:function(a){a=k.merge(this.constructor(),a);return a.prevObject=this,a.context=this.context,a},each:function(a,b){return k.each(this,a,b)},ready:function(a){return k.ready.promise().done(a),
this},slice:function(){return this.pushStack(ma.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length;a=+a+(0>a?b:0);return this.pushStack(0<=a&&b>a?[this[a]]:[])},map:function(a){return this.pushStack(k.map(this,function(b,e){return a.call(b,e,b)}))},end:function(){return this.prevObject||this.constructor(null)},push:Ma,sort:[].sort,splice:[].splice};k.fn.init.prototype=k.fn;k.extend=k.fn.extend=function(){var a,b,e,g,h,l,
u=arguments[0]||{},r=1,q=arguments.length,s=!1;"boolean"==typeof u&&(s=u,u=arguments[1]||{},r=2);"object"==typeof u||k.isFunction(u)||(u={});for(q===r&&(u=this,--r);q>r;r++)if(null!=(h=arguments[r]))for(g in h)a=u[g],e=h[g],u!==e&&(s&&e&&(k.isPlainObject(e)||(b=k.isArray(e)))?(b?(b=!1,l=a&&k.isArray(a)?a:[]):l=a&&k.isPlainObject(a)?a:{},u[g]=k.extend(s,l,e)):e!==f&&(u[g]=e));return u};k.extend({noConflict:function(b){return a.$===k&&(a.$=Gb),b&&a.jQuery===k&&(a.jQuery=Fb),k},isReady:!1,readyWait:1,
holdReady:function(a){a?k.readyWait++:k.ready(!0)},ready:function(a){if(!0===a?!--k.readyWait:!k.isReady){if(!G.body)return setTimeout(k.ready);k.isReady=!0;!0!==a&&0<--k.readyWait||(S.resolveWith(G,[k]),k.fn.trigger&&k(G).trigger("ready").off("ready"))}},isFunction:function(a){return"function"===k.type(a)},isArray:Array.isArray||function(a){return"array"===k.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},type:function(a){return null==
a?a+"":"object"==typeof a||"function"==typeof a?Aa[Hb.call(a)]||"object":typeof a},isPlainObject:function(a){if(!a||"object"!==k.type(a)||a.nodeType||k.isWindow(a))return!1;try{if(a.constructor&&!Ba.call(a,"constructor")&&!Ba.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(b){return!1}for(var e in a);return e===f||Ba.call(a,e)},isEmptyObject:function(a){for(var b in a)return!1;return!0},error:function(a){throw Error(a);},parseHTML:function(a,b,e){if(!a||"string"!=typeof a)return null;
"boolean"==typeof b&&(e=b,b=!1);b=b||G;var f=eb.exec(a);e=!e&&[];return f?[b.createElement(f[1])]:(f=k.buildFragment([a],b,e),e&&k(e).remove(),k.merge([],f.childNodes))},parseJSON:function(b){return a.JSON&&a.JSON.parse?a.JSON.parse(b):null===b?b:"string"==typeof b&&(b=k.trim(b),b&&Kb.test(b.replace(Mb,"@").replace(Nb,"]").replace(Lb,"")))?Function("return "+b)():(k.error("Invalid JSON: "+b),f)},parseXML:function(b){var e,g;if(!b||"string"!=typeof b)return null;try{a.DOMParser?(g=new DOMParser,e=
g.parseFromString(b,"text/xml")):(e=new ActiveXObject("Microsoft.XMLDOM"),e.async="false",e.loadXML(b))}catch(h){e=f}return e&&e.documentElement&&!e.getElementsByTagName("parsererror").length||k.error("Invalid XML: "+b),e},noop:function(){},globalEval:function(b){b&&k.trim(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(Ob,"ms-").replace(Pb,Qb)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,e){var f,
k=0,h=a.length,l=g(a);if(e)if(l)for(;h>k&&!(f=b.apply(a[k],e),!1===f);k++);else for(k in a){if(f=b.apply(a[k],e),!1===f)break}else if(l)for(;h>k&&!(f=b.call(a[k],k,a[k]),!1===f);k++);else for(k in a)if(f=b.call(a[k],k,a[k]),!1===f)break;return a},trim:Na&&!Na.call("\ufeff\u00a0")?function(a){return null==a?"":Na.call(a)}:function(a){return null==a?"":(a+"").replace(Ib,"")},makeArray:function(a,b){var e=b||[];return null!=a&&(g(Object(a))?k.merge(e,"string"==typeof a?[a]:a):Ma.call(e,a)),e},inArray:function(a,
b,e){var f;if(b){if(db)return db.call(b,a,e);f=b.length;for(e=e?0>e?Math.max(0,f+e):e:0;f>e;e++)if(e in b&&b[e]===a)return e}return-1},merge:function(a,b){var e=b.length,k=a.length,g=0;if("number"==typeof e)for(;e>g;g++)a[k++]=b[g];else for(;b[g]!==f;)a[k++]=b[g++];return a.length=k,a},grep:function(a,b,e){var f,k=[],g=0,h=a.length;for(e=!!e;h>g;g++)f=!!b(a[g],g),e!==f&&k.push(a[g]);return k},map:function(a,b,e){var f,k=0,h=a.length,l=[];if(g(a))for(;h>k;k++)f=b(a[k],k,e),null!=f&&(l[l.length]=f);
else for(k in a)f=b(a[k],k,e),null!=f&&(l[l.length]=f);return cb.apply([],l)},guid:1,proxy:function(a,b){var e,g,h;return"string"==typeof b&&(h=a[b],b=a,a=h),k.isFunction(a)?(e=ma.call(arguments,2),g=function(){return a.apply(b||this,e.concat(ma.call(arguments)))},g.guid=a.guid=a.guid||k.guid++,g):f},access:function(a,b,e,g,h,l,u){var r=0,q=a.length,s=null==e;if("object"===k.type(e))for(r in h=!0,e)k.access(a,b,r,e[r],!0,l,u);else if(g!==f&&(h=!0,k.isFunction(g)||(u=!0),s&&(u?(b.call(a,g),b=null):
(s=b,b=function(a,b,e){return s.call(k(a),e)})),b))for(;q>r;r++)b(a[r],e,u?g:g.call(a[r],r,b(a[r],e)));return h?a:s?b.call(a):q?b(a[0],e):l},now:function(){return(new Date).getTime()}});k.ready.promise=function(b){if(!S)if(S=k.Deferred(),"complete"===G.readyState)setTimeout(k.ready);else if(G.addEventListener)G.addEventListener("DOMContentLoaded",aa,!1),a.addEventListener("load",aa,!1);else{G.attachEvent("onreadystatechange",aa);a.attachEvent("onload",aa);var e=!1;try{e=null==a.frameElement&&G.documentElement}catch(f){}e&&
e.doScroll&&function U(){if(!k.isReady){try{e.doScroll("left")}catch(a){return setTimeout(U,50)}fb();k.ready()}}()}return S.promise(b)};k.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){Aa["[object "+b+"]"]=b.toLowerCase()});ca=k(G);var Za={};k.Callbacks=function(a){a="string"==typeof a?Za[a]||b(a):k.extend({},a);var e,g,h,l,u,r,q=[],s=!a.once&&[],A=function(b){g=a.memory&&b;h=!0;u=r||0;r=0;l=q.length;for(e=!0;q&&l>u;u++)if(!1===q[u].apply(b[0],b[1])&&
a.stopOnFalse){g=!1;break}e=!1;q&&(s?s.length&&A(s.shift()):g?q=[]:B.disable())},B={add:function(){if(q){var b=q.length;(function Rb(b){k.each(b,function(b,e){var f=k.type(e);"function"===f?a.unique&&B.has(e)||q.push(e):e&&e.length&&"string"!==f&&Rb(e)})})(arguments);e?l=q.length:g&&(r=b,A(g))}return this},remove:function(){return q&&k.each(arguments,function(a,b){for(var F;-1<(F=k.inArray(b,q,F));)q.splice(F,1),e&&(l>=F&&l--,u>=F&&u--)}),this},has:function(a){return a?-1<k.inArray(a,q):!(!q||!q.length)},
empty:function(){return q=[],this},disable:function(){return q=s=g=f,this},disabled:function(){return!q},lock:function(){return s=f,g||B.disable(),this},locked:function(){return!s},fireWith:function(a,b){return b=b||[],b=[a,b.slice?b.slice():b],!q||h&&!s||(e?s.push(b):A(b)),this},fire:function(){return B.fireWith(this,arguments),this},fired:function(){return!!h}};return B};k.extend({Deferred:function(a){var b=[["resolve","done",k.Callbacks("once memory"),"resolved"],["reject","fail",k.Callbacks("once memory"),
"rejected"],["notify","progress",k.Callbacks("memory")]],e="pending",f={state:function(){return e},always:function(){return g.done(arguments).fail(arguments),this},then:function(){var a=arguments;return k.Deferred(function(e){k.each(b,function(b,F){var K=F[0],h=k.isFunction(a[b])&&a[b];g[F[1]](function(){var a=h&&h.apply(this,arguments);a&&k.isFunction(a.promise)?a.promise().done(e.resolve).fail(e.reject).progress(e.notify):e[K+"With"](this===f?e.promise():this,h?[a]:arguments)})});a=null}).promise()},
promise:function(a){return null!=a?k.extend(a,f):f}},g={};return f.pipe=f.then,k.each(b,function(a,F){var k=F[2],h=F[3];f[F[1]]=k.add;h&&k.add(function(){e=h},b[1^a][2].disable,b[2][2].lock);g[F[0]]=function(){return g[F[0]+"With"](this===g?f:this,arguments),this};g[F[0]+"With"]=k.fireWith}),f.promise(g),a&&a.call(g,g),g},when:function(a){var b=0,e=ma.call(arguments),f=e.length,g=1!==f||a&&k.isFunction(a.promise)?f:0,h=1===g?a:k.Deferred(),l=function(a,b,e){return function(F){b[a]=this;e[a]=1<arguments.length?
ma.call(arguments):F;e===u?h.notifyWith(b,e):--g||h.resolveWith(b,e)}},u,r,q;if(1<f){u=Array(f);r=Array(f);for(q=Array(f);f>b;b++)e[b]&&k.isFunction(e[b].promise)?e[b].promise().done(l(b,q,e)).fail(h.reject).progress(l(b,r,u)):--g}return g||h.resolveWith(q,e),h.promise()}});k.support=function(){var b,e,f,g,h,l,u,r=G.createElement("div");if(r.setAttribute("className","t"),r.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",e=r.getElementsByTagName("*"),f=r.getElementsByTagName("a")[0],
!e||!f||!e.length)return{};g=G.createElement("select");h=g.appendChild(G.createElement("option"));e=r.getElementsByTagName("input")[0];f.style.cssText="top:1px;float:left;opacity:.5";b={getSetAttribute:"t"!==r.className,leadingWhitespace:3===r.firstChild.nodeType,tbody:!r.getElementsByTagName("tbody").length,htmlSerialize:!!r.getElementsByTagName("link").length,style:/top/.test(f.getAttribute("style")),hrefNormalized:"/a"===f.getAttribute("href"),opacity:/^0.5/.test(f.style.opacity),cssFloat:!!f.style.cssFloat,
checkOn:!!e.value,optSelected:h.selected,enctype:!!G.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==G.createElement("nav").cloneNode(!0).outerHTML,boxModel:"CSS1Compat"===G.compatMode,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1};e.checked=!0;b.noCloneChecked=e.cloneNode(!0).checked;g.disabled=!0;b.optDisabled=!h.disabled;try{delete r.test}catch(q){b.deleteExpando=!1}e=G.createElement("input");
e.setAttribute("value","");b.input=""===e.getAttribute("value");e.value="t";e.setAttribute("type","radio");b.radioValue="t"===e.value;e.setAttribute("checked","t");e.setAttribute("name","t");f=G.createDocumentFragment();f.appendChild(e);b.appendChecked=e.checked;b.checkClone=f.cloneNode(!0).cloneNode(!0).lastChild.checked;r.attachEvent&&(r.attachEvent("onclick",function(){b.noCloneEvent=!1}),r.cloneNode(!0).click());for(u in{submit:!0,change:!0,focusin:!0})r.setAttribute(f="on"+u,"t"),b[u+"Bubbles"]=
f in a||!1===r.attributes[f].expando;return r.style.backgroundClip="content-box",r.cloneNode(!0).style.backgroundClip="",b.clearCloneStyle="content-box"===r.style.backgroundClip,k(function(){var e,f,k,g=G.getElementsByTagName("body")[0];g&&(e=G.createElement("div"),e.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",g.appendChild(e).appendChild(r),r.innerHTML="<table><tr><td></td><td>t</td></tr></table>",k=r.getElementsByTagName("td"),k[0].style.cssText=
"padding:0;margin:0;border:0;display:none",l=0===k[0].offsetHeight,k[0].style.display="",k[1].style.display="none",b.reliableHiddenOffsets=l&&0===k[0].offsetHeight,r.innerHTML="",r.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",b.boxSizing=4===r.offsetWidth,b.doesNotIncludeMarginInBodyOffset=1!==g.offsetTop,a.getComputedStyle&&(b.pixelPosition="1%"!==(a.getComputedStyle(r,
null)||{}).top,b.boxSizingReliable="4px"===(a.getComputedStyle(r,null)||{width:"4px"}).width,f=r.appendChild(G.createElement("div")),f.style.cssText=r.style.cssText="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",f.style.marginRight=f.style.width="0",r.style.width="1px",b.reliableMarginRight=!parseFloat((a.getComputedStyle(f,null)||{}).marginRight)),typeof r.style.zoom!==Z&&(r.innerHTML="",r.style.cssText="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;width:1px;padding:1px;display:inline;zoom:1",
b.inlineBlockNeedsLayout=3===r.offsetWidth,r.style.display="block",r.innerHTML="<div></div>",r.firstChild.style.width="5px",b.shrinkWrapBlocks=3!==r.offsetWidth,b.inlineBlockNeedsLayout&&(g.style.zoom=1)),g.removeChild(e),r=null)}),e=g=f=h=f=e=null,b}();var Ab=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,zb=/([A-Z])/g;k.extend({cache:{},expando:"jQuery"+("1.9.1"+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(a){return a=a.nodeType?
k.cache[a[k.expando]]:a[k.expando],!!a&&!l(a)},data:function(a,b,f){return e(a,b,f)},removeData:function(a,b){return q(a,b)},_data:function(a,b,f){return e(a,b,f,!0)},_removeData:function(a,b){return q(a,b,!0)},acceptData:function(a){if(a.nodeType&&1!==a.nodeType&&9!==a.nodeType)return!1;var b=a.nodeName&&k.noData[a.nodeName.toLowerCase()];return!b||!0!==b&&a.getAttribute("classid")===b}});k.fn.extend({data:function(a,b){var e,g,l=this[0],r=0,u=null;if(a===f){if(this.length&&(u=k.data(l),1===l.nodeType&&
!k._data(l,"parsedAttrs"))){for(e=l.attributes;e.length>r;r++)g=e[r].name,g.indexOf("data-")||(g=k.camelCase(g.slice(5)),h(l,g,u[g]));k._data(l,"parsedAttrs",!0)}return u}return"object"==typeof a?this.each(function(){k.data(this,a)}):k.access(this,function(b){return b===f?l?h(l,a,k.data(l,a)):null:(this.each(function(){k.data(this,a,b)}),f)},null,b,1<arguments.length,null,!0)},removeData:function(a){return this.each(function(){k.removeData(this,a)})}});k.extend({queue:function(a,b,e){var g;return a?
(b=(b||"fx")+"queue",g=k._data(a,b),e&&(!g||k.isArray(e)?g=k._data(a,b,k.makeArray(e)):g.push(e)),g||[]):f},dequeue:function(a,b){b=b||"fx";var e=k.queue(a,b),f=e.length,g=e.shift(),h=k._queueHooks(a,b),l=function(){k.dequeue(a,b)};"inprogress"===g&&(g=e.shift(),f--);(h.cur=g)&&("fx"===b&&e.unshift("inprogress"),delete h.stop,g.call(a,l,h));!f&&h&&h.empty.fire()},_queueHooks:function(a,b){var e=b+"queueHooks";return k._data(a,e)||k._data(a,e,{empty:k.Callbacks("once memory").add(function(){k._removeData(a,
b+"queue");k._removeData(a,e)})})}});k.fn.extend({queue:function(a,b){var e=2;return"string"!=typeof a&&(b=a,a="fx",e--),e>arguments.length?k.queue(this[0],a):b===f?this:this.each(function(){var e=k.queue(this,a,b);k._queueHooks(this,a);"fx"===a&&"inprogress"!==e[0]&&k.dequeue(this,a)})},dequeue:function(a){return this.each(function(){k.dequeue(this,a)})},delay:function(a,b){return a=k.fx?k.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,e){var f=setTimeout(b,a);e.stop=function(){clearTimeout(f)}})},
clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var e,g=1,h=k.Deferred(),l=this,r=this.length,u=function(){--g||h.resolveWith(l,[l])};"string"!=typeof a&&(b=a,a=f);for(a=a||"fx";r--;)(e=k._data(l[r],a+"queueHooks"))&&e.empty&&(g++,e.empty.add(u));return u(),h.promise(b)}});var na,gb,Oa=/[\t\r\n]/g,Sb=/\r/g,Tb=/^(?:input|select|textarea|button|object)$/i,Ub=/^(?:a|area)$/i,hb=/^(?:checked|selected|autofocus|autoplay|async|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped)$/i,
Pa=/^(?:checked|selected)$/i,ja=k.support.getSetAttribute,Qa=k.support.input;k.fn.extend({attr:function(a,b){return k.access(this,k.attr,a,b,1<arguments.length)},removeAttr:function(a){return this.each(function(){k.removeAttr(this,a)})},prop:function(a,b){return k.access(this,k.prop,a,b,1<arguments.length)},removeProp:function(a){return a=k.propFix[a]||a,this.each(function(){try{this[a]=f,delete this[a]}catch(b){}})},addClass:function(a){var b,e,f,g,h,l=0,r=this.length;b="string"==typeof a&&a;if(k.isFunction(a))return this.each(function(b){k(this).addClass(a.call(this,
b,this.className))});if(b)for(b=(a||"").match(ia)||[];r>l;l++)if(e=this[l],f=1===e.nodeType&&(e.className?(" "+e.className+" ").replace(Oa," "):" ")){for(h=0;g=b[h++];)0>f.indexOf(" "+g+" ")&&(f+=g+" ");e.className=k.trim(f)}return this},removeClass:function(a){var b,e,f,g,h,l=0,r=this.length;b=0===arguments.length||"string"==typeof a&&a;if(k.isFunction(a))return this.each(function(b){k(this).removeClass(a.call(this,b,this.className))});if(b)for(b=(a||"").match(ia)||[];r>l;l++)if(e=this[l],f=1===
e.nodeType&&(e.className?(" "+e.className+" ").replace(Oa," "):"")){for(h=0;g=b[h++];)for(;0<=f.indexOf(" "+g+" ");)f=f.replace(" "+g+" "," ");e.className=a?k.trim(f):""}return this},toggleClass:function(a,b){var e=typeof a,f="boolean"==typeof b;return k.isFunction(a)?this.each(function(e){k(this).toggleClass(a.call(this,e,this.className,b),b)}):this.each(function(){if("string"===e)for(var g,h=0,l=k(this),r=b,u=a.match(ia)||[];g=u[h++];)r=f?r:!l.hasClass(g),l[r?"addClass":"removeClass"](g);else(e===
Z||"boolean"===e)&&(this.className&&k._data(this,"__className__",this.className),this.className=this.className||!1===a?"":k._data(this,"__className__")||"")})},hasClass:function(a){a=" "+a+" ";for(var b=0,e=this.length;e>b;b++)if(1===this[b].nodeType&&0<=(" "+this[b].className+" ").replace(Oa," ").indexOf(a))return!0;return!1},val:function(a){var b,e,g,h=this[0];if(arguments.length)return g=k.isFunction(a),this.each(function(b){var h,K=k(this);1===this.nodeType&&(h=g?a.call(this,b,K.val()):a,null==
h?h="":"number"==typeof h?h+="":k.isArray(h)&&(h=k.map(h,function(a){return null==a?"":a+""})),e=k.valHooks[this.type]||k.valHooks[this.nodeName.toLowerCase()],e&&"set"in e&&e.set(this,h,"value")!==f||(this.value=h))});if(h)return e=k.valHooks[h.type]||k.valHooks[h.nodeName.toLowerCase()],e&&"get"in e&&(b=e.get(h,"value"))!==f?b:(b=h.value,"string"==typeof b?b.replace(Sb,""):null==b?"":b)}});k.extend({valHooks:{option:{get:function(a){var b=a.attributes.value;return!b||b.specified?a.value:a.text}},
select:{get:function(a){for(var b,e=a.options,f=a.selectedIndex,g="select-one"===a.type||0>f,h=g?null:[],l=g?f+1:e.length,r=0>f?l:g?f:0;l>r;r++)if(b=e[r],!(!b.selected&&r!==f||(k.support.optDisabled?b.disabled:null!==b.getAttribute("disabled"))||b.parentNode.disabled&&k.nodeName(b.parentNode,"optgroup"))){if(a=k(b).val(),g)return a;h.push(a)}return h},set:function(a,b){var e=k.makeArray(b);return k(a).find("option").each(function(){this.selected=0<=k.inArray(k(this).val(),e)}),e.length||(a.selectedIndex=
-1),e}}},attr:function(a,b,e){var g,h,l,r=a.nodeType;if(a&&3!==r&&8!==r&&2!==r)return typeof a.getAttribute===Z?k.prop(a,b,e):(h=1!==r||!k.isXMLDoc(a),h&&(b=b.toLowerCase(),g=k.attrHooks[b]||(hb.test(b)?gb:na)),e===f?g&&h&&"get"in g&&null!==(l=g.get(a,b))?l:(typeof a.getAttribute!==Z&&(l=a.getAttribute(b)),null==l?f:l):null!==e?g&&h&&"set"in g&&(l=g.set(a,e,b))!==f?l:(a.setAttribute(b,e+""),e):(k.removeAttr(a,b),f))},removeAttr:function(a,b){var e,f,g=0,h=b&&b.match(ia);if(h&&1===a.nodeType)for(;e=
h[g++];)f=k.propFix[e]||e,hb.test(e)?!ja&&Pa.test(e)?a[k.camelCase("default-"+e)]=a[f]=!1:a[f]=!1:k.attr(a,e,""),a.removeAttribute(ja?e:f)},attrHooks:{type:{set:function(a,b){if(!k.support.radioValue&&"radio"===b&&k.nodeName(a,"input")){var e=a.value;return a.setAttribute("type",b),e&&(a.value=e),b}}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",
frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(a,b,e){var g,h,l,r=a.nodeType;if(a&&3!==r&&8!==r&&2!==r)return l=1!==r||!k.isXMLDoc(a),l&&(b=k.propFix[b]||b,h=k.propHooks[b]),e!==f?h&&"set"in h&&(g=h.set(a,e,b))!==f?g:a[b]=e:h&&"get"in h&&null!==(g=h.get(a,b))?g:a[b]},propHooks:{tabIndex:{get:function(a){var b=a.getAttributeNode("tabindex");return b&&b.specified?parseInt(b.value,10):Tb.test(a.nodeName)||Ub.test(a.nodeName)&&a.href?0:f}}}});gb={get:function(a,b){var e=k.prop(a,
b),g="boolean"==typeof e&&a.getAttribute(b);return(e="boolean"==typeof e?Qa&&ja?null!=g:Pa.test(b)?a[k.camelCase("default-"+b)]:!!g:a.getAttributeNode(b))&&!1!==e.value?b.toLowerCase():f},set:function(a,b,e){return!1===b?k.removeAttr(a,e):Qa&&ja||!Pa.test(e)?a.setAttribute(!ja&&k.propFix[e]||e,e):a[k.camelCase("default-"+e)]=a[e]=!0,e}};Qa&&ja||(k.attrHooks.value={get:function(a,b){var e=a.getAttributeNode(b);return k.nodeName(a,"input")?a.defaultValue:e&&e.specified?e.value:f},set:function(a,b,e){return k.nodeName(a,
"input")?(a.defaultValue=b,f):na&&na.set(a,b,e)}});ja||(na=k.valHooks.button={get:function(a,b){var e=a.getAttributeNode(b);return e&&("id"===b||"name"===b||"coords"===b?""!==e.value:e.specified)?e.value:f},set:function(a,b,e){var k=a.getAttributeNode(e);return k||a.setAttributeNode(k=a.ownerDocument.createAttribute(e)),k.value=b+="","value"===e||b===a.getAttribute(e)?b:f}},k.attrHooks.contenteditable={get:na.get,set:function(a,b,e){na.set(a,""===b?!1:b,e)}},k.each(["width","height"],function(a,b){k.attrHooks[b]=
k.extend(k.attrHooks[b],{set:function(a,e){return""===e?(a.setAttribute(b,"auto"),e):f}})}));k.support.hrefNormalized||(k.each(["href","src","width","height"],function(a,b){k.attrHooks[b]=k.extend(k.attrHooks[b],{get:function(a){a=a.getAttribute(b,2);return null==a?f:a}})}),k.each(["href","src"],function(a,b){k.propHooks[b]={get:function(a){return a.getAttribute(b,4)}}}));k.support.style||(k.attrHooks.style={get:function(a){return a.style.cssText||f},set:function(a,b){return a.style.cssText=b+""}});
k.support.optSelected||(k.propHooks.selected=k.extend(k.propHooks.selected,{get:function(a){a=a.parentNode;return a&&(a.selectedIndex,a.parentNode&&a.parentNode.selectedIndex),null}}));k.support.enctype||(k.propFix.enctype="encoding");k.support.checkOn||k.each(["radio","checkbox"],function(){k.valHooks[this]={get:function(a){return null===a.getAttribute("value")?"on":a.value}}});k.each(["radio","checkbox"],function(){k.valHooks[this]=k.extend(k.valHooks[this],{set:function(a,b){return k.isArray(b)?
a.checked=0<=k.inArray(k(a).val(),b):f}})});var Ra=/^(?:input|select|textarea)$/i,Vb=/^key/,Wb=/^(?:mouse|contextmenu)|click/,ib=/^(?:focusinfocus|focusoutblur)$/,jb=/^([^.]*)(?:\.(.+)|)$/;k.event={global:{},add:function(a,b,e,g,h){var l,r,u,q,s,A,B,t,w;if(u=k._data(a)){e.handler&&(q=e,e=q.handler,h=q.selector);e.guid||(e.guid=k.guid++);(r=u.events)||(r=u.events={});(s=u.handle)||(s=u.handle=function(a){return typeof k===Z||a&&k.event.triggered===a.type?f:k.event.dispatch.apply(s.elem,arguments)},
s.elem=a);b=(b||"").match(ia)||[""];for(u=b.length;u--;)l=jb.exec(b[u])||[],t=A=l[1],w=(l[2]||"").split(".").sort(),l=k.event.special[t]||{},t=(h?l.delegateType:l.bindType)||t,l=k.event.special[t]||{},A=k.extend({type:t,origType:A,data:g,handler:e,guid:e.guid,selector:h,needsContext:h&&k.expr.match.needsContext.test(h),namespace:w.join(".")},q),(B=r[t])||(B=r[t]=[],B.delegateCount=0,l.setup&&!1!==l.setup.call(a,g,w,s)||(a.addEventListener?a.addEventListener(t,s,!1):a.attachEvent&&a.attachEvent("on"+
t,s))),l.add&&(l.add.call(a,A),A.handler.guid||(A.handler.guid=e.guid)),h?B.splice(B.delegateCount++,0,A):B.push(A),k.event.global[t]=!0;a=null}},remove:function(a,b,e,f,g){var h,l,r,u,q,s,A,B,t,w,D,I=k.hasData(a)&&k._data(a);if(I&&(s=I.events)){b=(b||"").match(ia)||[""];for(q=b.length;q--;)if(r=jb.exec(b[q])||[],t=D=r[1],w=(r[2]||"").split(".").sort(),t){A=k.event.special[t]||{};t=(f?A.delegateType:A.bindType)||t;B=s[t]||[];r=r[2]&&RegExp("(^|\\.)"+w.join("\\.(?:.*\\.|)")+"(\\.|$)");for(u=h=B.length;h--;)l=
B[h],!g&&D!==l.origType||e&&e.guid!==l.guid||r&&!r.test(l.namespace)||f&&f!==l.selector&&("**"!==f||!l.selector)||(B.splice(h,1),l.selector&&B.delegateCount--,A.remove&&A.remove.call(a,l));u&&!B.length&&(A.teardown&&!1!==A.teardown.call(a,w,I.handle)||k.removeEvent(a,t,I.handle),delete s[t])}else for(t in s)k.event.remove(a,t+b[q],e,f,!0);k.isEmptyObject(s)&&(delete I.handle,k._removeData(a,"events"))}},trigger:function(b,e,g,h){var l,r,u,q,s,A,B=[g||G],t=Ba.call(b,"type")?b.type:b;A=Ba.call(b,"namespace")?
b.namespace.split("."):[];if(u=l=g=g||G,3!==g.nodeType&&8!==g.nodeType&&!ib.test(t+k.event.triggered)&&(0<=t.indexOf(".")&&(A=t.split("."),t=A.shift(),A.sort()),r=0>t.indexOf(":")&&"on"+t,b=b[k.expando]?b:new k.Event(t,"object"==typeof b&&b),b.isTrigger=!0,b.namespace=A.join("."),b.namespace_re=b.namespace?RegExp("(^|\\.)"+A.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=f,b.target||(b.target=g),e=null==e?[b]:k.makeArray(e,[b]),s=k.event.special[t]||{},h||!s.trigger||!1!==s.trigger.apply(g,e))){if(!h&&
!s.noBubble&&!k.isWindow(g)){q=s.delegateType||t;for(ib.test(q+t)||(u=u.parentNode);u;u=u.parentNode)B.push(u),l=u;l===(g.ownerDocument||G)&&B.push(l.defaultView||l.parentWindow||a)}for(A=0;(u=B[A++])&&!b.isPropagationStopped();)b.type=1<A?q:s.bindType||t,(l=(k._data(u,"events")||{})[b.type]&&k._data(u,"handle"))&&l.apply(u,e),(l=r&&u[r])&&k.acceptData(u)&&l.apply&&!1===l.apply(u,e)&&b.preventDefault();if(b.type=t,!(h||b.isDefaultPrevented()||s._default&&!1!==s._default.apply(g.ownerDocument,e)||
"click"===t&&k.nodeName(g,"a")||!k.acceptData(g)||!r||!g[t]||k.isWindow(g))){(l=g[r])&&(g[r]=null);k.event.triggered=t;try{g[t]()}catch(w){}k.event.triggered=f;l&&(g[r]=l)}return b.result}},dispatch:function(a){a=k.event.fix(a);var b,e,g,h,l,r=[],u=ma.call(arguments);b=(k._data(this,"events")||{})[a.type]||[];var q=k.event.special[a.type]||{};if(u[0]=a,a.delegateTarget=this,!q.preDispatch||!1!==q.preDispatch.call(this,a)){r=k.event.handlers.call(this,a,b);for(b=0;(h=r[b++])&&!a.isPropagationStopped();){a.currentTarget=
h.elem;for(l=0;(g=h.handlers[l++])&&!a.isImmediatePropagationStopped();)(!a.namespace_re||a.namespace_re.test(g.namespace))&&(a.handleObj=g,a.data=g.data,e=((k.event.special[g.origType]||{}).handle||g.handler).apply(h.elem,u),e!==f&&!1===(a.result=e)&&(a.preventDefault(),a.stopPropagation()))}return q.postDispatch&&q.postDispatch.call(this,a),a.result}},handlers:function(a,b){var e,g,h,l,r=[],u=b.delegateCount,q=a.target;if(u&&q.nodeType&&(!a.button||"click"!==a.type))for(;q!=this;q=q.parentNode||
this)if(1===q.nodeType&&(!0!==q.disabled||"click"!==a.type)){h=[];for(l=0;u>l;l++)g=b[l],e=g.selector+" ",h[e]===f&&(h[e]=g.needsContext?0<=k(e,this).index(q):k.find(e,this,null,[q]).length),h[e]&&h.push(g);h.length&&r.push({elem:q,handlers:h})}return b.length>u&&r.push({elem:this,handlers:b.slice(u)}),r},fix:function(a){if(a[k.expando])return a;var b,e,f;b=a.type;var g=a,h=this.fixHooks[b];h||(this.fixHooks[b]=h=Wb.test(b)?this.mouseHooks:Vb.test(b)?this.keyHooks:{});f=h.props?this.props.concat(h.props):
this.props;a=new k.Event(g);for(b=f.length;b--;)e=f[b],a[e]=g[e];return a.target||(a.target=g.srcElement||G),3===a.target.nodeType&&(a.target=a.target.parentNode),a.metaKey=!!a.metaKey,h.filter?h.filter(a,g):a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:["char","charCode","key","keyCode"],filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),
a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var e,g,k,h=b.button,l=b.fromElement;return null==a.pageX&&null!=b.clientX&&(g=a.target.ownerDocument||G,k=g.documentElement,e=g.body,a.pageX=b.clientX+(k&&k.scrollLeft||e&&e.scrollLeft||0)-(k&&k.clientLeft||e&&e.clientLeft||0),a.pageY=b.clientY+(k&&k.scrollTop||e&&e.scrollTop||0)-(k&&k.clientTop||e&&e.clientTop||0)),!a.relatedTarget&&l&&(a.relatedTarget=
l===a.target?b.toElement:l),a.which||h===f||(a.which=1&h?1:2&h?3:4&h?2:0),a}},special:{load:{noBubble:!0},click:{trigger:function(){return k.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):f}},focus:{trigger:function(){if(this!==G.activeElement&&this.focus)try{return this.focus(),!1}catch(a){}},delegateType:"focusin"},blur:{trigger:function(){return this===G.activeElement&&this.blur?(this.blur(),!1):f},delegateType:"focusout"},beforeunload:{postDispatch:function(a){a.result!==
f&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,e,f){a=k.extend(new k.Event,e,{type:a,isSimulated:!0,originalEvent:{}});f?k.event.trigger(a,null,b):k.event.dispatch.call(b,a);a.isDefaultPrevented()&&e.preventDefault()}};k.removeEvent=G.removeEventListener?function(a,b,e){a.removeEventListener&&a.removeEventListener(b,e,!1)}:function(a,b,e){b="on"+b;a.detachEvent&&(typeof a[b]===Z&&(a[b]=null),a.detachEvent(b,e))};k.Event=function(a,b){return this instanceof k.Event?(a&&a.type?(this.originalEvent=
a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||!1===a.returnValue||a.getPreventDefault&&a.getPreventDefault()?x:w):this.type=a,b&&k.extend(this,b),this.timeStamp=a&&a.timeStamp||k.now(),this[k.expando]=!0,f):new k.Event(a,b)};k.Event.prototype={isDefaultPrevented:w,isPropagationStopped:w,isImmediatePropagationStopped:w,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=x;a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){var a=
this.originalEvent;this.isPropagationStopped=x;a&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=x;this.stopPropagation()}};k.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){k.event.special[a]={delegateType:b,bindType:b,handle:function(a){var e,f=a.relatedTarget,g=a.handleObj;return(!f||f!==this&&!k.contains(this,f))&&(a.type=g.origType,e=g.handler.apply(this,arguments),a.type=b),e}}});k.support.submitBubbles||
(k.event.special.submit={setup:function(){return k.nodeName(this,"form")?!1:(k.event.add(this,"click._submit keypress._submit",function(a){a=a.target;(a=k.nodeName(a,"input")||k.nodeName(a,"button")?a.form:f)&&!k._data(a,"submitBubbles")&&(k.event.add(a,"submit._submit",function(a){a._submit_bubble=!0}),k._data(a,"submitBubbles",!0))}),f)},postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&k.event.simulate("submit",this.parentNode,a,!0))},teardown:function(){return k.nodeName(this,
"form")?!1:(k.event.remove(this,"._submit"),f)}});k.support.changeBubbles||(k.event.special.change={setup:function(){return Ra.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(k.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&(this._just_changed=!0)}),k.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1);k.event.simulate("change",this,a,!0)})),!1):(k.event.add(this,"beforeactivate._change",
function(a){a=a.target;Ra.test(a.nodeName)&&!k._data(a,"changeBubbles")&&(k.event.add(a,"change._change",function(a){!this.parentNode||a.isSimulated||a.isTrigger||k.event.simulate("change",this.parentNode,a,!0)}),k._data(a,"changeBubbles",!0))}),f)},handle:function(a){var b=a.target;return this!==b||a.isSimulated||a.isTrigger||"radio"!==b.type&&"checkbox"!==b.type?a.handleObj.handler.apply(this,arguments):f},teardown:function(){return k.event.remove(this,"._change"),!Ra.test(this.nodeName)}});k.support.focusinBubbles||
k.each({focus:"focusin",blur:"focusout"},function(a,b){var e=0,f=function(a){k.event.simulate(b,a.target,k.event.fix(a),!0)};k.event.special[b]={setup:function(){0===e++&&G.addEventListener(a,f,!0)},teardown:function(){0===--e&&G.removeEventListener(a,f,!0)}}});k.fn.extend({on:function(a,b,e,g,h){var l,r;if("object"==typeof a){"string"!=typeof b&&(e=e||b,b=f);for(l in a)this.on(l,b,e,a[l],h);return this}if(null==e&&null==g?(g=b,e=b=f):null==g&&("string"==typeof b?(g=e,e=f):(g=e,e=b,b=f)),!1===g)g=
w;else if(!g)return this;return 1===h&&(r=g,g=function(a){return k().off(a),r.apply(this,arguments)},g.guid=r.guid||(r.guid=k.guid++)),this.each(function(){k.event.add(this,a,g,e,b)})},one:function(a,b,e,f){return this.on(a,b,e,f,1)},off:function(a,b,e){var g,h;if(a&&a.preventDefault&&a.handleObj)return g=a.handleObj,k(a.delegateTarget).off(g.namespace?g.origType+"."+g.namespace:g.origType,g.selector,g.handler),this;if("object"==typeof a){for(h in a)this.off(h,b,a[h]);return this}return(!1===b||"function"==
typeof b)&&(e=b,b=f),!1===e&&(e=w),this.each(function(){k.event.remove(this,a,e,b)})},bind:function(a,b,e){return this.on(a,null,b,e)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,e,f){return this.on(b,a,e,f)},undelegate:function(a,b,e){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",e)},trigger:function(a,b){return this.each(function(){k.event.trigger(a,b,this)})},triggerHandler:function(a,b){var e=this[0];return e?k.event.trigger(a,b,e,!0):f}});(function(a,
b){function e(a){return ya.test(a+"")}function f(){var a,b=[];return a=function(e,f){return b.push(e+=" ")>E.cacheLength&&delete a[b.shift()],a[e]=f}}function g(a){return a[V]=!0,a}function h(a){var b=G.createElement("div");try{return a(b)}catch(e){return!1}finally{}}function l(a,b,e,f){var g,k,h,r,F;if((b?b.ownerDocument||b:Ca)!==G&&ca(b),b=b||G,e=e||[],!a||"string"!=typeof a)return e;if(1!==(r=b.nodeType)&&9!==r)return[];if(!T&&!f){if(g=za.exec(a))if(h=g[1])if(9===r){if(k=b.getElementById(h),!k||
!k.parentNode)return e;if(k.id===h)return e.push(k),e}else{if(b.ownerDocument&&(k=b.ownerDocument.getElementById(h))&&O(b,k)&&k.id===h)return e.push(k),e}else{if(g[2])return fa.apply(e,ga.call(b.getElementsByTagName(a),0)),e;if((h=g[3])&&X.getByClassName&&b.getElementsByClassName)return fa.apply(e,ga.call(b.getElementsByClassName(h),0)),e}if(X.qsa&&!P.test(a)){if(g=!0,k=V,h=b,F=9===r&&a,1===r&&"object"!==b.nodeName.toLowerCase()){r=A(a);(g=b.getAttribute("id"))?k=g.replace(Ea,"\\$&"):b.setAttribute("id",
k);k="[id='"+k+"'] ";for(h=r.length;h--;)r[h]=k+t(r[h]);h=qa.test(a)&&b.parentNode||b;F=r.join(",")}if(F)try{return fa.apply(e,ga.call(h.querySelectorAll(F),0)),e}catch(u){}finally{g||b.removeAttribute("id")}}}var q;a:{a=a.replace(ja,"$1");var K,s;k=A(a);if(!f&&1===k.length){if(q=k[0]=k[0].slice(0),2<q.length&&"ID"===(K=q[0]).type&&9===b.nodeType&&!T&&E.relative[q[1].type]){if(b=E.find.ID(K.matches[0].replace(wa,xa),b)[0],!b){q=e;break a}a=a.slice(q.shift().value.length)}for(r=na.needsContext.test(a)?
0:q.length;r--&&!(K=q[r],E.relative[g=K.type]);)if((s=E.find[g])&&(f=s(K.matches[0].replace(wa,xa),qa.test(q[0].type)&&b.parentNode||b))){if(q.splice(r,1),a=f.length&&t(q),!a){q=(fa.apply(e,ga.call(f,0)),e);break a}break}}q=(C(a,k)(f,b,T,e,qa.test(a)),e)}return q}function r(a,b){var e=b&&a,f=e&&(~b.sourceIndex||ra)-(~a.sourceIndex||ra);if(f)return f;if(e)for(;e=e.nextSibling;)if(e===b)return-1;return a?1:-1}function u(a){return function(b){return"input"===b.nodeName.toLowerCase()&&b.type===a}}function q(a){return function(b){var e=
b.nodeName.toLowerCase();return("input"===e||"button"===e)&&b.type===a}}function s(a){return g(function(b){return b=+b,g(function(e,f){for(var g,k=a([],e.length,b),h=k.length;h--;)e[g=k[h]]&&(e[g]=!(f[g]=e[g]))})})}function A(a,b){var e,f,g,k,h,r,F;if(h=da[a+" "])return b?0:h.slice(0);h=a;r=[];for(F=E.preFilter;h;){(!e||(f=sa.exec(h)))&&(f&&(h=h.slice(f[0].length)||h),r.push(g=[]));e=!1;(f=ta.exec(h))&&(e=f.shift(),g.push({value:e,type:f[0].replace(ja," ")}),h=h.slice(e.length));for(k in E.filter)!(f=
na[k].exec(h))||F[k]&&!(f=F[k](f))||(e=f.shift(),g.push({value:e,type:k,matches:f}),h=h.slice(e.length));if(!e)break}return b?h.length:h?l.error(a):da(a,r).slice(0)}function t(a){for(var b=0,e=a.length,f="";e>b;b++)f+=a[b].value;return f}function B(a,b,e){var f=b.dir,g=e&&"parentNode"===f,k=Y++;return b.first?function(b,e,k){for(;b=b[f];)if(1===b.nodeType||g)return a(b,e,k)}:function(b,e,h){var l,r,F,u=oa+" "+k;if(h)for(;b=b[f];){if((1===b.nodeType||g)&&a(b,e,h))return!0}else for(;b=b[f];)if(1===
b.nodeType||g)if(F=b[V]||(b[V]={}),(r=F[f])&&r[0]===u){if(!0===(l=r[1])||l===z)return!0===l}else if(r=F[f]=[u],r[1]=a(b,e,h)||z,!0===r[1])return!0}}function w(a){return 1<a.length?function(b,e,f){for(var g=a.length;g--;)if(!a[g](b,e,f))return!1;return!0}:a[0]}function D(a,b,e,f,g){for(var k,h=[],l=0,r=a.length,F=null!=b;r>l;l++)(k=a[l])&&(!e||e(k,f,g))&&(h.push(k),F&&b.push(l));return h}function I(a,b,e,f,k,h){return f&&!f[V]&&(f=I(f)),k&&!k[V]&&(k=I(k,h)),g(function(g,h,r,F){var u,q,K=[],s=[],A=
h.length,M;if(!(M=g)){M=b||"*";for(var t=r.nodeType?[r]:r,B=[],w=0,ha=t.length;ha>w;w++)l(M,t[w],B);M=B}M=!a||!g&&b?M:D(M,K,a,r,F);t=e?k||(g?a:A||f)?[]:h:M;if(e&&e(M,t,r,F),f){u=D(t,s);f(u,[],r,F);for(r=u.length;r--;)(q=u[r])&&(t[s[r]]=!(M[s[r]]=q))}if(g){if(k||a){if(k){u=[];for(r=t.length;r--;)(q=t[r])&&u.push(M[r]=q);k(null,t=[],u,F)}for(r=t.length;r--;)(q=t[r])&&-1<(u=k?ka.call(g,q):K[r])&&(g[u]=!(h[u]=q))}}else t=D(t===h?t.splice(A,t.length):t),k?k(null,h,t,F):fa.apply(h,t)})}function x(a){var b,
e,f,g=a.length,k=E.relative[a[0].type];e=k||E.relative[" "];for(var h=k?1:0,l=B(function(a){return a===b},e,!0),r=B(function(a){return-1<ka.call(b,a)},e,!0),F=[function(a,e,f){return!k&&(f||e!==S)||((b=e).nodeType?l(a,e,f):r(a,e,f))}];g>h;h++)if(e=E.relative[a[h].type])F=[B(w(F),e)];else{if(e=E.filter[a[h].type].apply(null,a[h].matches),e[V]){for(f=++h;g>f&&!E.relative[a[f].type];f++);return I(1<h&&w(F),1<h&&t(a.slice(0,h-1)).replace(ja,"$1"),e,f>h&&x(a.slice(h,f)),g>f&&x(a=a.slice(f)),g>f&&t(a))}F.push(e)}return w(F)}
function y(a,b){var e=0,f=0<b.length,k=0<a.length,h=function(g,h,r,F,u){var q,K,s=[],M=0,A="0",t=g&&[],B=null!=u,w=S,ha=g||k&&E.find.TAG("*",u&&h.parentNode||h),I=oa+=null==w?1:Math.random()||0.1;for(B&&(S=h!==G&&h,z=e);null!=(u=ha[A]);A++){if(k&&u){for(q=0;K=a[q++];)if(K(u,h,r)){F.push(u);break}B&&(oa=I,z=++e)}f&&((u=!K&&u)&&M--,g&&t.push(u))}if(M+=A,f&&A!==M){for(q=0;K=b[q++];)K(t,s,h,r);if(g){if(0<M)for(;A--;)t[A]||s[A]||(s[A]=pa.call(F));s=D(s)}fa.apply(F,s);B&&!g&&0<s.length&&1<M+b.length&&l.uniqueSort(F)}return B&&
(oa=I,S=w),t};return f?g(h):h}function Q(){}var H,z,E,J,ea,C,R,S,ca,G,L,T,P,Z,N,O,W,V="sizzle"+-new Date,Ca=a.document,X={},oa=0,Y=0,ba=f(),da=f(),ia=f(),la=typeof b,ra=-2147483648,aa=[],pa=aa.pop,fa=aa.push,ga=aa.slice,ka=aa.indexOf||function(a){for(var b=0,e=this.length;e>b;b++)if(this[b]===a)return b;return-1},aa="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w","w#"),Aa="\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)[\\x20\\t\\r\\n\\f]*(?:([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+
aa+")|)|)[\\x20\\t\\r\\n\\f]*\\]",ma=":((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+Aa.replace(3,8)+")*)|.*)\\)|)",ja=RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g"),sa=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,ta=/^[\x20\t\r\n\f]*([\x20\t\r\n\f>+~])[\x20\t\r\n\f]*/,ua=RegExp(ma),va=RegExp("^"+aa+"$"),na={ID:/^#((?:\\.|[\w-]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[\w-]|[^\x00-\xa0])+)/,NAME:/^\[name=['"]?((?:\\.|[\w-]|[^\x00-\xa0])+)['"]?\]/,
TAG:RegExp("^("+"(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w","w*")+")"),ATTR:RegExp("^"+Aa),PSEUDO:RegExp("^"+ma),CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\([\\x20\\t\\r\\n\\f]*(even|odd|(([+-]|)(\\d*)n|)[\\x20\\t\\r\\n\\f]*(?:([+-]|)[\\x20\\t\\r\\n\\f]*(\\d+)|))[\\x20\\t\\r\\n\\f]*\\)|)","i"),needsContext:RegExp("^[\\x20\\t\\r\\n\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\([\\x20\\t\\r\\n\\f]*((?:-\\d)?\\d*)[\\x20\\t\\r\\n\\f]*\\)|)(?=[^-]|$)","i")},qa=/[\x20\t\r\n\f]*[+~]/,
ya=/^[^{]+\{\s*\[native code/,za=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Ba=/^(?:input|select|textarea|button)$/i,Da=/^h\d$/i,Ea=/'|\\/g,Fa=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,wa=/\\([\da-fA-F]{1,6}[\x20\t\r\n\f]?|.)/g,xa=function(a,b){var e="0x"+b-65536;return e!==e?b:0>e?String.fromCharCode(e+65536):String.fromCharCode(55296|e>>10,56320|1023&e)};try{ga.call(Ca.documentElement.childNodes,0)[0].nodeType}catch(Ga){ga=function(a){for(var b,e=[];b=this[a++];)e.push(b);return e}}ea=l.isXML=function(a){return(a=
a&&(a.ownerDocument||a).documentElement)?"HTML"!==a.nodeName:!1};ca=l.setDocument=function(a){var f=a?a.ownerDocument||a:Ca;return f!==G&&9===f.nodeType&&f.documentElement?(G=f,L=f.documentElement,T=ea(f),X.tagNameNoComments=h(function(a){return a.appendChild(f.createComment("")),!a.getElementsByTagName("*").length}),X.attributes=h(function(a){a.innerHTML="<select></select>";a=typeof a.lastChild.getAttribute("multiple");return"boolean"!==a&&"string"!==a}),X.getByClassName=h(function(a){return a.innerHTML=
"<div class='hidden e'></div><div class='hidden'></div>",a.getElementsByClassName&&a.getElementsByClassName("e").length?(a.lastChild.className="e",2===a.getElementsByClassName("e").length):!1}),X.getByName=h(function(a){a.id=V+0;a.innerHTML="<a name='"+V+"'></a><div name='"+V+"'></div>";L.insertBefore(a,L.firstChild);var b=f.getElementsByName&&f.getElementsByName(V).length===2+f.getElementsByName(V+0).length;return X.getIdNotName=!f.getElementById(V),L.removeChild(a),b}),E.attrHandle=h(function(a){return a.innerHTML=
"<a href='#'></a>",a.firstChild&&typeof a.firstChild.getAttribute!==la&&"#"===a.firstChild.getAttribute("href")})?{}:{href:function(a){return a.getAttribute("href",2)},type:function(a){return a.getAttribute("type")}},X.getIdNotName?(E.find.ID=function(a,b){if(typeof b.getElementById!==la&&!T){var e=b.getElementById(a);return e&&e.parentNode?[e]:[]}},E.filter.ID=function(a){var b=a.replace(wa,xa);return function(a){return a.getAttribute("id")===b}}):(E.find.ID=function(a,e){if(typeof e.getElementById!==
la&&!T){var f=e.getElementById(a);return f?f.id===a||typeof f.getAttributeNode!==la&&f.getAttributeNode("id").value===a?[f]:b:[]}},E.filter.ID=function(a){var b=a.replace(wa,xa);return function(a){return(a=typeof a.getAttributeNode!==la&&a.getAttributeNode("id"))&&a.value===b}}),E.find.TAG=X.tagNameNoComments?function(a,e){return typeof e.getElementsByTagName!==la?e.getElementsByTagName(a):b}:function(a,b){var e,f=[],g=0,k=b.getElementsByTagName(a);if("*"===a){for(;e=k[g++];)1===e.nodeType&&f.push(e);
return f}return k},E.find.NAME=X.getByName&&function(a,e){return typeof e.getElementsByName!==la?e.getElementsByName(name):b},E.find.CLASS=X.getByClassName&&function(a,e){return typeof e.getElementsByClassName===la||T?b:e.getElementsByClassName(a)},Z=[],P=[":focus"],(X.qsa=e(f.querySelectorAll))&&(h(function(a){a.innerHTML="<select><option selected=''></option></select>";a.querySelectorAll("[selected]").length||P.push("\\[[\\x20\\t\\r\\n\\f]*(?:checked|disabled|ismap|multiple|readonly|selected|value)");
a.querySelectorAll(":checked").length||P.push(":checked")}),h(function(a){a.innerHTML="<input type='hidden' i=''/>";a.querySelectorAll("[i^='']").length&&P.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:\"\"|'')");a.querySelectorAll(":enabled").length||P.push(":enabled",":disabled");a.querySelectorAll("*,:x");P.push(",.*:")})),(X.matchesSelector=e(N=L.matchesSelector||L.mozMatchesSelector||L.webkitMatchesSelector||L.oMatchesSelector||L.msMatchesSelector))&&h(function(a){X.disconnectedMatch=N.call(a,"div");N.call(a,
"[s!='']:x");Z.push("!=",ma)}),P=RegExp(P.join("|")),Z=RegExp(Z.join("|")),O=e(L.contains)||L.compareDocumentPosition?function(a,b){var e=9===a.nodeType?a.documentElement:a,f=b&&b.parentNode;return a===f||!(!f||1!==f.nodeType||!(e.contains?e.contains(f):a.compareDocumentPosition&&16&a.compareDocumentPosition(f)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1},W=L.compareDocumentPosition?function(a,b){var e;return a===b?(R=!0,0):(e=b.compareDocumentPosition&&a.compareDocumentPosition&&
a.compareDocumentPosition(b))?1&e||a.parentNode&&11===a.parentNode.nodeType?a===f||O(Ca,a)?-1:b===f||O(Ca,b)?1:0:4&e?-1:1:a.compareDocumentPosition?-1:1}:function(a,b){var e,g=0;e=a.parentNode;var k=b.parentNode,h=[a],l=[b];if(a===b)return R=!0,0;if(!e||!k)return a===f?-1:b===f?1:e?-1:k?1:0;if(e===k)return r(a,b);for(e=a;e=e.parentNode;)h.unshift(e);for(e=b;e=e.parentNode;)l.unshift(e);for(;h[g]===l[g];)g++;return g?r(h[g],l[g]):h[g]===Ca?-1:l[g]===Ca?1:0},R=!1,[0,0].sort(W),X.detectDuplicates=R,
G):G};l.matches=function(a,b){return l(a,null,null,b)};l.matchesSelector=function(a,b){if((a.ownerDocument||a)!==G&&ca(a),b=b.replace(Fa,"='$1']"),!(!X.matchesSelector||T||Z&&Z.test(b)||P.test(b)))try{var e=N.call(a,b);if(e||X.disconnectedMatch||a.document&&11!==a.document.nodeType)return e}catch(f){}return 0<l(b,G,null,[a]).length};l.contains=function(a,b){return(a.ownerDocument||a)!==G&&ca(a),O(a,b)};l.attr=function(a,b){var e;return(a.ownerDocument||a)!==G&&ca(a),T||(b=b.toLowerCase()),(e=E.attrHandle[b])?
e(a):T||X.attributes?a.getAttribute(b):((e=a.getAttributeNode(b))||a.getAttribute(b))&&!0===a[b]?b:e&&e.specified?e.value:null};l.error=function(a){throw Error("Syntax error, unrecognized expression: "+a);};l.uniqueSort=function(a){var b,e=[],f=1,g=0;if(R=!X.detectDuplicates,a.sort(W),R){for(;b=a[f];f++)b===a[f-1]&&(g=e.push(f));for(;g--;)a.splice(e[g],1)}return a};J=l.getText=function(a){var b,e="",f=0;if(b=a.nodeType)if(1===b||9===b||11===b){if("string"==typeof a.textContent)return a.textContent;
for(a=a.firstChild;a;a=a.nextSibling)e+=J(a)}else{if(3===b||4===b)return a.nodeValue}else for(;b=a[f];f++)e+=J(b);return e};E=l.selectors={cacheLength:50,createPseudo:g,match:na,find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(wa,xa),a[3]=(a[4]||a[5]||"").replace(wa,xa),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),
"nth"===a[1].slice(0,3)?(a[3]||l.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&l.error(a[0]),a},PSEUDO:function(a){var b,e=!a[5]&&a[2];return na.CHILD.test(a[0])?null:(a[4]?a[2]=a[4]:e&&ua.test(e)&&(b=A(e,!0))&&(b=e.indexOf(")",e.length-b)-e.length)&&(a[0]=a[0].slice(0,b),a[2]=e.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){return"*"===a?function(){return!0}:(a=a.replace(wa,xa).toLowerCase(),function(b){return b.nodeName&&b.nodeName.toLowerCase()===
a})},CLASS:function(a){var b=ba[a+" "];return b||(b=RegExp("(^|[\\x20\\t\\r\\n\\f])"+a+"([\\x20\\t\\r\\n\\f]|$)"))&&ba(a,function(a){return b.test(a.className||typeof a.getAttribute!==la&&a.getAttribute("class")||"")})},ATTR:function(a,b,e){return function(f){f=l.attr(f,a);return null==f?"!="===b:b?(f+="","="===b?f===e:"!="===b?f!==e:"^="===b?e&&0===f.indexOf(e):"*="===b?e&&-1<f.indexOf(e):"$="===b?e&&f.slice(-e.length)===e:"~="===b?-1<(" "+f+" ").indexOf(e):"|="===b?f===e||f.slice(0,e.length+1)===
e+"-":!1):!0}},CHILD:function(a,b,e,f,g){var k="nth"!==a.slice(0,3),h="last"!==a.slice(-4),l="of-type"===b;return 1===f&&0===g?function(a){return!!a.parentNode}:function(b,e,r){var F,u,q,K,s;e=k!==h?"nextSibling":"previousSibling";var M=b.parentNode,A=l&&b.nodeName.toLowerCase();r=!r&&!l;if(M){if(k){for(;e;){for(u=b;u=u[e];)if(l?u.nodeName.toLowerCase()===A:1===u.nodeType)return!1;s=e="only"===a&&!s&&"nextSibling"}return!0}if(s=[h?M.firstChild:M.lastChild],h&&r){r=M[V]||(M[V]={});F=r[a]||[];K=F[0]===
oa&&F[1];q=F[0]===oa&&F[2];for(u=K&&M.childNodes[K];u=++K&&u&&u[e]||(q=K=0)||s.pop();)if(1===u.nodeType&&++q&&u===b){r[a]=[oa,K,q];break}}else if(r&&(F=(b[V]||(b[V]={}))[a])&&F[0]===oa)q=F[1];else for(;(u=++K&&u&&u[e]||(q=K=0)||s.pop())&&(!(l?u.nodeName.toLowerCase()===A:1===u.nodeType)||!++q||!(r&&((u[V]||(u[V]={}))[a]=[oa,q]),u===b)););return q-=g,q===f||0===q%f&&0<=q/f}}},PSEUDO:function(a,b){var e,f=E.pseudos[a]||E.setFilters[a.toLowerCase()]||l.error("unsupported pseudo: "+a);return f[V]?f(b):
1<f.length?(e=[a,a,"",b],E.setFilters.hasOwnProperty(a.toLowerCase())?g(function(a,e){for(var g,k=f(a,b),h=k.length;h--;)g=ka.call(a,k[h]),a[g]=!(e[g]=k[h])}):function(a){return f(a,0,e)}):f}},pseudos:{not:g(function(a){var b=[],e=[],f=C(a.replace(ja,"$1"));return f[V]?g(function(a,b,e,g){var k;e=f(a,null,g,[]);for(g=a.length;g--;)(k=e[g])&&(a[g]=!(b[g]=k))}):function(a,g,k){return b[0]=a,f(b,null,k,e),!e.pop()}}),has:g(function(a){return function(b){return 0<l(a,b).length}}),contains:g(function(a){return function(b){return-1<
(b.textContent||b.innerText||J(b)).indexOf(a)}}),lang:g(function(a){return va.test(a||"")||l.error("unsupported lang: "+a),a=a.replace(wa,xa).toLowerCase(),function(b){var e;do if(e=T?b.getAttribute("xml:lang")||b.getAttribute("lang"):b.lang)return e=e.toLowerCase(),e===a||0===e.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var e=a.location&&a.location.hash;return e&&e.slice(1)===b.id},root:function(a){return a===L},focus:function(a){return a===G.activeElement&&
(!G.hasFocus||G.hasFocus())&&!(!a.type&&!a.href&&!~a.tabIndex)},enabled:function(a){return!1===a.disabled},disabled:function(a){return!0===a.disabled},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,!0===a.selected},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if("@"<a.nodeName||3===a.nodeType||4===a.nodeType)return!1;return!0},parent:function(a){return!E.pseudos.empty(a)},
header:function(a){return Da.test(a.nodeName)},input:function(a){return Ba.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||b.toLowerCase()===a.type)},first:s(function(){return[0]}),last:s(function(a,b){return[b-1]}),eq:s(function(a,b,e){return[0>e?e+b:e]}),even:s(function(a,b){for(var e=0;b>e;e+=2)a.push(e);return a}),
odd:s(function(a,b){for(var e=1;b>e;e+=2)a.push(e);return a}),lt:s(function(a,b,e){for(b=0>e?e+b:e;0<=--b;)a.push(b);return a}),gt:s(function(a,b,e){for(e=0>e?e+b:e;b>++e;)a.push(e);return a})}};for(H in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})E.pseudos[H]=u(H);for(H in{submit:!0,reset:!0})E.pseudos[H]=q(H);C=l.compile=function(a,b){var e,f=[],g=[],k=ia[a+" "];if(!k){b||(b=A(a));for(e=b.length;e--;)k=x(b[e]),k[V]?f.push(k):g.push(k);k=ia(a,y(g,f))}return k};E.pseudos.nth=E.pseudos.eq;E.filters=
Q.prototype=E.pseudos;E.setFilters=new Q;ca();l.attr=k.attr;k.find=l;k.expr=l.selectors;k.expr[":"]=k.expr.pseudos;k.unique=l.uniqueSort;k.text=l.getText;k.isXMLDoc=l.isXML;k.contains=l.contains})(a);var Xb=/Until$/,Yb=/^(?:parents|prev(?:Until|All))/,Bb=/^.[^:#\[\.,]*$/,kb=k.expr.match.needsContext,Zb={children:!0,contents:!0,next:!0,prev:!0};k.fn.extend({find:function(a){var b,e,f,g=this.length;if("string"!=typeof a)return f=this,this.pushStack(k(a).filter(function(){for(b=0;g>b;b++)if(k.contains(f[b],
this))return!0}));e=[];for(b=0;g>b;b++)k.find(a,this[b],e);return e=this.pushStack(1<g?k.unique(e):e),e.selector=(this.selector?this.selector+" ":"")+a,e},has:function(a){var b,e=k(a,this),f=e.length;return this.filter(function(){for(b=0;f>b;b++)if(k.contains(this,e[b]))return!0})},not:function(a){return this.pushStack(y(this,a,!1))},filter:function(a){return this.pushStack(y(this,a,!0))},is:function(a){return!!a&&("string"==typeof a?kb.test(a)?0<=k(a,this.context).index(this[0]):0<k.filter(a,this).length:
0<this.filter(a).length)},closest:function(a,b){for(var e,f=0,g=this.length,h=[],l=kb.test(a)||"string"!=typeof a?k(a,b||this.context):0;g>f;f++)for(e=this[f];e&&e.ownerDocument&&e!==b&&11!==e.nodeType;){if(l?-1<l.index(e):k.find.matchesSelector(e,a)){h.push(e);break}e=e.parentNode}return this.pushStack(1<h.length?k.unique(h):h)},index:function(a){return a?"string"==typeof a?k.inArray(this[0],k(a)):k.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,
b){var e="string"==typeof a?k(a,b):k.makeArray(a&&a.nodeType?[a]:a),e=k.merge(this.get(),e);return this.pushStack(k.unique(e))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});k.fn.andSelf=k.fn.addBack;k.each({parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},parents:function(a){return k.dir(a,"parentNode")},parentsUntil:function(a,b,e){return k.dir(a,"parentNode",e)},next:function(a){return z(a,"nextSibling")},prev:function(a){return z(a,
"previousSibling")},nextAll:function(a){return k.dir(a,"nextSibling")},prevAll:function(a){return k.dir(a,"previousSibling")},nextUntil:function(a,b,e){return k.dir(a,"nextSibling",e)},prevUntil:function(a,b,e){return k.dir(a,"previousSibling",e)},siblings:function(a){return k.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return k.sibling(a.firstChild)},contents:function(a){return k.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:k.merge([],a.childNodes)}},function(a,
b){k.fn[a]=function(e,f){var g=k.map(this,b,e);return Xb.test(a)||(f=e),f&&"string"==typeof f&&(g=k.filter(f,g)),g=1<this.length&&!Zb[a]?k.unique(g):g,1<this.length&&Yb.test(a)&&(g=g.reverse()),this.pushStack(g)}});k.extend({filter:function(a,b,e){return e&&(a=":not("+a+")"),1===b.length?k.find.matchesSelector(b[0],a)?[b[0]]:[]:k.find.matches(a,b)},dir:function(a,b,e){var g=[];for(a=a[b];a&&9!==a.nodeType&&(e===f||1!==a.nodeType||!k(a).is(e));)1===a.nodeType&&g.push(a),a=a[b];return g},sibling:function(a,
b){for(var e=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&e.push(a);return e}});var $a="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",$b=/ jQuery\d+="(?:null|\d+)"/g,lb=RegExp("<(?:"+$a+")[\\s/>]","i"),Sa=/^\s+/,mb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,nb=/<([\w:]+)/,ob=/<tbody/i,ac=/<|&#?\w+;/,bc=/<(?:script|style|link)/i,Ka=/^(?:checkbox|radio)$/i,cc=/checked\s*(?:[^=]|=\s*.checked.)/i,
pb=/^$|\/(?:java|ecma)script/i,Cb=/^true\/(.*)/,dc=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,da={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:k.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},
Ta=C(G).appendChild(G.createElement("div"));da.optgroup=da.option;da.tbody=da.tfoot=da.colgroup=da.caption=da.thead;da.th=da.td;k.fn.extend({text:function(a){return k.access(this,function(a){return a===f?k.text(this):this.empty().append((this[0]&&this[0].ownerDocument||G).createTextNode(a))},null,a,arguments.length)},wrapAll:function(a){if(k.isFunction(a))return this.each(function(b){k(this).wrapAll(a.call(this,b))});if(this[0]){var b=k(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&
b.insertBefore(this[0]);b.map(function(){for(var a=this;a.firstChild&&1===a.firstChild.nodeType;)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return k.isFunction(a)?this.each(function(b){k(this).wrapInner(a.call(this,b))}):this.each(function(){var b=k(this),e=b.contents();e.length?e.wrapAll(a):b.append(a)})},wrap:function(a){var b=k.isFunction(a);return this.each(function(e){k(this).wrapAll(b?a.call(this,e):a)})},unwrap:function(){return this.parent().each(function(){k.nodeName(this,
"body")||k(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(a){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&this.appendChild(a)})},prepend:function(){return this.domManip(arguments,!0,function(a){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&this.insertBefore(a,this.firstChild)})},before:function(){return this.domManip(arguments,!1,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,
!1,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var e,f=0;null!=(e=this[f]);f++)(!a||0<k.filter(a,[e]).length)&&(b||1!==e.nodeType||k.cleanData(I(e)),e.parentNode&&(b&&k.contains(e.ownerDocument,e)&&t(I(e,"script")),e.parentNode.removeChild(e)));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++){for(1===a.nodeType&&k.cleanData(I(a,!1));a.firstChild;)a.removeChild(a.firstChild);a.options&&k.nodeName(a,"select")&&(a.options.length=
0)}return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return k.clone(this,a,b)})},html:function(a){return k.access(this,function(a){var b=this[0]||{},e=0,g=this.length;if(a===f)return 1===b.nodeType?b.innerHTML.replace($b,""):f;if(!("string"!=typeof a||bc.test(a)||!k.support.htmlSerialize&&lb.test(a)||!k.support.leadingWhitespace&&Sa.test(a)||da[(nb.exec(a)||["",""])[1].toLowerCase()])){a=a.replace(mb,"<$1></$2>");try{for(;g>e;e++)b=this[e]||{},1===b.nodeType&&
(k.cleanData(I(b,!1)),b.innerHTML=a);b=0}catch(h){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(a){return k.isFunction(a)||"string"==typeof a||(a=k(a).not(this).detach()),this.domManip([a],!0,function(a){var b=this.nextSibling,e=this.parentNode;e&&(k(this).remove(),e.insertBefore(a,b))})},detach:function(a){return this.remove(a,!0)},domManip:function(a,b,e){a=cb.apply([],a);var g,h,l,u,q=0,s=this.length,A=this,t=s-1,B=a[0],w=k.isFunction(B);if(w||!(1>=s||"string"!=typeof B||
k.support.checkClone)&&cc.test(B))return this.each(function(g){var k=A.eq(g);w&&(a[0]=B.call(this,g,b?k.html():f));k.domManip(a,b,e)});if(s&&(u=k.buildFragment(a,this[0].ownerDocument,!1,this),g=u.firstChild,1===u.childNodes.length&&(u=g),g)){b=b&&k.nodeName(g,"tr");l=k.map(I(u,"script"),r);for(h=l.length;s>q;q++)g=u,q!==t&&(g=k.clone(g,!0,!0),h&&k.merge(l,I(g,"script"))),e.call(b&&k.nodeName(this[q],"table")?this[q].getElementsByTagName("tbody")[0]||this[q].appendChild(this[q].ownerDocument.createElement("tbody")):
this[q],g,q);if(h){u=l[l.length-1].ownerDocument;k.map(l,D);for(q=0;h>q;q++)g=l[q],pb.test(g.type||"")&&!k._data(g,"globalEval")&&k.contains(u,g)&&(g.src?k.ajax({url:g.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):k.globalEval((g.text||g.textContent||g.innerHTML||"").replace(dc,"")))}u=g=null}return this}});k.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){k.fn[a]=function(a){for(var e=0,f=[],g=k(a),
h=g.length-1;h>=e;e++)a=e===h?this:this.clone(!0),k(g[e])[b](a),Ma.apply(f,a.get());return this.pushStack(f)}});k.extend({clone:function(a,b,e){var f,g,h,l,u,q=k.contains(a.ownerDocument,a);if(k.support.html5Clone||k.isXMLDoc(a)||!lb.test("<"+a.nodeName+">")?h=a.cloneNode(!0):(Ta.innerHTML=a.outerHTML,Ta.removeChild(h=Ta.firstChild)),!(k.support.noCloneEvent&&k.support.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||k.isXMLDoc(a))){f=I(h);u=I(a);for(l=0;null!=(g=u[l]);++l)if(f[l]){var s=f[l],A=void 0,
B=void 0,w=void 0;if(1===s.nodeType){if(A=s.nodeName.toLowerCase(),!k.support.noCloneEvent&&s[k.expando]){w=k._data(s);for(B in w.events)k.removeEvent(s,B,w.handle);s.removeAttribute(k.expando)}"script"===A&&s.text!==g.text?(r(s).text=g.text,D(s)):"object"===A?(s.parentNode&&(s.outerHTML=g.outerHTML),k.support.html5Clone&&g.innerHTML&&!k.trim(s.innerHTML)&&(s.innerHTML=g.innerHTML)):"input"===A&&Ka.test(g.type)?(s.defaultChecked=s.checked=g.checked,s.value!==g.value&&(s.value=g.value)):"option"===
A?s.defaultSelected=s.selected=g.defaultSelected:("input"===A||"textarea"===A)&&(s.defaultValue=g.defaultValue)}}}if(b)if(e){u=u||I(a);f=f||I(h);for(l=0;null!=(g=u[l]);l++)E(g,f[l])}else E(a,h);return f=I(h,"script"),0<f.length&&t(f,!q&&I(a,"script")),h},buildFragment:function(a,b,e,f){for(var g,h,l,r,u,q,s,A=a.length,B=C(b),w=[],D=0;A>D;D++)if(h=a[D],h||0===h)if("object"===k.type(h))k.merge(w,h.nodeType?[h]:h);else if(ac.test(h)){r=r||B.appendChild(b.createElement("div"));u=(nb.exec(h)||["",""])[1].toLowerCase();
s=da[u]||da._default;r.innerHTML=s[1]+h.replace(mb,"<$1></$2>")+s[2];for(g=s[0];g--;)r=r.lastChild;if(!k.support.leadingWhitespace&&Sa.test(h)&&w.push(b.createTextNode(Sa.exec(h)[0])),!k.support.tbody)for(g=(h="table"!==u||ob.test(h)?"<table>"!==s[1]||ob.test(h)?0:r:r.firstChild)&&h.childNodes.length;g--;)k.nodeName(q=h.childNodes[g],"tbody")&&!q.childNodes.length&&h.removeChild(q);k.merge(w,r.childNodes);for(r.textContent="";r.firstChild;)r.removeChild(r.firstChild);r=B.lastChild}else w.push(b.createTextNode(h));
r&&B.removeChild(r);k.support.appendChecked||k.grep(I(w,"input"),H);for(D=0;h=w[D++];)if((!f||-1===k.inArray(h,f))&&(l=k.contains(h.ownerDocument,h),r=I(B.appendChild(h),"script"),l&&t(r),e))for(g=0;h=r[g++];)pb.test(h.type||"")&&e.push(h);return B},cleanData:function(a,b){for(var e,f,g,h,l=0,r=k.expando,u=k.cache,q=k.support.deleteExpando,s=k.event.special;null!=(e=a[l]);l++)if((b||k.acceptData(e))&&(g=e[r],h=g&&u[g])){if(h.events)for(f in h.events)s[f]?k.event.remove(e,f):k.removeEvent(e,f,h.handle);
u[g]&&(delete u[g],q?delete e[r]:typeof e.removeAttribute!==Z?e.removeAttribute(r):e[r]=null,ra.push(g))}}});var ya,ga,ka,Ua=/alpha\([^)]*\)/i,ec=/opacity\s*=\s*([^)]*)/,fc=/^(top|right|bottom|left)$/,gc=/^(none|table(?!-c[ea]).+)/,qb=/^margin/,Db=RegExp("^("+Ha+")(.*)$","i"),Fa=RegExp("^("+Ha+")(?!px)[a-z%]+$","i"),hc=RegExp("^([+-])=("+Ha+")","i"),bb={BODY:"block"},ic={position:"absolute",visibility:"hidden",display:"block"},rb={letterSpacing:0,fontWeight:400},fa=["Top","Right","Bottom","Left"],
ab=["Webkit","O","Moz","ms"];k.fn.extend({css:function(a,b){return k.access(this,function(a,b,e){var g,h={},l=0;if(k.isArray(b)){g=ga(a);for(e=b.length;e>l;l++)h[b[l]]=k.css(a,b[l],!1,g);return h}return e!==f?k.style(a,b,e):k.css(a,b)},a,b,1<arguments.length)},show:function(){return s(this,!0)},hide:function(){return s(this)},toggle:function(a){var b="boolean"==typeof a;return this.each(function(){(b?a:R(this))?k(this).show():k(this).hide()})}});k.extend({cssHooks:{opacity:{get:function(a,b){if(b){var e=
ka(a,"opacity");return""===e?"1":e}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":k.support.cssFloat?"cssFloat":"styleFloat"},style:function(a,b,e,g){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var h,l,r,u=k.camelCase(b),q=a.style;if(b=k.cssProps[u]||(k.cssProps[u]=J(q,u)),r=k.cssHooks[b]||k.cssHooks[u],e===f)return r&&"get"in r&&(h=r.get(a,!1,g))!==f?h:q[b];if(l=typeof e,"string"===l&&(h=hc.exec(e))&&
(e=(h[1]+1)*h[2]+parseFloat(k.css(a,b)),l="number"),!(null==e||"number"===l&&isNaN(e)||("number"!==l||k.cssNumber[u]||(e+="px"),k.support.clearCloneStyle||""!==e||0!==b.indexOf("background")||(q[b]="inherit"),r&&"set"in r&&(e=r.set(a,e,g))===f)))try{q[b]=e}catch(s){}}},css:function(a,b,e,g){var h,l,r,u=k.camelCase(b);return b=k.cssProps[u]||(k.cssProps[u]=J(a.style,u)),r=k.cssHooks[b]||k.cssHooks[u],r&&"get"in r&&(l=r.get(a,!0,e)),l===f&&(l=ka(a,b,g)),"normal"===l&&b in rb&&(l=rb[b]),""===e||e?(h=
parseFloat(l),!0===e||k.isNumeric(h)?h||0:l):l},swap:function(a,b,e,f){var g,k={};for(g in b)k[g]=a.style[g],a.style[g]=b[g];e=e.apply(a,f||[]);for(g in b)a.style[g]=k[g];return e}});a.getComputedStyle?(ga=function(b){return a.getComputedStyle(b,null)},ka=function(a,b,e){var g,h,l,r=(e=e||ga(a))?e.getPropertyValue(b)||e[b]:f,u=a.style;return e&&(""!==r||k.contains(a.ownerDocument,a)||(r=k.style(a,b)),Fa.test(r)&&qb.test(b)&&(g=u.width,h=u.minWidth,l=u.maxWidth,u.minWidth=u.maxWidth=u.width=r,r=e.width,
u.width=g,u.minWidth=h,u.maxWidth=l)),r}):G.documentElement.currentStyle&&(ga=function(a){return a.currentStyle},ka=function(a,b,e){var g,k,h;e=(e=e||ga(a))?e[b]:f;var l=a.style;return null==e&&l&&l[b]&&(e=l[b]),Fa.test(e)&&!fc.test(b)&&(g=l.left,k=a.runtimeStyle,h=k&&k.left,h&&(k.left=a.currentStyle.left),l.left="fontSize"===b?"1em":e,e=l.pixelLeft+"px",l.left=g,h&&(k.left=h)),""===e?"auto":e});k.each(["height","width"],function(a,b){k.cssHooks[b]={get:function(a,e,g){return e?0===a.offsetWidth&&
gc.test(k.css(a,"display"))?k.swap(a,ic,function(){return P(a,b,g)}):P(a,b,g):f},set:function(a,e,f){var g=f&&ga(a);return L(a,e,f?T(a,b,f,k.support.boxSizing&&"border-box"===k.css(a,"boxSizing",!1,g),g):0)}}});k.support.opacity||(k.cssHooks.opacity={get:function(a,b){return ec.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?0.01*parseFloat(RegExp.$1)+"":b?"1":""},set:function(a,b){var e=a.style,f=a.currentStyle,g=k.isNumeric(b)?"alpha(opacity="+100*b+")":"",h=f&&f.filter||e.filter||
"";e.zoom=1;(1<=b||""===b)&&""===k.trim(h.replace(Ua,""))&&e.removeAttribute&&(e.removeAttribute("filter"),""===b||f&&!f.filter)||(e.filter=Ua.test(h)?h.replace(Ua,g):h+" "+g)}});k(function(){k.support.reliableMarginRight||(k.cssHooks.marginRight={get:function(a,b){return b?k.swap(a,{display:"inline-block"},ka,[a,"marginRight"]):f}});!k.support.pixelPosition&&k.fn.position&&k.each(["top","left"],function(a,b){k.cssHooks[b]={get:function(a,e){return e?(e=ka(a,b),Fa.test(e)?k(a).position()[b]+"px":
e):f}}})});k.expr&&k.expr.filters&&(k.expr.filters.hidden=function(a){return 0>=a.offsetWidth&&0>=a.offsetHeight||!k.support.reliableHiddenOffsets&&"none"===(a.style&&a.style.display||k.css(a,"display"))},k.expr.filters.visible=function(a){return!k.expr.filters.hidden(a)});k.each({margin:"",padding:"",border:"Width"},function(a,b){k.cssHooks[a+b]={expand:function(e){var f=0,g={};for(e="string"==typeof e?e.split(" "):[e];4>f;f++)g[a+fa[f]+b]=e[f]||e[f-2]||e[0];return g}};qb.test(a)||(k.cssHooks[a+
b].set=L)});var jc=/%20/g,Eb=/\[\]$/,sb=/\r?\n/g,kc=/^(?:submit|button|image|reset|file)$/i,lc=/^(?:input|select|textarea|keygen)/i;k.fn.extend({serialize:function(){return k.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=k.prop(this,"elements");return a?k.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!k(this).is(":disabled")&&lc.test(this.nodeName)&&!kc.test(a)&&(this.checked||!Ka.test(a))}).map(function(a,b){var e=k(this).val();
return null==e?null:k.isArray(e)?k.map(e,function(a){return{name:b.name,value:a.replace(sb,"\r\n")}}):{name:b.name,value:e.replace(sb,"\r\n")}}).get()}});k.param=function(a,b){var e,g=[],h=function(a,b){b=k.isFunction(b)?b():null==b?"":b;g[g.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(b===f&&(b=k.ajaxSettings&&k.ajaxSettings.traditional),k.isArray(a)||a.jquery&&!k.isPlainObject(a))k.each(a,function(){h(this.name,this.value)});else for(e in a)O(e,a[e],b,h);return g.join("&").replace(jc,
"+")};k.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){k.fn[b]=function(a,e){return 0<arguments.length?this.on(b,null,a,e):this.trigger(b)}});k.fn.hover=function(a,b){return this.mouseenter(a).mouseleave(b||a)};var sa,pa,Va=k.now(),Wa=/\?/,mc=/#.*$/,tb=/([?&])_=[^&]*/,nc=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,oc=/^(?:GET|HEAD)$/,
pc=/^\/\//,ub=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,vb=k.fn.load,wb={},La={},xb="*/".concat("*");try{pa=la.href}catch(uc){pa=G.createElement("a"),pa.href="",pa=pa.href}sa=ub.exec(pa.toLowerCase())||[];k.fn.load=function(a,b,e){if("string"!=typeof a&&vb)return vb.apply(this,arguments);var g,h,l,r=this,u=a.indexOf(" ");return 0<=u&&(g=a.slice(u,a.length),a=a.slice(0,u)),k.isFunction(b)?(e=b,b=f):b&&"object"==typeof b&&(l="POST"),0<r.length&&k.ajax({url:a,type:l,dataType:"html",data:b}).done(function(a){h=
arguments;r.html(g?k("<div>").append(k.parseHTML(a)).find(g):a)}).complete(e&&function(a,b){r.each(e,h||[a.responseText,b,a])}),this};k.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){k.fn[b]=function(a){return this.on(b,a)}});k.each(["get","post"],function(a,b){k[b]=function(a,e,g,h){return k.isFunction(e)&&(h=h||g,g=e,e=f),k.ajax({url:a,type:b,dataType:h,data:e,success:g})}});k.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:pa,type:"GET",
isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(sa[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":xb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":a.String,"text html":!0,"text json":k.parseJSON,"text xml":k.parseXML},flatOptions:{url:!0,
context:!0}},ajaxSetup:function(a,b){return b?Y(Y(a,k.ajaxSettings),b):Y(k.ajaxSettings,a)},ajaxPrefilter:ba(wb),ajaxTransport:ba(La),ajax:function(a,b){function e(a,b,g,h){var A,F,y,K,E,Q=b;if(2!==H){H=2;u&&clearTimeout(u);s=f;r=h||"";z.readyState=0<a?4:0;if(g){K=t;h=z;var J,M,ea,C,R=K.contents,ha=K.dataTypes,G=K.responseFields;for(C in G)C in g&&(h[G[C]]=g[C]);for(;"*"===ha[0];)ha.shift(),M===f&&(M=K.mimeType||h.getResponseHeader("Content-Type"));if(M)for(C in R)if(R[C]&&R[C].test(M)){ha.unshift(C);
break}if(ha[0]in g)ea=ha[0];else{for(C in g){if(!ha[0]||K.converters[C+" "+ha[0]]){ea=C;break}J||(J=C)}ea=ea||J}K=ea?(ea!==ha[0]&&ha.unshift(ea),g[ea]):f}if(200<=a&&300>a||304===a)if(t.ifModified&&(E=z.getResponseHeader("Last-Modified"),E&&(k.lastModified[l]=E),E=z.getResponseHeader("etag"),E&&(k.etag[l]=E)),204===a)A=!0,Q="nocontent";else if(304===a)A=!0,Q="notmodified";else{var U;a:{g=t;A=K;var S,ca;y={};E=0;Q=g.dataTypes.slice();J=Q[0];if(g.dataFilter&&(A=g.dataFilter(A,g.dataType)),Q[1])for(S in g.converters)y[S.toLowerCase()]=
g.converters[S];for(;F=Q[++E];)if("*"!==F){if("*"!==J&&J!==F){if(S=y[J+" "+F]||y["* "+F],!S)for(U in y)if(ca=U.split(" "),ca[1]===F&&(S=y[J+" "+ca[0]]||y["* "+ca[0]])){!0===S?S=y[U]:!0!==y[U]&&(F=ca[0],Q.splice(E--,0,F));break}if(!0!==S)if(S&&g["throws"])A=S(A);else try{A=S(A)}catch(L){U={state:"parsererror",error:S?L:"No conversion from "+J+" to "+F};break a}}J=F}U={state:"success",data:A}}A=U;Q=A.state;F=A.data;y=A.error;A=!y}else y=Q,(a||!Q)&&(Q="error",0>a&&(a=0));z.status=a;z.statusText=(b||
Q)+"";A?D.resolveWith(B,[F,Q,z]):D.rejectWith(B,[z,Q,y]);z.statusCode(x);x=f;q&&w.trigger(A?"ajaxSuccess":"ajaxError",[z,t,A?F:y]);I.fireWith(B,[z,Q]);q&&(w.trigger("ajaxComplete",[z,t]),--k.active||k.event.trigger("ajaxStop"))}}"object"==typeof a&&(b=a,a=f);b=b||{};var g,h,l,r,u,q,s,A,t=k.ajaxSetup({},b),B=t.context||t,w=t.context&&(B.nodeType||B.jquery)?k(B):k.event,D=k.Deferred(),I=k.Callbacks("once memory"),x=t.statusCode||{},y={},E={},H=0,Q="canceled",z={readyState:0,getResponseHeader:function(a){var b;
if(2===H){if(!A)for(A={};b=nc.exec(r);)A[b[1].toLowerCase()]=b[2];b=A[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===H?r:null},setRequestHeader:function(a,b){var e=a.toLowerCase();return H||(a=E[e]=E[e]||a,y[a]=b),this},overrideMimeType:function(a){return H||(t.mimeType=a),this},statusCode:function(a){var b;if(a)if(2>H)for(b in a)x[b]=[x[b],a[b]];else z.always(a[z.status]);return this},abort:function(a){a=a||Q;return s&&s.abort(a),e(0,a),this}};if(D.promise(z).complete=
I.add,z.success=z.done,z.error=z.fail,t.url=((a||t.url||pa)+"").replace(mc,"").replace(pc,sa[1]+"//"),t.type=b.method||b.type||t.method||t.type,t.dataTypes=k.trim(t.dataType||"*").toLowerCase().match(ia)||[""],null==t.crossDomain&&(g=ub.exec(t.url.toLowerCase()),t.crossDomain=!(!g||g[1]===sa[1]&&g[2]===sa[2]&&(g[3]||("http:"===g[1]?80:443))==(sa[3]||("http:"===sa[1]?80:443)))),t.data&&t.processData&&"string"!=typeof t.data&&(t.data=k.param(t.data,t.traditional)),ta(wb,t,b,z),2===H)return z;(q=t.global)&&
0===k.active++&&k.event.trigger("ajaxStart");t.type=t.type.toUpperCase();t.hasContent=!oc.test(t.type);l=t.url;t.hasContent||(t.data&&(l=t.url+=(Wa.test(l)?"&":"?")+t.data,delete t.data),!1===t.cache&&(t.url=tb.test(l)?l.replace(tb,"$1_="+Va++):l+(Wa.test(l)?"&":"?")+"_="+Va++));t.ifModified&&(k.lastModified[l]&&z.setRequestHeader("If-Modified-Since",k.lastModified[l]),k.etag[l]&&z.setRequestHeader("If-None-Match",k.etag[l]));(t.data&&t.hasContent&&!1!==t.contentType||b.contentType)&&z.setRequestHeader("Content-Type",
t.contentType);z.setRequestHeader("Accept",t.dataTypes[0]&&t.accepts[t.dataTypes[0]]?t.accepts[t.dataTypes[0]]+("*"!==t.dataTypes[0]?", "+xb+"; q=0.01":""):t.accepts["*"]);for(h in t.headers)z.setRequestHeader(h,t.headers[h]);if(t.beforeSend&&(!1===t.beforeSend.call(B,z,t)||2===H))return z.abort();Q="abort";for(h in{success:1,error:1,complete:1})z[h](t[h]);if(s=ta(La,t,b,z)){z.readyState=1;q&&w.trigger("ajaxSend",[z,t]);t.async&&0<t.timeout&&(u=setTimeout(function(){z.abort("timeout")},t.timeout));
try{H=1,s.send(y,e)}catch(J){if(!(2>H))throw J;e(-1,J)}}else e(-1,"No Transport");return z},getScript:function(a,b){return k.get(a,f,b,"script")},getJSON:function(a,b,e){return k.get(a,b,e,"json")}});k.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){return k.globalEval(a),a}}});k.ajaxPrefilter("script",function(a){a.cache===f&&(a.cache=!1);a.crossDomain&&
(a.type="GET",a.global=!1)});k.ajaxTransport("script",function(a){if(a.crossDomain){var b,e=G.head||k("head")[0]||G.documentElement;return{send:function(f,g){b=G.createElement("script");b.async=!0;a.scriptCharset&&(b.charset=a.scriptCharset);b.src=a.url;b.onload=b.onreadystatechange=function(a,e){(e||!b.readyState||/loaded|complete/.test(b.readyState))&&(b.onload=b.onreadystatechange=null,b.parentNode&&b.parentNode.removeChild(b),b=null,e||g(200,"success"))};e.insertBefore(b,e.firstChild)},abort:function(){b&&
b.onload(f,!0)}}}});var yb=[],Xa=/(=)\?(?=&|$)|\?\?/;k.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=yb.pop()||k.expando+"_"+Va++;return this[a]=!0,a}});k.ajaxPrefilter("json jsonp",function(b,e,g){var h,l,r,u=!1!==b.jsonp&&(Xa.test(b.url)?"url":"string"==typeof b.data&&!(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&Xa.test(b.data)&&"data");return u||"jsonp"===b.dataTypes[0]?(h=b.jsonpCallback=k.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,u?b[u]=
b[u].replace(Xa,"$1"+h):!1!==b.jsonp&&(b.url+=(Wa.test(b.url)?"&":"?")+b.jsonp+"="+h),b.converters["script json"]=function(){return r||k.error(h+" was not called"),r[0]},b.dataTypes[0]="json",l=a[h],a[h]=function(){r=arguments},g.always(function(){a[h]=l;b[h]&&(b.jsonpCallback=e.jsonpCallback,yb.push(h));r&&k.isFunction(l)&&l(r[0]);r=l=f}),"script"):f});var qa,Da,qc=0,Ya=a.ActiveXObject&&function(){for(var a in qa)qa[a](f,!0)};k.ajaxSettings.xhr=a.ActiveXObject?function(){var b;if(!(b=!this.isLocal&&
ua()))a:{try{b=new a.ActiveXObject("Microsoft.XMLHTTP");break a}catch(e){}b=void 0}return b}:ua;Da=k.ajaxSettings.xhr();k.support.cors=!!Da&&"withCredentials"in Da;(Da=k.support.ajax=!!Da)&&k.ajaxTransport(function(b){if(!b.crossDomain||k.support.cors){var e;return{send:function(g,h){var l,r,u=b.xhr();if(b.username?u.open(b.type,b.url,b.async,b.username,b.password):u.open(b.type,b.url,b.async),b.xhrFields)for(r in b.xhrFields)u[r]=b.xhrFields[r];b.mimeType&&u.overrideMimeType&&u.overrideMimeType(b.mimeType);
b.crossDomain||g["X-Requested-With"]||(g["X-Requested-With"]="XMLHttpRequest");try{for(r in g)u.setRequestHeader(r,g[r])}catch(q){}u.send(b.hasContent&&b.data||null);e=function(a,g){var r,q,s,t;try{if(e&&(g||4===u.readyState))if(e=f,l&&(u.onreadystatechange=k.noop,Ya&&delete qa[l]),g)4!==u.readyState&&u.abort();else{t={};r=u.status;q=u.getAllResponseHeaders();"string"==typeof u.responseText&&(t.text=u.responseText);try{s=u.statusText}catch(A){s=""}r||!b.isLocal||b.crossDomain?1223===r&&(r=204):r=
t.text?200:404}}catch(B){g||h(-1,B)}t&&h(r,s,t,q)};b.async?4===u.readyState?setTimeout(e):(l=++qc,Ya&&(qa||(qa={},k(a).unload(Ya)),qa[l]=e),u.onreadystatechange=e):e()},abort:function(){e&&e(f,!0)}}}});var va,Ia,rc=/^(?:toggle|show|hide)$/,sc=RegExp("^(?:([+-])=|)("+Ha+")([a-z%]*)$","i"),tc=/queueHooks$/,Ga=[function(a,b,e){var f,g,h,l,r,u,q=this,s=a.style,t={},A=[],B=a.nodeType&&R(a);e.queue||(r=k._queueHooks(a,"fx"),null==r.unqueued&&(r.unqueued=0,u=r.empty.fire,r.empty.fire=function(){r.unqueued||
u()}),r.unqueued++,q.always(function(){q.always(function(){r.unqueued--;k.queue(a,"fx").length||r.empty.fire()})}));1===a.nodeType&&("height"in b||"width"in b)&&(e.overflow=[s.overflow,s.overflowX,s.overflowY],"inline"===k.css(a,"display")&&"none"===k.css(a,"float")&&(k.support.inlineBlockNeedsLayout&&"inline"!==W(a.nodeName)?s.zoom=1:s.display="inline-block"));e.overflow&&(s.overflow="hidden",k.support.shrinkWrapBlocks||q.always(function(){s.overflow=e.overflow[0];s.overflowX=e.overflow[1];s.overflowY=
e.overflow[2]}));for(g in b)if(h=b[g],rc.exec(h))(delete b[g],f=f||"toggle"===h,h===(B?"hide":"show"))||A.push(g);if(b=A.length){h=k._data(a,"fxshow")||k._data(a,"fxshow",{});"hidden"in h&&(B=h.hidden);f&&(h.hidden=!B);B?k(a).show():q.done(function(){k(a).hide()});q.done(function(){var b;k._removeData(a,"fxshow");for(b in t)k.style(a,b,t[b])});for(g=0;b>g;g++)f=A[g],l=q.createTween(f,B?h[f]:0),t[f]=h[f]||k.style(a,f),f in h||(h[f]=l.start,B&&(l.end=l.start,l.start="width"===f||"height"===f?1:0))}}],
za={"*":[function(a,b){var e,f,g=this.createTween(a,b),h=sc.exec(b),l=g.cur(),r=+l||0,u=1,q=20;if(h){if(e=+h[2],f=h[3]||(k.cssNumber[a]?"":"px"),"px"!==f&&r){r=k.css(g.elem,a,!0)||e||1;do u=u||".5",r/=u,k.style(g.elem,a,r+f);while(u!==(u=g.cur()/l)&&1!==u&&--q)}g.unit=f;g.start=r;g.end=h[1]?r+(h[1]+1)*e:e}return g}]};k.Animation=k.extend(u,{tweener:function(a,b){k.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var e,f=0,g=a.length;g>f;f++)e=a[f],za[e]=za[e]||[],za[e].unshift(b)},prefilter:function(a,
b){b?Ga.unshift(a):Ga.push(a)}});k.Tween=B;B.prototype={constructor:B,init:function(a,b,e,f,g,h){this.elem=a;this.prop=e;this.easing=g||"swing";this.options=b;this.start=this.now=this.cur();this.end=f;this.unit=h||(k.cssNumber[e]?"":"px")},cur:function(){var a=B.propHooks[this.prop];return a&&a.get?a.get(this):B.propHooks._default.get(this)},run:function(a){var b,e=B.propHooks[this.prop];return this.pos=b=this.options.duration?k.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):
a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),e&&e.set?e.set(this):B.propHooks._default.set(this),this}};B.prototype.init.prototype=B.prototype;B.propHooks={_default:{get:function(a){var b;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=k.css(a.elem,a.prop,""),b&&"auto"!==b?b:0):a.elem[a.prop]},set:function(a){k.fx.step[a.prop]?k.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[k.cssProps[a.prop]]||k.cssHooks[a.prop])?
k.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}};B.propHooks.scrollTop=B.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}};k.each(["toggle","show","hide"],function(a,b){var e=k.fn[b];k.fn[b]=function(a,f,g){return null==a||"boolean"==typeof a?e.apply(this,arguments):this.animate(Q(b,!0),a,f,g)}});k.fn.extend({fadeTo:function(a,b,e,f){return this.filter(R).css("opacity",0).show().end().animate({opacity:b},a,e,f)},animate:function(a,b,e,f){var g=
k.isEmptyObject(a),h=k.speed(b,e,f),l=function(){var b=u(this,k.extend({},a),h);l.finish=function(){b.stop(!0)};(g||k._data(this,"finish"))&&b.stop(!0)};return l.finish=l,g||!1===h.queue?this.each(l):this.queue(h.queue,l)},stop:function(a,b,e){var g=function(a){var b=a.stop;delete a.stop;b(e)};return"string"!=typeof a&&(e=b,b=a,a=f),b&&!1!==a&&this.queue(a||"fx",[]),this.each(function(){var b=!0,f=null!=a&&a+"queueHooks",h=k.timers,l=k._data(this);if(f)l[f]&&l[f].stop&&g(l[f]);else for(f in l)l[f]&&
l[f].stop&&tc.test(f)&&g(l[f]);for(f=h.length;f--;)h[f].elem!==this||null!=a&&h[f].queue!==a||(h[f].anim.stop(e),b=!1,h.splice(f,1));(b||!e)&&k.dequeue(this,a)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var b,e=k._data(this),f=e[a+"queue"];b=e[a+"queueHooks"];var g=k.timers,h=f?f.length:0;e.finish=!0;k.queue(this,a,[]);b&&b.cur&&b.cur.finish&&b.cur.finish.call(this);for(b=g.length;b--;)g[b].elem===this&&g[b].queue===a&&(g[b].anim.stop(!0),g.splice(b,1));for(b=0;h>b;b++)f[b]&&
f[b].finish&&f[b].finish.call(this);delete e.finish})}});k.each({slideDown:Q("show"),slideUp:Q("hide"),slideToggle:Q("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){k.fn[a]=function(a,e,f){return this.animate(b,a,e,f)}});k.speed=function(a,b,e){var f=a&&"object"==typeof a?k.extend({},a):{complete:e||!e&&b||k.isFunction(a)&&a,duration:a,easing:e&&b||b&&!k.isFunction(b)&&b};return f.duration=k.fx.off?0:"number"==typeof f.duration?f.duration:f.duration in
k.fx.speeds?k.fx.speeds[f.duration]:k.fx.speeds._default,(null==f.queue||!0===f.queue)&&(f.queue="fx"),f.old=f.complete,f.complete=function(){k.isFunction(f.old)&&f.old.call(this);f.queue&&k.dequeue(this,f.queue)},f};k.easing={linear:function(a){return a},swing:function(a){return 0.5-Math.cos(a*Math.PI)/2}};k.timers=[];k.fx=B.prototype.init;k.fx.tick=function(){var a,b=k.timers,e=0;for(va=k.now();b.length>e;e++)a=b[e],a()||b[e]!==a||b.splice(e--,1);b.length||k.fx.stop();va=f};k.fx.timer=function(a){a()&&
k.timers.push(a)&&k.fx.start()};k.fx.interval=13;k.fx.start=function(){Ia||(Ia=setInterval(k.fx.tick,k.fx.interval))};k.fx.stop=function(){clearInterval(Ia);Ia=null};k.fx.speeds={slow:600,fast:200,_default:400};k.fx.step={};k.expr&&k.expr.filters&&(k.expr.filters.animated=function(a){return k.grep(k.timers,function(b){return a===b.elem}).length});k.fn.offset=function(a){if(arguments.length)return a===f?this:this.each(function(b){k.offset.setOffset(this,a,b)});var b,e,g={top:0,left:0},h=this[0],l=
h&&h.ownerDocument;if(l)return b=l.documentElement,k.contains(b,h)?(typeof h.getBoundingClientRect!==Z&&(g=h.getBoundingClientRect()),e=ea(l),{top:g.top+(e.pageYOffset||b.scrollTop)-(b.clientTop||0),left:g.left+(e.pageXOffset||b.scrollLeft)-(b.clientLeft||0)}):g};k.offset={setOffset:function(a,b,e){var f=k.css(a,"position");"static"===f&&(a.style.position="relative");var g=k(a),h=g.offset(),l=k.css(a,"top"),r=k.css(a,"left"),u={},q={},s,t;("absolute"===f||"fixed"===f)&&-1<k.inArray("auto",[l,r])?
(q=g.position(),s=q.top,t=q.left):(s=parseFloat(l)||0,t=parseFloat(r)||0);k.isFunction(b)&&(b=b.call(a,e,h));null!=b.top&&(u.top=b.top-h.top+s);null!=b.left&&(u.left=b.left-h.left+t);"using"in b?b.using.call(a,u):g.css(u)}};k.fn.extend({position:function(){if(this[0]){var a,b,e={top:0,left:0},f=this[0];return"fixed"===k.css(f,"position")?b=f.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),k.nodeName(a[0],"html")||(e=a.offset()),e.top+=k.css(a[0],"borderTopWidth",!0),e.left+=k.css(a[0],
"borderLeftWidth",!0)),{top:b.top-e.top-k.css(f,"marginTop",!0),left:b.left-e.left-k.css(f,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||G.documentElement;a&&!k.nodeName(a,"html")&&"static"===k.css(a,"position");)a=a.offsetParent;return a||G.documentElement})}});k.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var e=/Y/.test(b);k.fn[a]=function(g){return k.access(this,function(a,g,h){var l=ea(a);return h===f?l?b in l?l[b]:
l.document.documentElement[g]:a[g]:(l?l.scrollTo(e?k(l).scrollLeft():h,e?h:k(l).scrollTop()):a[g]=h,f)},a,g,arguments.length,null)}});k.each({Height:"height",Width:"width"},function(a,b){k.each({padding:"inner"+a,content:b,"":"outer"+a},function(e,g){k.fn[g]=function(g,h){var l=arguments.length&&(e||"boolean"!=typeof g),r=e||(!0===g||!0===h?"margin":"border");return k.access(this,function(b,e,g){var h;return k.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(h=b.documentElement,
Math.max(b.body["scroll"+a],h["scroll"+a],b.body["offset"+a],h["offset"+a],h["client"+a])):g===f?k.css(b,e,r):k.style(b,e,g,r)},b,l?g:f,l,null)}})});a.jQuery=a.$=k;"function"==typeof define&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return k})})(window);function SHA1(a){function f(a,b){return a<<b|a>>>32-b}function g(a){var b="",e,f;for(e=7;0<=e;e--)f=a>>>4*e&15,b+=f.toString(16);return b}var b,e,q=Array(80),h=1732584193,l=4023233417,x=2562383102,w=271733878,z=3285377520,y,C,r,D,t;a=function(a){a=a.replace(/\r\n/g,"\n");for(var b="",e=0;e<a.length;e++){var f=a.charCodeAt(e);128>f?b+=String.fromCharCode(f):(127<f&&2048>f?b+=String.fromCharCode(f>>6|192):(b+=String.fromCharCode(f>>12|224),b+=String.fromCharCode(f>>6&63|128)),b+=String.fromCharCode(f&
63|128))}return b}(a);y=a.length;var E=[];for(b=0;b<y-3;b+=4)e=a.charCodeAt(b)<<24|a.charCodeAt(b+1)<<16|a.charCodeAt(b+2)<<8|a.charCodeAt(b+3),E.push(e);switch(y%4){case 0:b=2147483648;break;case 1:b=a.charCodeAt(y-1)<<24|8388608;break;case 2:b=a.charCodeAt(y-2)<<24|a.charCodeAt(y-1)<<16|32768;break;case 3:b=a.charCodeAt(y-3)<<24|a.charCodeAt(y-2)<<16|a.charCodeAt(y-1)<<8|128}for(E.push(b);14!=E.length%16;)E.push(0);E.push(y>>>29);E.push(y<<3&4294967295);for(a=0;a<E.length;a+=16){for(b=0;16>b;b++)q[b]=
E[a+b];for(b=16;79>=b;b++)q[b]=f(q[b-3]^q[b-8]^q[b-14]^q[b-16],1);e=h;y=l;C=x;r=w;D=z;for(b=0;19>=b;b++)t=f(e,5)+(y&C|~y&r)+D+q[b]+1518500249&4294967295,D=r,r=C,C=f(y,30),y=e,e=t;for(b=20;39>=b;b++)t=f(e,5)+(y^C^r)+D+q[b]+1859775393&4294967295,D=r,r=C,C=f(y,30),y=e,e=t;for(b=40;59>=b;b++)t=f(e,5)+(y&C|y&r|C&r)+D+q[b]+2400959708&4294967295,D=r,r=C,C=f(y,30),y=e,e=t;for(b=60;79>=b;b++)t=f(e,5)+(y^C^r)+D+q[b]+3395469782&4294967295,D=r,r=C,C=f(y,30),y=e,e=t;h=h+e&4294967295;l=l+y&4294967295;x=x+C&4294967295;
w=w+r&4294967295;z=z+D&4294967295}t=g(h)+g(l)+g(x)+g(w)+g(z);return t.toLowerCase()}b64_enc=base64.encode;b64_dec=base64.decode;function ub64_enc(a){return base64.encode(a).replace(/\+/g,"-").replace(/\//g,"_")}function ub64_dec(a){return base64.decode(a.replace(/\-/g,"+").replace(/\_/g,"/"))}function object_ub64_b64_enc(a){return _.object(_.map(_.pairs(a),function(a){return[ub64_enc(a[0]),b64_enc(a[1])]}))}
function object_ub64_b64_dec(a){return _.object(_.map(_.pairs(a),function(a){return[ub64_dec(a[0]),b64_dec(a[1])]}))}function json_ub64_b64_enc(a){return JSON.stringify(object_ub64_b64_enc(a))}function json_ub64_b64_dec(a){return object_ub64_b64_dec(JSON.parse(a))};(function(){var a=CryptoJS,f=a.lib.WordArray;a.enc.Base64={stringify:function(a){var b=a.words,e=a.sigBytes,f=this._map;a.clamp();a=[];for(var h=0;h<e;h+=3)for(var l=(b[h>>>2]>>>24-8*(h%4)&255)<<16|(b[h+1>>>2]>>>24-8*((h+1)%4)&255)<<8|b[h+2>>>2]>>>24-8*((h+2)%4)&255,x=0;4>x&&h+0.75*x<e;x++)a.push(f.charAt(l>>>6*(3-x)&63));if(b=f.charAt(64))for(;a.length%4;)a.push(b);return a.join("")},parse:function(a){var b=a.length,e=this._map,q=e.charAt(64);q&&(q=a.indexOf(q),-1!=q&&(b=q));for(var q=[],h=0,l=0;l<
b;l++)if(l%4){var x=e.indexOf(a.charAt(l-1))<<2*(l%4),w=e.indexOf(a.charAt(l))>>>6-2*(l%4);q[h>>>2]|=(x|w)<<24-8*(h%4);h++}return f.create(q,h)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}})();var Mustache;
(function(a){"undefined"!==typeof module&&module.exports?module.exports=a:"function"===typeof define?define(a):Mustache=a})(function(){function a(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function f(a){this.tail=this.string=a;this.pos=0}function g(a,b){this.view=a;this.parent=b;this.clearCache()}function b(){this.clearCache()}function e(a){for(var b=a[3],e=b,f;(f=a[4])&&f.length;)a=f[f.length-1],e=a[3];return[b,e]}function q(a){function b(a,e,g){if(!f[a]){var h=q(e);f[a]=function(a,
b){return h(a,b,g)}}return f[a]}var f={};return function(f,g,h){for(var l="",r,q,t=0,w=a.length;t<w;++t)switch(r=a[t],r[0]){case "#":q=h.slice.apply(h,e(r));l+=f._section(r[1],g,q,b(t,r[4],h));break;case "^":l+=f._inverted(r[1],g,b(t,r[4],h));break;case ">":l+=f._partial(r[1],g);break;case "&":l+=f._name(r[1],g);break;case "name":l+=f._escaped(r[1],g);break;case "text":l+=r[1]}return l}}function h(b){if(2!==b.length)throw Error("Invalid tags: "+b.join(" "));return[RegExp(a(b[0])+"\\s*"),RegExp("\\s*"+
a(b[1]))]}var l={name:"mustache.js",version:"0.7.0",tags:["{{","}}"]};l.Scanner=f;l.Context=g;l.Writer=b;var x=/\s*/,w=/\s+/,z=/\S/,y=/\s*=/,C=/\s*\}/,r=/#|\^|\/|>|\{|&|=|!/,D=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)},t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};l.escape=function(a){return String(a).replace(/[&<>"'\/]/g,function(a){return t[a]})};f.prototype.eos=function(){return""===this.tail};f.prototype.scan=function(a){return(a=
this.tail.match(a))&&0===a.index?(this.tail=this.tail.substring(a[0].length),this.pos+=a[0].length,a[0]):""};f.prototype.scanUntil=function(a){var b=this.tail.search(a);switch(b){case -1:a=this.tail;this.pos+=this.tail.length;this.tail="";break;case 0:a="";break;default:a=this.tail.substring(0,b),this.tail=this.tail.substring(b),this.pos+=b}return a};g.make=function(a){return a instanceof g?a:new g(a)};g.prototype.clearCache=function(){this._cache={}};g.prototype.push=function(a){return new g(a,this)};
g.prototype.lookup=function(a){var b=this._cache[a];if(!b){if("."===a)b=this.view;else for(var e=this;e;){if(0<a.indexOf("."))for(var f=a.split("."),g=0,b=e.view;b&&g<f.length;)b=b[f[g++]];else b=e.view[a];if(null!=b)break;e=e.parent}this._cache[a]=b}"function"===typeof b&&(b=b.call(this.view));return b};b.prototype.clearCache=function(){this._cache={};this._partialCache={}};b.prototype.compile=function(a,b){return this._compile(this._cache,a,a,b)};b.prototype.compilePartial=function(a,b,e){return this._compile(this._partialCache,
a,b,e)};b.prototype.render=function(a,b,e){return this.compile(a)(b,e)};b.prototype._compile=function(a,b,e,f){if(!a[b]){f=l.parse(e,f);var h=q(f),r=this;a[b]=function(a,b){if(b)if("function"===typeof b)r._loadPartial=b;else for(var f in b)r.compilePartial(f,b[f]);return h(r,g.make(a),e)}}return a[b]};b.prototype._section=function(a,b,e,f){a=b.lookup(a);switch(typeof a){case "object":if(D(a)){e="";for(var g=0,h=a.length;g<h;++g)e+=f(this,b.push(a[g]));return e}return a?f(this,b.push(a)):"";case "function":var l=
this;return a.call(b.view,e,function(a){return l.render(a,b)})||"";default:if(a)return f(this,b)}return""};b.prototype._inverted=function(a,b,e){a=b.lookup(a);return!a||D(a)&&0===a.length?e(this,b):""};b.prototype._partial=function(a,b){!(a in this._partialCache)&&this._loadPartial&&this.compilePartial(a,this._loadPartial(a));var e=this._partialCache[a];return e?e(b):""};b.prototype._name=function(a,b){var e=b.lookup(a);"function"===typeof e&&(e=e.call(b.view));return null==e?"":String(e)};b.prototype._escaped=
function(a,b){return l.escape(this._name(a,b))};l.parse=function(b,e){e=e||l.tags;for(var g=h(e),q=new f(b),s=[],t=[],D=!1,E=!1,W,N,O;!q.eos();){W=q.pos;if(O=q.scanUntil(g[0]))for(var ba=0,ta=O.length;ba<ta;++ba)if(N=O.charAt(ba),RegExp.prototype.test.call(z,N)?E=!0:t.push(s.length),s.push(["text",N,W,W+1]),W+=1,"\n"===N){if(D&&!E)for(;t.length;)s.splice(t.pop(),1);else t=[];E=D=!1}W=q.pos;if(!q.scan(g[0]))break;D=!0;N=q.scan(r)||"name";q.scan(x);"="===N?(O=q.scanUntil(y),q.scan(y),q.scanUntil(g[1])):
"{"===N?(O=RegExp("\\s*"+a("}"+e[1])),O=q.scanUntil(O),q.scan(C),q.scanUntil(g[1]),N="&"):O=q.scanUntil(g[1]);if(!q.scan(g[1]))throw Error("Unclosed tag at "+q.pos);s.push([N,O,W,q.pos]);if("name"===N||"{"===N||"&"===N)E=!0;"="===N&&(e=O.split(w),g=h(e))}for(var Y,q=0;q<s.length;++q)g=s[q],Y&&"text"===Y[0]&&"text"===g[0]?(Y[1]+=g[1],Y[3]=g[3],s.splice(q--,1)):Y=g;D=Y=[];g=[];for(t=0;t<s.length;++t)switch(q=s[t],q[0]){case "#":case "^":q[4]=[];g.push(q);D.push(q);D=q[4];break;case "/":if(0===g.length)throw Error("Unopened section: "+
q[1]);D=g.pop();if(D[1]!==q[1])throw Error("Unclosed section: "+D[1]);D=0<g.length?g[g.length-1][4]:Y;break;default:D.push(q)}if(D=g.pop())throw Error("Unclosed section: "+D[1]);return Y};var E=new b;l.clearCache=function(){return E.clearCache()};l.compile=function(a,b){return E.compile(a,b)};l.compilePartial=function(a,b,e){return E.compilePartial(a,b,e)};l.render=function(a,b,e){return E.render(a,b,e)};l.to_html=function(a,b,e,f){a=l.render(a,b,e);if("function"===typeof f)f(a);else return a};return l}());function setupLabel(){$(".checkbox input[type='checkbox']").length&&($(".checkbox").each(function(){$(this).removeClass("checked")}),$(".checkbox input[type='checkbox']:checked").each(function(){$(this).parent(".checkbox").addClass("checked")}),$(".checkbox input[type='checkbox']:disabled").each(function(){$(this).parent(".checkbox").addClass("disabled")}));$(".radio input[type='radio']").length&&($(".radio").each(function(){$(this).removeClass("checked")}),$(".radio input[type='radio']:checked").each(function(){$(this).parent(".radio").addClass("checked")}),
$(".radio input[type='radio']:disabled").each(function(){$(this).parent(".radio").addClass("disabled")}))}function custom_checkbox_and_radio(){$("html").addClass("has-js");$(".checkbox, .radio").prepend("<span class='icon'></span><span class='icon-to-fade'></span>");$(".checkbox, .radio").click(function(){setupLabel()});setupLabel()};(function(a,f,g){function b(a){return a}function e(a){a=decodeURIComponent(a.replace(q," "));return 0===a.indexOf('"')&&(a=a.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\")),a}var q=/\+/g,h=a.cookie=function(l,q,w){if(q!==g){if(w=a.extend({},h.defaults,w),null===q&&(w.expires=-1),"number"==typeof w.expires){var z=w.expires,y=w.expires=new Date;y.setDate(y.getDate()+z)}return q=h.json?JSON.stringify(q):q+"",f.cookie=[encodeURIComponent(l),"=",h.raw?q:encodeURIComponent(q),w.expires?"; expires="+
w.expires.toUTCString():"",w.path?"; path="+w.path:"",w.domain?"; domain="+w.domain:"",w.secure?"; secure":""].join("")}q=h.raw?b:e;w=f.cookie.split("; ");for(var z=l?null:{},y=0,C=w.length;C>y;y++){var r=w[y].split("="),D=q(r.shift()),r=q(r.join("="));if(l&&l===D){z=h.json?JSON.parse(r):r;break}l||(z[D]=h.json?JSON.parse(r):r)}return z};h.defaults={};a.removeCookie=function(b,e){return null!==a.cookie(b)?(a.cookie(b,null,e),!0):!1}})(jQuery,document);function render_data_prefixes(){function a(){var a=$("#prefixTable option:selected").val();ps=a=rows.get(a).pescape($("#prefixDrop option:selected").val());var g=["r"];"rw"==a&&(g=["rw","r"]);$("#permissions").html(Mustache.render("{{#prefixes}}<option value='{{.}}'>{{.}}</option>{{/prefixes}};",{prefixes:g}))}rows=new PicarusRows([],{table:"prefixes"});rows_dropdown(rows,{el:$("#prefixTable"),text:function(a){return a.pescaperow()},change:function(){var f=$("#prefixTable option:selected").val(),
g=[];_.each(rows.get(f).attributes,function(a,e){"row"!=e&&g.push(decode_id(e))});g.sort();$("#prefixDrop").html(Mustache.render("{{#prefixes}}<option value='{{.}}'>{{.}}</option>{{/prefixes}};",{prefixes:g}));$("#prefixDrop").change(a);a()}});$("#createButton").click(function(){var a=$("#prefixTable option:selected").val(),g={};g[$("#prefixDrop option:selected").val()+$("#suffix").val()]=$("#permissions option:selected").val();rows.get(a).psave(g,{patch:!0})});new RowsView({collection:rows,el:$("#prefixes"),
extraColumns:[{header:"Table",getFormatted:function(){return _.escape(base64.decode(this.get("row")))}}],deleteValues:!0});rows.fetch()}
function render_data_projects(){rows=new PicarusRows([],{table:"projects"});rows_dropdown(rows,{el:$("#prefixTable"),text:function(a){return a.pescaperow()}});slices_selector();$("#modifyProjectButton").click(function(){var a=$("#prefixTable option:selected").val(),f={},g=slices_selector_get(!0),g=_.map(g,function(a){return a[0]+"/"+a[1]}).join(",");f[$("#projectName").val()]=g;rows.get(a).psave(f,{patch:!0})});new RowsView({collection:rows,el:$("#prefixes"),extraColumns:[{header:"Table",getFormatted:function(){return _.escape(base64.decode(this.get("row")))}}],
deleteValues:!0});rows.fetch()}
function render_data_user(){users=new PicarusUsers;new (Backbone.View.extend({initialize:function(){_.bindAll(this,"render");this.collection.bind("reset",this.render);this.collection.bind("change",this.render)},render:function(){var a=_.uniq(_.flatten(_.map(this.collection.models,function(a){return _.keys(a.attributes)})));picarus_table=new Backbone.Table({collection:this.collection,columns:_.map(a,function(a){return"row"===a?{header:"email",getFormatted:function(){return _.escape(base64.decode(this.get(a)))}}:{header:decode_id(a),
getFormatted:function(){return _.escape(base64.decode(this.get(a)))}}})});this.$el.html(picarus_table.render().el)}}))({collection:users,el:$("#users")});login_get(function(a){a=new PicarusUser({row:encode_id(a.email)});users.add(a);a.fetch()})}
function render_data_uploads(a){var f=Backbone.View.extend({el:$("#container"),initialize:function(){_.bindAll(this,"render");this.model.bind("reset",this.render);this.model.bind("change",this.render)},render:function(){var a=_.unescape(this.model.pescape("upload_row_prefix")),b=encode_id("thum:image_150sq");picarus_api_data_scanner("images",encode_id(a),encode_id(prefix_to_stop_row(a)),[b],{success:function(a,f){$("#images").append($("<img>").attr("src","data:image/jpeg;base64,"+f[b]).attr("width",
"150px"))},maxRows:24})}});a=new PicarusUser({row:encode_id(a.email)});new f({model:a});a.fetch()}
function render_crawl_flickr(){row_selector($("#rowPrefixDrop"),$("#startRow"),$("#stopRow"));$("#runButton").click(function(){function a(e){var f=parseInt(((new Date).getTime()/1E3-h)*Math.random()+h-7776E3),g=parseInt(15552E3+f),C={hasGeo:Number($("#demogeo").is(":checked")),query:e.query,minUploadDate:f,maxUploadDate:g,action:"o/crawl/flickr"};e.className.length&&(C.className=e.className);l&&x&&(C.lat=String(l),C.lon=String(x));picarus_api("/a1/slice/images/"+encode_id(b)+"/"+encode_id(prefix_to_stop_row(b)),
"POST",{success:function(b){function h(a){var b=new Date(0);b.setUTCSeconds(a);return b.toString()}b=JSON.parse(b.responseText);b={minUploadDate:h(f),maxUploadDate:h(g),numRows:b.numRows};$("#numRows").append("Crawl Finished : "+e.query+" "+JSON.stringify(b)+"<br>");states.length?a(states.pop()):(q-=1)||button_reset()},data:C})}button_running();var f=$("#democlass").val(),g=$("#demoquery").val(),b=$("#rowPrefixDrop").val();if(0==g.length&&0==b.length)display_alert("Must specify query and prefix");
else{queries=_.shuffle(g.split(";"));var e=parseInt($("#demoiters").val()),q=10;if(isNaN(e)||1>e||20<e)display_alert("Iters must be 0 < x <= 20");else{$("#numRows").html("");var h=1232170610,l=Number($("#demolat").val()),x=Number($("#demolon").val());states=[];_.each(queries,function(a){var b={query:a,className:f};_.each(_.range(e),function(){states.push(b)})});states=_.shuffle(states);q=Math.min(q,states.length);_.each(_.range(q),function(){a(states.pop())})}}})}
function render_models_list(){results=new PicarusRows([],{table:"models",columns:["meta:"]});new RowsView({collection:results,el:$("#results"),extraColumns:[{header:"Takeout",getFormatted:function(){return Mustache.render("<a class='takeout_link' row='{{row}}'>Link</a>/<a class='takeout_chain' row='{{row}}'>Chain</a>",{row:this.escape("row")})}},{header:"Notes",className:"models-notes",getFormatted:function(){return this.pescape("meta:notes")+'<span style="font-size:5px"><a class="modal_link_notes" row="'+
this.escape("row")+'">edit</a></span>'}},{header:"Tags",className:"models-tags",getFormatted:function(){return this.pescape("meta:tags")+'<span style="font-size:5px"><a class="modal_link_tags" row="'+this.escape("row")+'">edit</a></span>'}}],postRender:function(){function a(a,b,e,f){b=Number(results.get(a).pescape(b));b="columns="+_.map(_.range(b),function(a){return encode_id(e+"-"+a)}).join("&");picarus_api("/a1/data/models/"+a+"?"+b,"GET",{success:function(b){b=_.map(JSON.parse(b.responseText),
function(a,b){return[Number(decode_id(b).split("-")[1]),base64.decode(a)]}).sort();var e=_.map(b,function(a,b){return a[1]}).join(""),x=CryptoJS.SHA1(CryptoJS.enc.Base64.parse(base64.encode(e))).toString();b=results.get(a).pescape("meta:model_"+f+"_sha1");if(x===b){for(var x=new Uint8Array(e.length),w=0;w<e.length;w++)x[w]=e.charCodeAt(w)&255;e=new Blob([x]);saveAs(e,"picarus-model-"+a+".sha1-"+b+"."+f+".msgpack")}else alert("Model SHA1 doesn't match!")}})}function f(a,b){a.click(function(a){a=a.target.getAttribute("row");
var f=results.get(a);$("#modal_content").val(f.pescape(b));$("#save_button").unbind();$("#save_button").click(function(){var a={};a[b]=$("#modal_content").val();f.psave(a,{patch:!0});$("#myModal").modal("hide")});$("#myModal").modal("show")})}$(".takeout_link").click(function(f){a($(f.target).attr("row"),"meta:model_link_chunks","data:model_link","link")});$(".takeout_chain").click(function(f){a($(f.target).attr("row"),"meta:model_chain_chunks","data:model_chain","chain")});f($(".modal_link_notes"),
"meta:notes");f($(".modal_link_tags"),"meta:tags")},deleteRows:!0,columns:"meta:name meta:input_type meta:output_type row meta:creation_time meta:input meta:model_link_size meta:model_chain_size meta:factory_info".split(" ")});results.fetch()}
function render_models_create(){results=new PicarusRows([],{table:"parameters"});av=new (Backbone.View.extend({initialize:function(){_.bindAll(this,"renderKind");_.bindAll(this,"renderName");this.collection.bind("reset",this.renderKind);this.collection.bind("change",this.renderKind);this.collection.bind("add",this.renderKind)},events:{"change #kind_select":"renderName","change #name_select":"renderParam"},renderParam:function(){$("#params").html("");$("#slices_select").html("");var a=$("#kind_select option:selected").val(),
f=$("#name_select option:selected").val();model=results.filter(function(b){if(b.pescape("kind")==a&&b.pescape("name")==f)return!0})[0];(function(a,e){_.each(a,function(a,b){var f;if("enum"==a.type)f=$("<select>").attr("name",e+b).html(Mustache.render("{{#models}}<option value='{{.}}'>{{.}}</option>{{/models}};",{models:a.values}));else if("int"==a.type)f=$("<input>").attr("name",e+b).attr("type","text").addClass("input-medium");else if("float"==a.type)f=$("<input>").attr("name",e+b).attr("type","text").addClass("input-medium");
else if("int_list"==a.type){f=$("<input>").attr("type","text").addClass("input-medium").val(a.min_size);var g=function(){$("[name^="+e+b+"]").remove();_.each(_.range(Number(f.val())),function(a){var f=$("<input>").attr("name",e+b+":"+a).attr("type","text").addClass("input-mini");$("#params").append(f);add_hint(f,b+":"+a)})};g();f.change(g)}else"str"==a.type&&(f=$("<input>").attr("name",e+b).attr("type","text").addClass("input-medium"));"undefined"!==typeof f&&($("#params").append(f),add_hint(f,b))})})(model.pescapejs("params"),
"param-");"slices"===model.pescape("data")&&($("#slices_select").append(document.getElementById("bpl_slices_select").innerHTML),slices_selector());var g;g="model"==model.pescape("type")?[model.pescape("input_type")]:model.pescapejs("input_types");_.each(g,function(a){var e=_.uniqueId("model_select_");"raw_image"===a?$("#params").append($("<input>").attr("name","input-"+a).attr("type","hidden").val(encode_id("data:image"))):"meta"===a?(e=_.uniqueId("model_select_"),e=$("<input>").attr("id",e).attr("name",
"input-"+a).attr("type","text").addClass("input-medium"),$("#params").append(e),add_hint(e,"Metadata column (e.g., meta:class)")):($("#params").append($("<select>").attr("id",e).attr("name","input-"+a).addClass("input-medium")),model_dropdown({modelFilter:function(e){return e.pescape("meta:output_type")===a},change:function(){},el:$("#"+e)}))})},renderKind:function(){var a=_.uniq(_.map(this.collection.models,function(a){return a.pescape("kind")}));$("#kind_select").html(Mustache.render("{{#models}}<option value='{{.}}'>{{.}}</option>{{/models}};",
{models:a}));this.renderName()},renderName:function(){var a=$("#kind_select option:selected").val(),f=this.collection.filter(function(f){return f.pescape("kind")==a}),f=_.map(f,function(a){return a.pescape("name")});$("#name_select").html(Mustache.render("{{#models}}<option value='{{.}}'>{{.}}</option>{{/models}};",{models:f}));this.renderParam()}}))({collection:results,el:$("#selects")});results.fetch();$("#runButton").click(function(){var a=_.object($("#params :input").map(function(){return[[$(this).attr("name"),
$(this).val()]]}));_.isUndefined(a["input-meta"])||(a["input-meta"]=encode_id(a["input-meta"]));var f=$("#kind_select option:selected").val(),g=$("#name_select option:selected").val(),b=results.filter(function(a){if(a.pescape("kind")==f&&a.pescape("name")==g)return!0})[0],e=b.get("row");a.path=decode_id(e);"factory"===b.pescape("type")&&(a.table="images",a.slices=slices_selector_get().join(","),p=a);picarus_api("/a1/data/models","POST",{success:function(a){response=JSON.parse(a.responseText);$("#results").html(response.row)},
data:a})})}
function render_models_single(){function a(a,b,e){var f=_.uniqueId("image_"),g=_.uniqueId("canvas_"),q=$("<img>").css("visibility","hidden").css("display","none").attr("id",f);q.load(function(){e(f,g)});b.append(q.attr("src",a))}function f(b,e,f,g){a(b,g,function(a,b){var h=$("#"+a).height(),r=$("#"+a).width();g.append($("<canvas>").attr("id",b).attr("height",h+"px").attr("width",r+"px"));var q=document.getElementById(b).getContext("2d");q.strokeStyle="blue";var t=document.getElementById(a);q.drawImage(t,
0,0);_.each(_.range(f),function(a){var b=e[4*a+2]*r,f=e[4*a+3]*r,g=e[4*a]*h;a=e[4*a+1]*h;q.moveTo(b,g);q.lineTo(b,a);q.stroke();q.moveTo(b,a);q.lineTo(f,a);q.stroke();q.moveTo(f,a);q.lineTo(f,g);q.stroke();q.moveTo(f,g);q.lineTo(b,g);q.stroke()})})}function g(b,e,f,g){a(b,g,function(a,b){var h=$("#"+a).height(),r=$("#"+a).width();g.append($("<canvas>").attr("id",b).attr("height",h+"px").attr("width",r+"px"));var q=document.getElementById(b).getContext("2d");q.strokeStyle="blue";var t=document.getElementById(a);
q.drawImage(t,0,0);_.each(_.range(f),function(a){var b=Math.max(h,r)*e[6*a+5]/2,f=e[6*a+0]*h;a=e[6*a+1]*r;console.log(b);q.beginPath();q.arc(a,f,b,0,2*Math.PI);q.stroke()})})}function b(a,b){for(var e=b.target.files,f=0,g;g=e[f];f++)if(g.type.match("image.*")){var q=new FileReader;q.onload=function(b){return function(b){a(b.target.result)}}(g);q.readAsDataURL(g)}}function e(a){function l(a){$("#imagefile").parent().html($("#imagefile").parent().html());$("#imagefile").change(e);result=JSON.parse(a.responseText);
a=q.get(w).pescape("meta:output_type");"binary_class_confidence"==a?($("#results").html($("<h3>").text("Classifier Confidence")),$("#results").append(msgpack.unpack(base64.decode(result[w])))):"binary_prediction"==a?($("#results").html($("<h3>").text("Binary Prediction")),$("#results").append(String(msgpack.unpack(base64.decode(result[w]))))):"processed_image"==a?($("#results").html($("<h3>").text("Processed Image")),$("#results").append($("<img>").attr("src","data:image/jpeg;base64,"+result[w]))):
"image_detections"==a?($("#results").html($("<h3>").text("Detections")),v=msgpack.unpack(base64.decode(result[w])),f(imageData,v[0],v[1][0],$("#results"))):"feature"==a?($("#results").html($("<h3>").text("Feature")),$("#results").append(_.escape(JSON.stringify(msgpack.unpack(base64.decode(result[w]))[0])))):"multi_class_distance"==a?($("#results").html($("<h3>").text("Multi Class Distance")),a=msgpack.unpack(base64.decode(result[w])),_.each(a,function(a){$("#results").append(a[1]+" "+a[0]+"<br>")})):
"distance_image_rows"==a?($("#results").html($("<h3>").text("Image Search Results")),a=msgpack.unpack(base64.decode(result[w])),debug_data=msgpack.unpack(base64.decode(result[w])),_.each(a,function(a){var b=_.uniqueId("image_");$("#results").append('<img id="'+b+'"> '+a[0]+"<br>");imageThumbnail(a[1],b)})):"feature2d_binary"==a?(debug_data=a=msgpack.unpack(base64.decode(result[w])),g(imageData,a[1],a[2][0],$("#results"))):(debug_result=result[w],alert("Unrecognized output type"))}function x(a){a=
JSON.parse(a.responseText);picarus_api_row(z,a.row,"POST",{data:{action:"i/chain",model:w},success:l})}imageData=void 0;b(function(a){imageData=a},a);$("#imagefile").wrap("<div />");if(1!=$("#imagefile")[0].files.length)display_alert("You must specify an image!");else{var w=$("#model_select").find(":selected").val(),z="images";a={};a[encode_id("data:image")]=$("#imagefile")[0].files[0];picarus_api_upload(z,{data:a,success:x});$("#results").html("")}}var q=model_dropdown({modelFilter:function(a){return!0},
change:function(){},el:$("#model_select")});$("#imagefile").change(e)}
function render_models_slice(){model_dropdown({modelFilter:function(a){return!0},el:$("#model_select")});row_selector($("#rowPrefixDrop"),$("#startRow"),$("#stopRow"));$("#runButton").click(function(){button_running();var a=encode_id(unescape($("#startRow").val())),f=encode_id(unescape($("#stopRow").val())),g="io/link";$("#chainCheck").is(":checked")&&(g="io/chain");g={action:g,model:$("#model_select").find(":selected").val()};picarus_api("/a1/slice/images/"+a+"/"+f,"POST",{success:button_reset,fail:button_error,
data:g})})}function render_process_thumbnail(){row_selector($("#rowPrefixDrop"),$("#startRow"),$("#stopRow"));$("#runButton").click(function(){button_running();var a=encode_id($("#startRow").val()),f=encode_id($("#stopRow").val());picarus_api("/a1/slice/images/"+a+"/"+f,"POST",{success:button_reset,fail:button_error,data:{action:"io/thumbnail"}})})}
function render_process_garbage(){row_selector($("#rowPrefixDrop"),$("#startRow"),$("#stopRow"));$("#runButton").click(function(){button_running();var a=encode_id($("#startRow").val()),f=encode_id($("#stopRow").val());picarus_api("/a1/slice/images/"+a+"/"+f,"POST",{success:button_reset,fail:button_error,data:{action:"io/garbage"}})})}
function render_process_exif(){row_selector($("#rowPrefixDrop"),$("#startRow"),$("#stopRow"));$("#runButton").click(function(){button_running();var a=encode_id($("#startRow").val()),f=encode_id($("#stopRow").val());picarus_api("/a1/slice/images/"+a+"/"+f,"POST",{success:button_reset,fail:button_error,data:{action:"io/exif"}})})}
function render_process_modify(){row_selector($("#rowPrefixDrop"),$("#startRow"),$("#stopRow"));$("#runButton").click(function(){button_running();var a=encode_id($("#columnName").val()),f=base64.encode($("#columnValue").val()),g=encode_id($("#startRow").val()),b=encode_id($("#stopRow").val()),e={};e[a]=f;picarus_api("/a1/slice/images/"+g+"/"+b,"PATCH",{success:button_reset,fail:button_error,data:e})})}
function render_process_copy(){row_selector($("#rowPrefixDrop"),$("#startRow"),$("#stopRow"));row_selector($("#rowPrefixDrop2"));$("#runButton").click(function(){button_running();var a=encode_id("data:image"),f=encode_id($("#columnName").val()),g=$("#columnValue").val(),b=encode_id($("#startRow").val()),e=encode_id($("#stopRow").val()),q=$("#rowPrefixDrop2 option:selected").val(),h=Number($("#maxRows").val());picarus_api_data_scanner("images",b,e,[a],{success:function(b,e){var h=encode_id(q+random_bytes(10));
cur_data={};cur_data[a]=e[a];f.length&&(cur_data[f]=base64.encode(g));picarus_api_row("images",h,"PATCH",{data:cur_data})},done:button_reset,fail:button_error,maxRows:h,maxRowsIter:5})})}
function render_annotate_list(){results=new PicarusRows([],{table:"annotations"});new RowsView({collection:results,el:$("#annotations"),extraColumns:[{header:"Worker",getFormatted:function(){return Mustache.render("<a href='/a1/annotate/{{task}}/index.html' target='_blank'>Worker</a>",{task:this.pescape("task")})}}],postRender:function(){},deleteRows:!0});results.fetch()}
function render_annotate_batch(){row_selector($("#rowPrefixDrop"),$("#startRow"),$("#stopRow"));$("#runButton").click(function(){var a=encode_id($("#startRow").val()),f=encode_id($("#stopRow").val()),g=encode_id("thum:image_150sq");encode_id("meta:class");var b=Number($("#num_tasks").val()),e=$("#query").val();picarus_api("/a1/slice/images/"+a+"/"+f,"POST",{success:function(a){response=JSON.parse(a.responseText);$("#results").append($("<a>").attr("href","/a1/annotate/"+response.task+"/index.html").text("Worker").attr("target",
"_blank"))},data:{action:"io/annotate/image/query_batch",imageColumn:g,query:e,instructions:$("#instructions").val(),numTasks:b,mode:"amt"}})})}
function render_annotate_entity(){row_selector($("#rowPrefixDrop"),$("#startRow"),$("#stopRow"));$("#runButton").click(function(){var a=encode_id($("#startRow").val()),f=encode_id($("#stopRow").val()),g=encode_id("thum:image_150sq"),b=Number($("#num_tasks").val()),e=encode_id($("#entity").val());picarus_api("/a1/slice/images/"+a+"/"+f,"POST",{success:function(a){response=JSON.parse(a.responseText);$("#results").append($("<a>").attr("href","/a1/annotate/"+response.task+"/index.html").text("Worker").attr("target",
"_blank"))},data:{action:"io/annotate/image/entity",imageColumn:g,entityColumn:e,instructions:$("#instructions").val(),numTasks:b,mode:"amt"}})})}
function render_visualize_thumbnails(){row_selector($("#rowPrefixDrop"),$("#startRow"),$("#stopRow"));$("#runButton").click(function(){function a(a,e){c=e;_.has(e,b)&&$("#results").append($("<img>").attr("src","data:image/jpeg;base64,"+e[b]).attr("title",a))}var f=encode_id(unescape($("#startRow").val())),g=encode_id(unescape($("#stopRow").val())),b=encode_id("thum:image_150sq"),e=encode_id("meta:");if(0==f.length||0==g.length)display_alert("Must specify rows");else{$("#results").html("");var q={success:a,
maxRows:100},h=unescape($("#filter").val());0<h.length&&(q.filter=h);picarus_api_data_scanner("images",f,g,[b,e],q)}})}
function render_visualize_metadata(){row_selector($("#rowPrefixDrop"),$("#startRow"),$("#stopRow"));$("#runButton").click(function(){function a(){var a=_.map(images.models,function(a){return a.id});picarus_api_delete_rows(a,progressModal())}function f(){$("#results").html("");images.length&&(av=new (Backbone.View.extend({initialize:function(){_.bindAll(this,"render");this.collection.bind("reset",this.render);this.collection.bind("change",this.render);this.collection.bind("add",this.render)},render:function(){var a=
_.uniq(_.flatten(_.map(this.collection.models,function(a){return _.keys(a.attributes)})));picarus_table=new Backbone.Table({collection:this.collection,columns:_.map(a,function(a){return"row"===a?[a,a]:{header:base64.decode(a),getFormatted:function(){var b=this.get(a);if("undefined"!==typeof b)return b=base64.decode(b),b.length<=q?b:'<span style="color:red">'+b.slice(0,q)+"</span>"}}})});this.$el.html(picarus_table.render().el)}}))({collection:images,el:$("#results")}),av.render(),$("#removeButton").removeAttr("disabled"),
button_confirm_click($("#removeButton"),a))}function g(a,b){c=b;b.row=a;images.add(b)}var b=encode_id(unescape($("#startRow").val())),e=encode_id(unescape($("#stopRow").val())),q=Number($("#maxSize").val()),h=encode_id("meta:");if(0==b.length||0==e.length)display_alert("Must specify rows");else{button_confirm_click_reset($("#removeButton"));images=new PicarusImages;var l={success:g,maxRows:1E3,done:f},x=unescape($("#filter").val());0<x.length&&(l.filter=x);picarus_api_data_scanner("images",b,e,[h],
l)}})}
function render_visualize_exif(){row_selector($("#rowPrefixDrop"),$("#startRow"),$("#stopRow"));$("#runButton").click(function(){function a(){var a=_.map(images.models,function(a){return a.id});picarus_api_delete_rows(a,progressModal())}function f(){$("#results").html("");images.length&&(av=new (Backbone.View.extend({initialize:function(){_.bindAll(this,"render");this.collection.bind("reset",this.render);this.collection.bind("change",this.render);this.collection.bind("add",this.render)},render:function(){var a=this.collection.filter(function(a){return"e30="!=
a.get(l)&&!_.isUndefined(a.get(l))});columns=_.uniq(_.flatten(_.map(a,function(a){return _.keys(JSON.parse(base64.decode(a.get(l))))}))).concat(["row"]);picarus_table=new Backbone.Table({collection:this.collection,columns:_.map(columns,function(a){return"row"===a?[a,a]:{header:a,getFormatted:function(){var b=JSON.parse(base64.decode(this.get(l)))[a];if("undefined"!==typeof b){if(!_.isString(b))return _.escape(JSON.stringify(b));b=base64.decode(b);return typeof b.length<=q?_.escape(b):'<span style="color:red">'+
_.escape(b.slice(0,q))+"</span>"}}}})});this.$el.html(picarus_table.render().el)}}))({collection:images,el:$("#results")}),av.render(),$("#removeButton").removeAttr("disabled"),button_confirm_click($("#removeButton"),a))}function g(a,b){c=b;b.row=a;"e30="!=b[l]&&images.add(b)}var b=encode_id(unescape($("#startRow").val())),e=encode_id(unescape($("#stopRow").val())),q=Number($("#maxSize").val()),h=encode_id("meta:");if(0==b.length||0==e.length)display_alert("Must specify rows");else{button_confirm_click_reset($("#removeButton"));
images=new PicarusImages;var l=encode_id("meta:exif"),x={success:g,maxRows:1E3,done:f},w=unescape($("#filter").val());0<w.length&&(x.filter=w);picarus_api_data_scanner("images",b,e,[h],x)}})}
function render_visualize_locations(){row_selector($("#rowPrefixDrop"),$("#startRow"),$("#stopRow"));$("#runButton").click(function(){var a=encode_id("meta:latitude"),f=encode_id("meta:longitude");button_confirm_click_reset($("#removeButton"));images=new PicarusImages;picarus_api_data_scanner("images",encode_id(unescape($("#startRow").val())),encode_id(unescape($("#stopRow").val())),[a,f],{success:function(g,b){b.row=g;var e=base64.decode(b[a]),q=base64.decode(b[f]);var e=Number(e),h=Number(q),l=
Number($("#demolat").val()),x=Number($("#demolong").val()),q=Number($("#demodist").val()),w=$("#filterInvert").is(":checked");if(!l||!x)e=w;else var z=(e-l)*(Math.PI/180),h=(h-x)*(Math.PI/180),e=Math.sin(z/2)*Math.sin(z/2)+Math.cos(l*(Math.PI/180))*Math.cos(e*(Math.PI/180))*Math.sin(h/2)*Math.sin(h/2),e=6371*2*Math.atan2(Math.sqrt(e),Math.sqrt(1-e))>q?!w:w;e||images.add(new PicarusImage(b))},done:function(){var g=Number($("#demolat").val()),b=Number($("#demolong").val());button_confirm_click($("#removeButton"),
function(){var a=_.map(images.models,function(a){return a.get("row")});picarus_api_delete_rows(a,progressModal())});$("#removeButton").removeAttr("disabled");if(!g||!g)g=Number(base64.decode(images.at(0).get(a))),b=Number(base64.decode(images.at(0).get(f)));g={zoom:14,center:new google.maps.LatLng(g,b),mapTypeId:google.maps.MapTypeId.HYBRID};map=new google.maps.Map(document.getElementById("map_canvas"),g);google.maps.event.addListener(map,"rightclick",function(a){$("#demolat").val(a.latLng.lat());
$("#demolong").val(a.latLng.lng())});images.each(function(b){var g=Number(base64.decode(b.get(a)));base64.decode(b.get(f));new google.maps.Marker({position:new google.maps.LatLng(g,lon),map:map})})}})})}
function render_visualize_times(){function a(a){a=google.visualization.arrayToDataTable([["Year","Count"]].concat(a));(new google.visualization.ColumnChart(document.getElementById("histYear"))).draw(a,{title:"Histogram (Year)",width:600,height:400,vAxis:{title:"Count"},hAxis:{title:"Year"}})}function f(a){a=google.visualization.arrayToDataTable([["Month","Count"]].concat(a));(new google.visualization.ColumnChart(document.getElementById("histMonth"))).draw(a,{title:"Histogram (Month)",width:600,height:400,
vAxis:{title:"Count"},hAxis:{title:"Month"}})}function g(a){a=google.visualization.arrayToDataTable([["Hour","Count"]].concat(a));(new google.visualization.ColumnChart(document.getElementById("histHour"))).draw(a,{title:"Histogram (Hour)",width:600,height:400,vAxis:{title:"Count"},hAxis:{title:"Hour"}})}function b(a){a=google.visualization.arrayToDataTable([["Day","Count"]].concat(a));(new google.visualization.ColumnChart(document.getElementById("histDay"))).draw(a,{title:"Histogram (Day)",width:600,
height:400,vAxis:{title:"Count"},hAxis:{title:"Day"}})}function e(a){var b={};_.each(a,function(a){var e=0;_.has(b,a)&&(e=b[a]);b[a]=e+1});return b}function q(a){return _.map(_.pairs(e(a)),function(a){return[Number(a[0]),a[1]]}).sort()}row_selector($("#rowPrefixDrop"),$("#startRow"),$("#stopRow"));$("#runButton").click(function(){var e=encode_id("meta:dateupload");images=new PicarusImages;picarus_api_data_scanner("images",encode_id(unescape($("#startRow").val())),encode_id(unescape($("#stopRow").val())),
[e],{success:function(a,b){b.row=a;images.add(new PicarusImage(b))},done:function(){years=[];months=[];hours=[];days=[];images.each(function(a){a=Number(base64.decode(a.get(e)));var b=new Date(0);b.setUTCSeconds(a);years.push(b.getFullYear());months.push(b.getMonth());hours.push(b.getHours());days.push(b.getDay())});a(q(years));f(q(months));g(q(hours));b(q(days))}})})}
function render_visualize_annotations(){function a(a,b,f,g){var x={};a.each(function(a){if(a.pescape("workerId")||!f)x[a.get("row")]=[]});b.each(function(a){var b=encode_id(a.pescape("user_id"));_.has(x,b)&&(!g||a.pescape("end_time"))&&x[b].push(a)});_.each(x,function(a){a.sort(function(a,b){a=Number(a.pescape("start_time"));b=Number(b.pescape("start_time"));return a<b?-1:a>b?1:0})});return x}function f(a,b){var f={};b.each(function(a){var b=a.pescapejs("user_data"),e=a.pescape("image"),g=a.pescape("entity");
_.has(f,g)||(f[g]={scoresPos:{},scoresNeg:{},scoresTotal:{}});a=f[g].scoresPos;var q=f[g].scoresNeg,g=f[g].scoresTotal;_.has(g,e)?g[e]+=1:g[e]=1;"true"==b&&(_.has(a,e)?a[e]+=1:a[e]=1);"false"==b&&(_.has(q,e)?q[e]+=1:q[e]=1)});return f}function g(b,f,g){function l(){var b=$("#unclicked").is(":checked"),e=f(results);$("#class_select").html(Mustache.render("{{#classes}}<option value='{{.}}'>{{.}}</option>{{/classes}};",{classes:e}));$("#class_select").unbind();$("#class_select").change(x);class_scores=
g(users,results,b);x();b=_.map(class_scores,function(a,b){var e={pos:0,neg:0,total:0,unique:_.size(a.scoresTotal)};_.each(a.scoresPos,function(a){e.pos+=a});_.each(a.scoresNeg,function(a){e.neg+=a});_.each(a.scoresTotal,function(a){e.total+=a});e.quality=(e.pos-e.neg)/(e.total+1E-7);e.class_name=b;return e});b.sort(function(a,b){return b.quality-a.quality});$("#annotation-stats").html(Mustache.render("<table><tr><td>Name</td><td>Pos Annot.</td><td>Neg Annot.</td><td>Tot Annot.</td><td>Unique</td></tr>{{#scores}}<tr><td>{{class_name}}</td><td>{{pos}}</td><td>{{neg}}</td><td>{{total}}</td><td>{{unique}}</td></tr>{{/scores}}</table>",
{scores:b}));b=a(users,results,!0,!0);annotation_times={};_.each(b,function(a){_.each(a,function(a,b){var e=Number(a.pescape("end_time"))-Number(a.pescape("start_time"));_.has(annotation_times,b)?annotation_times[b].push(e):annotation_times[b]=[e]})});var l=function(a){return _.reduce(a,function(a,b){return a+b},0)/a.length};median_rows=_.map(annotation_times,function(a,b){a.sort(function(a,b){return a-b});return[Number(b),_.min(a),a[Math.round(a.length/2)],l(a)]});b=to_google_data(median_rows,["Iteration",
"Min","Median","Mean"]);(new google.visualization.LineChart(document.getElementById("annotator_time_graph"))).draw(b,{title:"Annotation Time vs Iteration #",hAxis:{title:"Iteration"}})}function x(){function a(b,e,f){b.html("");b.append($("<h3>").text(f+" "+e.length+" / "+_.size(ts)));_.each(e.slice(0,24),function(a){var e=_.uniqueId("image_");b.append($("<img>").attr("id",e).attr("title","Row: "+a[0]+" Score: "+a[1]).addClass("hide"));picarus_api("/a1/data/images/"+a[0],"GET",{success:function(a){response=
JSON.parse(a.responseText);_.isUndefined(response[w])||$("#"+e).attr("src","data:image/jpeg;base64,"+response[w]).attr("width","150px").removeClass("hide")},data:{columns:w}})})}function b(){action=$("#actionSplit").find(":selected").val();delKeys=_.keys(_.object({positive:posScores,negative:negScores,other:otherScores}[action]));picarus_api_delete_rows(delKeys,progressModal());button_confirm_click_reset($("#removeButton"));button_confirm_click($("#removeButton"),b)}function e(){var a=$("#actionSplit").find(":selected").val(),
a=_.keys(_.object({positive:posScores,negative:negScores,other:otherScores}[a]));picarus_api_modify_rows(a,$("#colName").val(),$("#colValue").val(),progressModal());button_confirm_click_reset($("#modifyButton"));button_confirm_click($("#modifyButton"),e)}function f(){button_confirm_click_reset($("#removeButton"));button_confirm_click($("#removeButton"),b);button_confirm_click_reset($("#modifyButton"));button_confirm_click($("#modifyButton"),e)}var g=$("#class_select").find(":selected").val();negPct=
Number($("#negPct").val());posPct=Number($("#posPct").val());negCnt=Math.max(1,Number($("#negCnt").val()));posCnt=Math.max(1,Number($("#posCnt").val()));unclicked=$("#unclicked").is(":checked");scores=class_scores[g];_.isUndefined(scores)||(ts=scores.scoresTotal,posScores=_.sortBy(_.filter(_.pairs(scores.scoresPos),function(a){return a[1]>=posCnt&&a[1]/ts[a[0]]>=posPct}),function(a){return-a[1]}),negScores=_.sortBy(_.filter(_.pairs(scores.scoresNeg),function(a){return a[1]>=negCnt&&a[1]/ts[a[0]]>=
negPct}),function(a){return a[1]}),os=_.omit(_.omit(ts,_.keys(scores.scoresPos)),_.keys(scores.scoresNeg)),otherScores=_.shuffle(_.pairs(os)),a($("#positive_samples"),posScores,"Positive Samples"),a($("#negative_samples"),negScores,"Negative Samples"),a($("#other_samples"),otherScores,"Other Samples (not pos/neg)"),button_confirm_click($("#removeButton"),b),button_confirm_click($("#modifyButton"),e),$("#actionSplit").change(f))}b=decode_id(b);results=new PicarusRows([],{table:"annotations-results-"+
b});users=new PicarusRows([],{table:"annotations-users-"+b});var w=encode_id("thum:image_150sq");$("#negPct").change(l);$("#posPct").change(l);$("#posCnt").change(l);$("#negCnt").change(l);$("#unclicked").change(l);new RowsView({collection:results,el:$("#annotation-results"),postRender:_.debounce(l,100)});results.fetch();new RowsView({collection:users,el:$("#annotation-users"),postRender:_.debounce(l,100)});users.fetch()}var b=new PicarusRows([],{table:"annotations"});rows_dropdown(b,{el:$("#annotator_select"),
text:function(a){return a.pescapejs("params").query},change:function(){function a(e){annotation=JSON.parse(e.responseText);annotation_type=JSON.parse(base64.decode(annotation[encode_id("params")])).type;"image_entity"==annotation_type&&(get_classes=function(a){return _.unique(a.map(function(a,b){return a.pescape("entity")})).sort()},get_scores=f);g(b,get_classes,get_scores)}var b=$("#annotator_select").find(":selected").val();_.isUndefined(b)||picarus_api("/a1/data/annotations/"+b,"GET",{success:a})}});
b.fetch()}
function render_evaluate_classifier(){model_dropdown({modelFilter:function(a){return"binary_class_confidence"===a.pescape("meta:output_type")},change:function(){var a=this.$el.find(":selected").val();m=this.collection.get(a);$("#gtColumn").val(m.pescapejs("meta:factory_info").inputs.meta);$("#posClass").val(m.pescapejs("meta:factory_info").params.class_positive);$("#modelKey").val(a)},el:$("#model_select")});slices_selector();$("#runButton").click(function(){button_running();confs={pos_confs:[],neg_confs:[]};
var a=$("#gtColumn").val(),f=$("#modelKey").val(),g=$("#posClass").val();sliceStats={};var b=slices_selector_get(!0);_.each(b,function(e,q){var h=e.join("/");sliceStats[h]={numPos:0,numNeg:0,noConf:0,noGT:0,noConfGT:0};picarus_api_data_scanner("images",e[0],e[1],[a,f],{success:function(b,e){$("#progress").css("width",100*(confs.pos_confs.length+confs.neg_confs.length)/19850+"%");c=e;_.has(e,f)&&_.has(e,a)?base64.decode(e[a])==g?(sliceStats[h].numPos+=1,confs.pos_confs.push(msgpack.unpack(base64.decode(e[f])))):
(sliceStats[h].numNeg+=1,confs.neg_confs.push(msgpack.unpack(base64.decode(e[f])))):(_.has(e,f)||(sliceStats[h].noConf+=1),_.has(e,a)||(sliceStats[h].noConfGT+=1),_.has(e,a)||(sliceStats[h].noGT+=1))},done:q==b.length-1?function(){confs.neg_confs.sort(function(a,b){return a-b});confs.pos_confs.sort(function(a,b){return a-b});plot_confs(confs);render_slice_stats_table($("#slicesTable"),sliceStats);button_reset()}:function(){}})})})}
function render_slice_stats_table(a,f){function g(a){return _.map(a.split("/"),function(a){return decode_id(a)}).join("/")}var b=[{name:"Slice",numPos:"Pos",numNeg:"Neg",noConf:"No Conf",noGT:"No GT",noConfGT:"No ConfGT"}],b=b.concat(_.map(f,function(a,b){a.name=g(b);return a}));a.html(Mustache.render("<table>{{#slices}}<tr><td>{{name}}</td><td>{{numPos}}</td><td>{{numNeg}}</td><td>{{noConf}}</td><td>{{noGT}}</td><td>{{noConfGT}}</td></tr>{{/slices}}</table>",{slices:b}))}
function confs_to_conf_hist(a,f,g,b){var e=Math.min(a[0],f[0]),q=Math.min(a[a.length-1],f[f.length-1]),q=g/(q-e),h=[],l=[],x=[],w;for(w=0;w<g;w++)h[w]=0,l[w]=0;for(w=0;w<a.length;w++)h[Math.min(g-1,Math.max(0,Math.floor((a[w]-e)*q)))]+=1;for(w=0;w<f.length;w++)l[Math.min(g-1,Math.max(0,Math.floor((f[w]-e)*q)))]+=1;for(w=0;w<g;w++)x[w]=[(w+0.5)/q+e,h[w],l[w]],b&&(x[w][1]/=a.length,x[w][2]/=f.length);return x}
function test_confs_to_confusion_matrix(){cms=confs_to_confusion_matrix([],[]);if(!_.isEqual(cms,[]))return 1;cms=confs_to_confusion_matrix([0],[]);if(!_.isEqual(cms,[[1,0,0,0,0]]))return 2;cms=confs_to_confusion_matrix([],[0]);if(!_.isEqual(cms,[[0,0,1,0,Infinity]]))return 3;cms=confs_to_confusion_matrix([0],[0]);if(!_.isEqual(cms,[[1,1,0,0,0],[0,0,1,1,Infinity]]))return 4;cms=confs_to_confusion_matrix([1],[0]);if(!_.isEqual(cms,[[1,0,1,0,1]]))return 5;cms=confs_to_confusion_matrix([0],[1]);if(!_.isEqual(cms,
[[1,1,0,0,0],[0,0,1,1,Infinity]]))return 6;cms=confs_to_confusion_matrix([0,0],[0]);if(!_.isEqual(cms,[[2,1,0,0,0],[0,0,1,2,Infinity]]))return 7;cms=confs_to_confusion_matrix([0,1],[0]);if(!_.isEqual(cms,[[2,1,0,0,0],[1,0,1,1,1]]))return 8;cms=confs_to_confusion_matrix([0,0],[1]);if(!_.isEqual(cms,[[2,1,0,0,0],[0,0,1,2,Infinity]]))return 9;cms=confs_to_confusion_matrix([1,2],[0]);if(!_.isEqual(cms,[[2,0,1,0,1]]))return 10;cms=confs_to_confusion_matrix([0,2],[1]);if(!_.isEqual(cms,[[2,1,0,0,0],[1,
0,1,1,2]]))return 11;cms=confs_to_confusion_matrix([0,1],[2]);if(!_.isEqual(cms,[[2,1,0,0,0],[0,0,1,2,Infinity]]))return 12;cms=confs_to_confusion_matrix([1,2],[0,3]);if(!_.isEqual(cms,[[2,1,1,0,1],[0,0,2,2,Infinity]]))return 13;cms=confs_to_confusion_matrix([1,2,3],[0,3]);if(!_.isEqual(cms,[[3,1,1,0,1],[0,0,2,3,Infinity]]))return 14;cms=confs_to_confusion_matrix([1,2,3,3],[0,3]);return!_.isEqual(cms,[[4,1,1,0,1],[0,0,2,4,Infinity]])?15:0}
function confs_to_confusion_matrix(a,f){for(var g=[],b=0,e=0,q;a.length||f.length;){for(q=0;q<f.length&&!(f[q]>=a[0]);q++);f=f.slice(q,f.length);e+=q;q=a.length?a[0]:Infinity;g.push([a.length,f.length,e,b,q]);for(q=0;q<a.length&&!(a[q]>f[0]);q++);a=a.slice(q,a.length);b+=q}return g}function cms_to_rps(a){var f=[],g;for(g=0;g<a.length;g++)f.push([a[g][0]/(a[g][0]+a[g][3]),a[g][0]/(a[g][0]+a[g][1]),a[g][4]]);return f}
function cms_to_conf_accs(a){var f=[],g;for(g=0;g<a.length;g++)f.push([a[g][4],(a[g][0]+a[g][2])/(a[g][0]+a[g][1]+a[g][2]+a[g][3])]);return f}function cms_to_fpr_tprs(a){var f=[],g,b,e,q=confs.pos_confs.length,h=confs.neg_confs.length;for(g=0;g<a.length;g++)b=a[g][1]/h,e=a[g][0]/q,f.push([b,e,a[g][4]]);return f}
function to_google_data(a,f,g){var b,e=new google.visualization.DataTable;for(b=0;b<f.length;b++)e.addColumn("number",f[b]);g&&e.addColumn({type:"number",role:"tooltip"});d=a;e.addRows(a);return e}
function plot_confs(a){function f(a,b,e,f,g){var h,l=Infinity,r,q;for(h=0;h<b.getNumberOfRows();h++)q=Math.abs(g-b.getValue(h,e)),q<l&&(l=q,r=h);a.setSelection(_.map(f,function(a){return{row:r,column:a}}))}function g(a){f(q,e,0,[1,2],a);f(l,h,0,[1,2],a);f(y,z,2,[1],a);f(r,C,2,[1],a);f(w,x,0,[1],a)}var b=test_confs_to_confusion_matrix();b&&alert(b);var e=to_google_data(confs_to_conf_hist(a.pos_confs,a.neg_confs,100),["Confidence","+","-"]),b={title:"Classifier Confidence",hAxis:{title:"Confidence"}},
q=new google.visualization.LineChart(document.getElementById("graph_confidence_scatter"));q.draw(e,b);var h=to_google_data(confs_to_conf_hist(a.pos_confs,a.neg_confs,100,!0),["Confidence","+","-"]),b={title:"Classifier Confidence (normalized)",hAxis:{title:"Confidence"}},l=new google.visualization.LineChart(document.getElementById("graph_confidence_scatter_norm"));l.draw(h,b);a=confs_to_confusion_matrix(a.pos_confs,a.neg_confs);var x=to_google_data(cms_to_conf_accs(a),["Confidence","Accuracy"]),b=
{title:"Classifier Confidence vs Accuracy",hAxis:{title:"Confidence"}},w=new google.visualization.LineChart(document.getElementById("graph_confidence_accuracy"));w.draw(x,b);var z=to_google_data(cms_to_rps(a),["recall","precision"],!0),b={title:"PR Curve",hAxis:{title:"Recall",minValue:0,maxValue:1},vAxis:{title:"Precision",minValue:0,maxValue:1},chartArea:{width:200,height:200},legend:{position:"none"}},y=new google.visualization.LineChart(document.getElementById("graph_rps"));y.draw(z,b);var C=
to_google_data(cms_to_fpr_tprs(a),["fpr","tpr"],!0),b={title:"ROC Curve",hAxis:{title:"FPR",minValue:0,maxValue:1},vAxis:{title:"TPR",minValue:0,maxValue:1},chartArea:{width:200,height:200},legend:{position:"none"}},r=new google.visualization.LineChart(document.getElementById("graph_roc"));r.draw(C,b);a=google.visualization.events.addListener;a(q,"select",function(){var a=q.getSelection();void 0!==a[0]&&g(e.getValue(a[0].row,0))});a(l,"select",function(){var a=l.getSelection();void 0!==a[0]&&g(h.getValue(a[0].row,
0))});a(y,"select",function(){var a=y.getSelection();void 0!==a[0]&&g(z.getValue(a[0].row,2))});a(r,"select",function(){var a=r.getSelection();void 0!==a[0]&&g(C.getValue(a[0].row,2))});a(w,"select",function(){var a=w.getSelection();void 0!==a[0]&&g(x.getValue(a[0].row,0))})};var CryptoJS=CryptoJS||function(a,f){var g={},b=g.lib={},e=function(){},q=b.Base={extend:function(a){e.prototype=this;var b=new e;a&&b.mixIn(a);b.hasOwnProperty("init")||(b.init=function(){b.$super.init.apply(this,arguments)});b.init.prototype=b;b.$super=this;return b},create:function(){var a=this.extend();a.init.apply(a,arguments);return a},init:function(){},mixIn:function(a){for(var b in a)a.hasOwnProperty(b)&&(this[b]=a[b]);a.hasOwnProperty("toString")&&(this.toString=a.toString)},clone:function(){return this.init.prototype.extend(this)}},
h=b.WordArray=q.extend({init:function(a,b){a=this.words=a||[];this.sigBytes=b!=f?b:4*a.length},toString:function(a){return(a||x).stringify(this)},concat:function(a){var b=this.words,e=a.words,f=this.sigBytes;a=a.sigBytes;this.clamp();if(f%4)for(var g=0;g<a;g++)b[f+g>>>2]|=(e[g>>>2]>>>24-8*(g%4)&255)<<24-8*((f+g)%4);else if(65535<e.length)for(g=0;g<a;g+=4)b[f+g>>>2]=e[g>>>2];else b.push.apply(b,e);this.sigBytes+=a;return this},clamp:function(){var b=this.words,e=this.sigBytes;b[e>>>2]&=4294967295<<
32-8*(e%4);b.length=a.ceil(e/4)},clone:function(){var a=q.clone.call(this);a.words=this.words.slice(0);return a},random:function(b){for(var e=[],f=0;f<b;f+=4)e.push(4294967296*a.random()|0);return new h.init(e,b)}}),l=g.enc={},x=l.Hex={stringify:function(a){var b=a.words;a=a.sigBytes;for(var e=[],f=0;f<a;f++){var g=b[f>>>2]>>>24-8*(f%4)&255;e.push((g>>>4).toString(16));e.push((g&15).toString(16))}return e.join("")},parse:function(a){for(var b=a.length,e=[],f=0;f<b;f+=2)e[f>>>3]|=parseInt(a.substr(f,
2),16)<<24-4*(f%8);return new h.init(e,b/2)}},w=l.Latin1={stringify:function(a){var b=a.words;a=a.sigBytes;for(var e=[],f=0;f<a;f++)e.push(String.fromCharCode(b[f>>>2]>>>24-8*(f%4)&255));return e.join("")},parse:function(a){for(var b=a.length,e=[],f=0;f<b;f++)e[f>>>2]|=(a.charCodeAt(f)&255)<<24-8*(f%4);return new h.init(e,b)}},z=l.Utf8={stringify:function(a){try{return decodeURIComponent(escape(w.stringify(a)))}catch(b){throw Error("Malformed UTF-8 data");}},parse:function(a){return w.parse(unescape(encodeURIComponent(a)))}},
y=b.BufferedBlockAlgorithm=q.extend({reset:function(){this._data=new h.init;this._nDataBytes=0},_append:function(a){"string"==typeof a&&(a=z.parse(a));this._data.concat(a);this._nDataBytes+=a.sigBytes},_process:function(b){var e=this._data,f=e.words,g=e.sigBytes,l=this.blockSize,q=g/(4*l),q=b?a.ceil(q):a.max((q|0)-this._minBufferSize,0);b=q*l;g=a.min(4*b,g);if(b){for(var w=0;w<b;w+=l)this._doProcessBlock(f,w);w=f.splice(0,b);e.sigBytes-=g}return new h.init(w,g)},clone:function(){var a=q.clone.call(this);
a._data=this._data.clone();return a},_minBufferSize:0});b.Hasher=y.extend({cfg:q.extend(),init:function(a){this.cfg=this.cfg.extend(a);this.reset()},reset:function(){y.reset.call(this);this._doReset()},update:function(a){this._append(a);this._process();return this},finalize:function(a){a&&this._append(a);return this._doFinalize()},blockSize:16,_createHelper:function(a){return function(b,e){return(new a.init(e)).finalize(b)}},_createHmacHelper:function(a){return function(b,e){return(new C.HMAC.init(a,
e)).finalize(b)}}});var C=g.algo={};return g}(Math);Backbone.Table=Backbone.View.extend({tagName:"table",initialize:function(){return this.$el=this.$el||$(this.el)},template:_.template('<% var rows = collection.models;  %>\n<thead>\n\t<tr>\n\t\t<% _.each(columns, function (col) { %>\n\t\t\t<th class="<%= col.className || \'\' %>">\n\t\t\t\t<%= col.header || (_.isArray(col) && col[1]) || col %>\n\t\t\t</th>\n\t\t<% }) %>\n\t</tr>\n</thead>\n<tbody>\n\t<% _.each(rows, function (row, i) { %>\n\t<tr class="<%= i % 2 ? \'even\' : \'odd\' %>">\n\t\t<% _.each(columns, function (col) { %>\n\t\t\t<td class="<%= col.className || \'\' %>"<% if (col.getValue) { %> value="<%= col.getValue.call(row) %>"<% } %>>\n\t\t\t\t<%= col.getFormatted ? col.getFormatted.call(row) : row.get((_.isArray(col) ? col[0] : col)) %>\n\t\t\t</td>\n\t\t<% }) %>\n\t</tr>\n\t<% }) %>\n</tbody>\n<tfoot>\n\t<tr>\n\t\t<% _.each(columns, function (col) { %>\n\t\t\t<th class="<%= col.className || \'\' %>"><%= col.footer || "" %></th>\n\t\t<% }) %>\n\t</tr>\n</tfoot>'),
render:function(){this.$el.html(this.template({collection:this.collection,columns:this.options.columns}));return this}});CryptoJS=CryptoJS||function(a,f){var g={},b=g.lib={},e=function(){},q=b.Base={extend:function(a){e.prototype=this;var b=new e;a&&b.mixIn(a);b.hasOwnProperty("init")||(b.init=function(){b.$super.init.apply(this,arguments)});b.init.prototype=b;b.$super=this;return b},create:function(){var a=this.extend();a.init.apply(a,arguments);return a},init:function(){},mixIn:function(a){for(var b in a)a.hasOwnProperty(b)&&(this[b]=a[b]);a.hasOwnProperty("toString")&&(this.toString=a.toString)},clone:function(){return this.init.prototype.extend(this)}},
h=b.WordArray=q.extend({init:function(a,b){a=this.words=a||[];this.sigBytes=b!=f?b:4*a.length},toString:function(a){return(a||x).stringify(this)},concat:function(a){var b=this.words,e=a.words,f=this.sigBytes;a=a.sigBytes;this.clamp();if(f%4)for(var g=0;g<a;g++)b[f+g>>>2]|=(e[g>>>2]>>>24-8*(g%4)&255)<<24-8*((f+g)%4);else if(65535<e.length)for(g=0;g<a;g+=4)b[f+g>>>2]=e[g>>>2];else b.push.apply(b,e);this.sigBytes+=a;return this},clamp:function(){var b=this.words,e=this.sigBytes;b[e>>>2]&=4294967295<<
32-8*(e%4);b.length=a.ceil(e/4)},clone:function(){var a=q.clone.call(this);a.words=this.words.slice(0);return a},random:function(b){for(var e=[],f=0;f<b;f+=4)e.push(4294967296*a.random()|0);return new h.init(e,b)}}),l=g.enc={},x=l.Hex={stringify:function(a){var b=a.words;a=a.sigBytes;for(var e=[],f=0;f<a;f++){var g=b[f>>>2]>>>24-8*(f%4)&255;e.push((g>>>4).toString(16));e.push((g&15).toString(16))}return e.join("")},parse:function(a){for(var b=a.length,e=[],f=0;f<b;f+=2)e[f>>>3]|=parseInt(a.substr(f,
2),16)<<24-4*(f%8);return new h.init(e,b/2)}},w=l.Latin1={stringify:function(a){var b=a.words;a=a.sigBytes;for(var e=[],f=0;f<a;f++)e.push(String.fromCharCode(b[f>>>2]>>>24-8*(f%4)&255));return e.join("")},parse:function(a){for(var b=a.length,e=[],f=0;f<b;f++)e[f>>>2]|=(a.charCodeAt(f)&255)<<24-8*(f%4);return new h.init(e,b)}},z=l.Utf8={stringify:function(a){try{return decodeURIComponent(escape(w.stringify(a)))}catch(b){throw Error("Malformed UTF-8 data");}},parse:function(a){return w.parse(unescape(encodeURIComponent(a)))}},
y=b.BufferedBlockAlgorithm=q.extend({reset:function(){this._data=new h.init;this._nDataBytes=0},_append:function(a){"string"==typeof a&&(a=z.parse(a));this._data.concat(a);this._nDataBytes+=a.sigBytes},_process:function(b){var e=this._data,f=e.words,g=e.sigBytes,l=this.blockSize,q=g/(4*l),q=b?a.ceil(q):a.max((q|0)-this._minBufferSize,0);b=q*l;g=a.min(4*b,g);if(b){for(var w=0;w<b;w+=l)this._doProcessBlock(f,w);w=f.splice(0,b);e.sigBytes-=g}return new h.init(w,g)},clone:function(){var a=q.clone.call(this);
a._data=this._data.clone();return a},_minBufferSize:0});b.Hasher=y.extend({cfg:q.extend(),init:function(a){this.cfg=this.cfg.extend(a);this.reset()},reset:function(){y.reset.call(this);this._doReset()},update:function(a){this._append(a);this._process();return this},finalize:function(a){a&&this._append(a);return this._doFinalize()},blockSize:16,_createHelper:function(a){return function(b,e){return(new a.init(e)).finalize(b)}},_createHmacHelper:function(a){return function(b,e){return(new C.HMAC.init(a,
e)).finalize(b)}}});var C=g.algo={};return g}(Math);
(function(){var a=CryptoJS,f=a.lib,g=f.WordArray,b=f.Hasher,e=[],f=a.algo.SHA1=b.extend({_doReset:function(){this._hash=new g.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(a,b){for(var f=this._hash.words,g=f[0],w=f[1],z=f[2],y=f[3],C=f[4],r=0;80>r;r++){if(16>r)e[r]=a[b+r]|0;else{var D=e[r-3]^e[r-8]^e[r-14]^e[r-16];e[r]=D<<1|D>>>31}D=(g<<5|g>>>27)+C+e[r];D=20>r?D+((w&z|~w&y)+1518500249):40>r?D+((w^z^y)+1859775393):60>r?D+((w&z|w&y|z&y)-1894007588):D+((w^z^
y)-899497514);C=y;y=z;z=w<<30|w>>>2;w=g;g=D}f[0]=f[0]+g|0;f[1]=f[1]+w|0;f[2]=f[2]+z|0;f[3]=f[3]+y|0;f[4]=f[4]+C|0},_doFinalize:function(){var a=this._data,b=a.words,e=8*this._nDataBytes,f=8*a.sigBytes;b[f>>>5]|=128<<24-f%32;b[(f+64>>>9<<4)+14]=Math.floor(e/4294967296);b[(f+64>>>9<<4)+15]=e;a.sigBytes=4*b.length;this._process();return this._hash},clone:function(){var a=b.clone.call(this);a._hash=this._hash.clone();return a}});a.SHA1=b._createHelper(f);a.HmacSHA1=b._createHmacHelper(f)})();(function(){var a=this,f=a._,g={},b=Array.prototype,e=Object.prototype,q=b.push,h=b.slice,l=b.concat,x=e.toString,w=e.hasOwnProperty,z=b.forEach,y=b.map,C=b.reduce,r=b.reduceRight,D=b.filter,t=b.every,E=b.some,I=b.indexOf,H=b.lastIndexOf,e=Array.isArray,J=Object.keys,R=Function.prototype.bind,s=function(a){return a instanceof s?a:this instanceof s?(this._wrapped=a,void 0):new s(a)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=s),exports._=s):a._=
s;s.VERSION="1.4.4";var L=s.each=s.forEach=function(a,b,e){if(null!=a)if(z&&a.forEach===z)a.forEach(b,e);else if(a.length===+a.length)for(var f=0,h=a.length;h>f&&b.call(e,a[f],f,a)!==g;f++);else for(f in a)if(s.has(a,f)&&b.call(e,a[f],f,a)===g)break};s.map=s.collect=function(a,b,e){var f=[];return null==a?f:y&&a.map===y?a.map(b,e):(L(a,function(a,g,h){f[f.length]=b.call(e,a,g,h)}),f)};s.reduce=s.foldl=s.inject=function(a,b,e,f){var g=2<arguments.length;if(null==a&&(a=[]),C&&a.reduce===C)return f&&
(b=s.bind(b,f)),g?a.reduce(b,e):a.reduce(b);if(L(a,function(a,h,l){g?e=b.call(f,e,a,h,l):(e=a,g=!0)}),!g)throw new TypeError("Reduce of empty array with no initial value");return e};s.reduceRight=s.foldr=function(a,b,e,f){var g=2<arguments.length;if(null==a&&(a=[]),r&&a.reduceRight===r)return f&&(b=s.bind(b,f)),g?a.reduceRight(b,e):a.reduceRight(b);var h=a.length;if(h!==+h)var l=s.keys(a),h=l.length;if(L(a,function(q,r,s){r=l?l[--h]:--h;g?e=b.call(f,e,a[r],r,s):(e=a[r],g=!0)}),!g)throw new TypeError("Reduce of empty array with no initial value");
return e};s.find=s.detect=function(a,b,e){var f;return T(a,function(a,g,h){return b.call(e,a,g,h)?(f=a,!0):void 0}),f};s.filter=s.select=function(a,b,e){var f=[];return null==a?f:D&&a.filter===D?a.filter(b,e):(L(a,function(a,g,h){b.call(e,a,g,h)&&(f[f.length]=a)}),f)};s.reject=function(a,b,e){return s.filter(a,function(a,f,g){return!b.call(e,a,f,g)},e)};s.every=s.all=function(a,b,e){b||(b=s.identity);var f=!0;return null==a?f:t&&a.every===t?a.every(b,e):(L(a,function(a,h,l){return(f=f&&b.call(e,a,
h,l))?void 0:g}),!!f)};var T=s.some=s.any=function(a,b,e){b||(b=s.identity);var f=!1;return null==a?f:E&&a.some===E?a.some(b,e):(L(a,function(a,h,l){return f||(f=b.call(e,a,h,l))?g:void 0}),!!f)};s.contains=s.include=function(a,b){return null==a?!1:I&&a.indexOf===I?-1!=a.indexOf(b):T(a,function(a){return a===b})};s.invoke=function(a,b){var e=h.call(arguments,2),f=s.isFunction(b);return s.map(a,function(a){return(f?b:a[b]).apply(a,e)})};s.pluck=function(a,b){return s.map(a,function(a){return a[b]})};
s.where=function(a,b,e){return s.isEmpty(b)?e?null:[]:s[e?"find":"filter"](a,function(a){for(var e in b)if(b[e]!==a[e])return!1;return!0})};s.findWhere=function(a,b){return s.where(a,b,!0)};s.max=function(a,b,e){if(!b&&s.isArray(a)&&a[0]===+a[0]&&65535>a.length)return Math.max.apply(Math,a);if(!b&&s.isEmpty(a))return-1/0;var f={computed:-1/0,value:-1/0};return L(a,function(a,g,h){g=b?b.call(e,a,g,h):a;g>=f.computed&&(f={value:a,computed:g})}),f.value};s.min=function(a,b,e){if(!b&&s.isArray(a)&&a[0]===
+a[0]&&65535>a.length)return Math.min.apply(Math,a);if(!b&&s.isEmpty(a))return 1/0;var f={computed:1/0,value:1/0};return L(a,function(a,g,h){g=b?b.call(e,a,g,h):a;f.computed>g&&(f={value:a,computed:g})}),f.value};s.shuffle=function(a){var b,e=0,f=[];return L(a,function(a){b=s.random(e++);f[e-1]=f[b];f[b]=a}),f};var P=function(a){return s.isFunction(a)?a:function(b){return b[a]}};s.sortBy=function(a,b,e){var f=P(b);return s.pluck(s.map(a,function(a,b,g){return{value:a,index:b,criteria:f.call(e,a,b,
g)}}).sort(function(a,b){var e=a.criteria,f=b.criteria;if(e!==f){if(e>f||void 0===e)return 1;if(f>e||void 0===f)return-1}return a.index<b.index?-1:1}),"value")};var W=function(a,b,e,f){var g={},h=P(b||s.identity);return L(a,function(b,l){var q=h.call(e,b,l,a);f(g,q,b)}),g};s.groupBy=function(a,b,e){return W(a,b,e,function(a,b,e){(s.has(a,b)?a[b]:a[b]=[]).push(e)})};s.countBy=function(a,b,e){return W(a,b,e,function(a,b){s.has(a,b)||(a[b]=0);a[b]++})};s.sortedIndex=function(a,b,e,f){e=null==e?s.identity:
P(e);b=e.call(f,b);for(var g=0,h=a.length;h>g;){var l=g+h>>>1;b>e.call(f,a[l])?g=l+1:h=l}return g};s.toArray=function(a){return a?s.isArray(a)?h.call(a):a.length===+a.length?s.map(a,s.identity):s.values(a):[]};s.size=function(a){return null==a?0:a.length===+a.length?a.length:s.keys(a).length};s.first=s.head=s.take=function(a,b,e){return null==a?void 0:null==b||e?a[0]:h.call(a,0,b)};s.initial=function(a,b,e){return h.call(a,0,a.length-(null==b||e?1:b))};s.last=function(a,b,e){return null==a?void 0:
null==b||e?a[a.length-1]:h.call(a,Math.max(a.length-b,0))};s.rest=s.tail=s.drop=function(a,b,e){return h.call(a,null==b||e?1:b)};s.compact=function(a){return s.filter(a,s.identity)};var N=function(a,b,e){return L(a,function(a){s.isArray(a)?b?q.apply(e,a):N(a,b,e):e.push(a)}),e};s.flatten=function(a,b){return N(a,b,[])};s.without=function(a){return s.difference(a,h.call(arguments,1))};s.uniq=s.unique=function(a,b,e,f){s.isFunction(b)&&(f=e,e=b,b=!1);e=e?s.map(a,e,f):a;var g=[],h=[];return L(e,function(e,
f){(b?f&&h[h.length-1]===e:s.contains(h,e))||(h.push(e),g.push(a[f]))}),g};s.union=function(){return s.uniq(l.apply(b,arguments))};s.intersection=function(a){var b=h.call(arguments,1);return s.filter(s.uniq(a),function(a){return s.every(b,function(b){return 0<=s.indexOf(b,a)})})};s.difference=function(a){var e=l.apply(b,h.call(arguments,1));return s.filter(a,function(a){return!s.contains(e,a)})};s.zip=function(){for(var a=h.call(arguments),b=s.max(s.pluck(a,"length")),e=Array(b),f=0;b>f;f++)e[f]=
s.pluck(a,""+f);return e};s.object=function(a,b){if(null==a)return{};for(var e={},f=0,g=a.length;g>f;f++)b?e[a[f]]=b[f]:e[a[f][0]]=a[f][1];return e};s.indexOf=function(a,b,e){if(null==a)return-1;var f=0,g=a.length;if(e){if("number"!=typeof e)return f=s.sortedIndex(a,b),a[f]===b?f:-1;f=0>e?Math.max(0,g+e):e}if(I&&a.indexOf===I)return a.indexOf(b,e);for(;g>f;f++)if(a[f]===b)return f;return-1};s.lastIndexOf=function(a,b,e){if(null==a)return-1;var f=null!=e;if(H&&a.lastIndexOf===H)return f?a.lastIndexOf(b,
e):a.lastIndexOf(b);for(e=f?e:a.length;e--;)if(a[e]===b)return e;return-1};s.range=function(a,b,e){1>=arguments.length&&(b=a||0,a=0);e=arguments[2]||1;for(var f=Math.max(Math.ceil((b-a)/e),0),g=0,h=Array(f);f>g;)h[g++]=a,a+=e;return h};s.bind=function(a,b){if(a.bind===R&&R)return R.apply(a,h.call(arguments,1));var e=h.call(arguments,2);return function(){return a.apply(b,e.concat(h.call(arguments)))}};s.partial=function(a){var b=h.call(arguments,1);return function(){return a.apply(this,b.concat(h.call(arguments)))}};
s.bindAll=function(a){var b=h.call(arguments,1);return 0===b.length&&(b=s.functions(a)),L(b,function(b){a[b]=s.bind(a[b],a)}),a};s.memoize=function(a,b){var e={};return b||(b=s.identity),function(){var f=b.apply(this,arguments);return s.has(e,f)?e[f]:e[f]=a.apply(this,arguments)}};s.delay=function(a,b){var e=h.call(arguments,2);return setTimeout(function(){return a.apply(null,e)},b)};s.defer=function(a){return s.delay.apply(s,[a,1].concat(h.call(arguments,1)))};s.throttle=function(a,b){var e,f,g,
h,l=0,q=function(){l=new Date;g=null;h=a.apply(e,f)};return function(){var r=new Date,s=b-(r-l);return e=this,f=arguments,0>=s?(clearTimeout(g),g=null,l=r,h=a.apply(e,f)):g||(g=setTimeout(q,s)),h}};s.debounce=function(a,b,e){var f,g;return function(){var h=this,l=arguments,q=e&&!f;return clearTimeout(f),f=setTimeout(function(){f=null;e||(g=a.apply(h,l))},b),q&&(g=a.apply(h,l)),g}};s.once=function(a){var b,e=!1;return function(){return e?b:(e=!0,b=a.apply(this,arguments),a=null,b)}};s.wrap=function(a,
b){return function(){var e=[a];return q.apply(e,arguments),b.apply(this,e)}};s.compose=function(){var a=arguments;return function(){for(var b=arguments,e=a.length-1;0<=e;e--)b=[a[e].apply(this,b)];return b[0]}};s.after=function(a,b){return 0>=a?b():function(){return 1>--a?b.apply(this,arguments):void 0}};s.keys=J||function(a){if(a!==Object(a))throw new TypeError("Invalid object");var b=[],e;for(e in a)s.has(a,e)&&(b[b.length]=e);return b};s.values=function(a){var b=[],e;for(e in a)s.has(a,e)&&b.push(a[e]);
return b};s.pairs=function(a){var b=[],e;for(e in a)s.has(a,e)&&b.push([e,a[e]]);return b};s.invert=function(a){var b={},e;for(e in a)s.has(a,e)&&(b[a[e]]=e);return b};s.functions=s.methods=function(a){var b=[],e;for(e in a)s.isFunction(a[e])&&b.push(e);return b.sort()};s.extend=function(a){return L(h.call(arguments,1),function(b){if(b)for(var e in b)a[e]=b[e]}),a};s.pick=function(a){var e={},f=l.apply(b,h.call(arguments,1));return L(f,function(b){b in a&&(e[b]=a[b])}),e};s.omit=function(a){var e=
{},f=l.apply(b,h.call(arguments,1)),g;for(g in a)s.contains(f,g)||(e[g]=a[g]);return e};s.defaults=function(a){return L(h.call(arguments,1),function(b){if(b)for(var e in b)null==a[e]&&(a[e]=b[e])}),a};s.clone=function(a){return s.isObject(a)?s.isArray(a)?a.slice():s.extend({},a):a};s.tap=function(a,b){return b(a),a};var O=function(a,b,e,f){if(a===b)return 0!==a||1/a==1/b;if(null==a||null==b)return a===b;a instanceof s&&(a=a._wrapped);b instanceof s&&(b=b._wrapped);var g=x.call(a);if(g!=x.call(b))return!1;
switch(g){case "[object String]":return a==b+"";case "[object Number]":return a!=+a?b!=+b:0==a?1/a==1/b:a==+b;case "[object Date]":case "[object Boolean]":return+a==+b;case "[object RegExp]":return a.source==b.source&&a.global==b.global&&a.multiline==b.multiline&&a.ignoreCase==b.ignoreCase}if("object"!=typeof a||"object"!=typeof b)return!1;for(var h=e.length;h--;)if(e[h]==a)return f[h]==b;e.push(a);f.push(b);var h=0,l=!0;if("[object Array]"==g){if(h=a.length,l=h==b.length)for(;h--&&(l=O(a[h],b[h],
e,f)););}else{var g=a.constructor,q=b.constructor;if(g!==q&&(!s.isFunction(g)||!(g instanceof g&&s.isFunction(q)&&q instanceof q)))return!1;for(var r in a)if(s.has(a,r)&&(h++,!(l=s.has(b,r)&&O(a[r],b[r],e,f))))break;if(l){for(r in b)if(s.has(b,r)&&!h--)break;l=!h}}return e.pop(),f.pop(),l};s.isEqual=function(a,b){return O(a,b,[],[])};s.isEmpty=function(a){if(null==a)return!0;if(s.isArray(a)||s.isString(a))return 0===a.length;for(var b in a)if(s.has(a,b))return!1;return!0};s.isElement=function(a){return!(!a||
1!==a.nodeType)};s.isArray=e||function(a){return"[object Array]"==x.call(a)};s.isObject=function(a){return a===Object(a)};L("Arguments Function String Number Date RegExp".split(" "),function(a){s["is"+a]=function(b){return x.call(b)=="[object "+a+"]"}});s.isArguments(arguments)||(s.isArguments=function(a){return!(!a||!s.has(a,"callee"))});"function"!=typeof/./&&(s.isFunction=function(a){return"function"==typeof a});s.isFinite=function(a){return isFinite(a)&&!isNaN(parseFloat(a))};s.isNaN=function(a){return s.isNumber(a)&&
a!=+a};s.isBoolean=function(a){return!0===a||!1===a||"[object Boolean]"==x.call(a)};s.isNull=function(a){return null===a};s.isUndefined=function(a){return void 0===a};s.has=function(a,b){return w.call(a,b)};s.noConflict=function(){return a._=f,this};s.identity=function(a){return a};s.times=function(a,b,e){for(var f=Array(a),g=0;a>g;g++)f[g]=b.call(e,g);return f};s.random=function(a,b){return null==b&&(b=a,a=0),a+Math.floor(Math.random()*(b-a+1))};var ba={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",
'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};ba.unescape=s.invert(ba.escape);var ta={escape:RegExp("["+s.keys(ba.escape).join("")+"]","g"),unescape:RegExp("("+s.keys(ba.unescape).join("|")+")","g")};s.each(["escape","unescape"],function(a){s[a]=function(b){return null==b?"":(""+b).replace(ta[a],function(b){return ba[a][b]})}});s.result=function(a,b){if(null==a)return null;var e=a[b];return s.isFunction(e)?e.call(a):e};s.mixin=function(a){L(s.functions(a),function(b){var e=s[b]=a[b];s.prototype[b]=function(){var a=
[this._wrapped];q.apply(a,arguments);a=e.apply(s,a);return this._chain?s(a).chain():a}})};var Y=0;s.uniqueId=function(a){var b=++Y+"";return a?a+b:b};s.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var ua=/(.)^/,Ea={"'":"'","\\":"\\","\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"},Ja=/\\|'|\r|\n|\t|\u2028|\u2029/g;s.template=function(a,b,e){var f;e=s.defaults({},e,s.templateSettings);var g=RegExp([(e.escape||ua).source,(e.interpolate||
ua).source,(e.evaluate||ua).source].join("|")+"|$","g"),h=0,l="__p+='";a.replace(g,function(b,e,f,g,q){return l+=a.slice(h,q).replace(Ja,function(a){return"\\"+Ea[a]}),e&&(l+="'+\n((__t=("+e+"))==null?'':_.escape(__t))+\n'"),f&&(l+="'+\n((__t=("+f+"))==null?'':__t)+\n'"),g&&(l+="';\n"+g+"\n__p+='"),h=q+b.length,b});l+="';\n";e.variable||(l="with(obj||{}){\n"+l+"}\n");l="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+l+"return __p;\n";try{f=Function(e.variable||
"obj","_",l)}catch(q){throw q.source=l,q;}if(b)return f(b,s);b=function(a){return f.call(this,a,s)};return b.source="function("+(e.variable||"obj")+"){\n"+l+"}",b};s.chain=function(a){return s(a).chain()};s.mixin(s);L("pop push reverse shift sort splice unshift".split(" "),function(a){var e=b[a];s.prototype[a]=function(){var b=this._wrapped;return e.apply(b,arguments),"shift"!=a&&"splice"!=a||0!==b.length||delete b[0],this._chain?s(b).chain():b}});L(["concat","join","slice"],function(a){var e=b[a];
s.prototype[a]=function(){var a=e.apply(this._wrapped,arguments);return this._chain?s(a).chain():a}});s.extend(s.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}).call(this);
